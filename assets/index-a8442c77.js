var oO=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var d8=oO((Gt,Jt)=>{function sO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var k0={exports:{}},Eu={},x0={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),lO=Symbol.for("react.portal"),aO=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),cO=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),dO=Symbol.for("react.context"),hO=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),mO=Symbol.for("react.memo"),gO=Symbol.for("react.lazy"),Om=Symbol.iterator;function yO(t){return t===null||typeof t!="object"?null:(t=Om&&t[Om]||t["@@iterator"],typeof t=="function"?t:null)}var T0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A0=Object.assign,_0={};function qo(t,e,n){this.props=t,this.context=e,this.refs=_0,this.updater=n||T0}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C0(){}C0.prototype=qo.prototype;function _h(t,e,n){this.props=t,this.context=e,this.refs=_0,this.updater=n||T0}var Ch=_h.prototype=new C0;Ch.constructor=_h;A0(Ch,qo.prototype);Ch.isPureReactComponent=!0;var km=Array.isArray,N0=Object.prototype.hasOwnProperty,Nh={current:null},M0={key:!0,ref:!0,__self:!0,__source:!0};function P0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)N0.call(e,r)&&!M0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vl,type:t,key:o,ref:s,props:i,_owner:Nh.current}}function vO(t,e){return{$$typeof:vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mh(t){return typeof t=="object"&&t!==null&&t.$$typeof===vl}function bO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xm=/\/+/g;function Lc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bO(""+t.key):e.toString(36)}function ia(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case vl:case lO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Lc(s,0):r,km(i)?(n="",t!=null&&(n=t.replace(xm,"$&/")+"/"),ia(i,e,n,"",function(u){return u})):i!=null&&(Mh(i)&&(i=vO(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(xm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",km(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Lc(o,l);s+=ia(o,e,n,a,i)}else if(a=yO(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Lc(o,l++),s+=ia(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Rl(t,e,n){if(t==null)return t;var r=[],i=0;return ia(t,r,"","",function(o){return e.call(n,o,i++)}),r}function wO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},oa={transition:null},SO={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:oa,ReactCurrentOwner:Nh};ke.Children={map:Rl,forEach:function(t,e,n){Rl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rl(t,function(){e++}),e},toArray:function(t){return Rl(t,function(e){return e})||[]},only:function(t){if(!Mh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=qo;ke.Fragment=aO;ke.Profiler=cO;ke.PureComponent=_h;ke.StrictMode=uO;ke.Suspense=pO;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SO;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=A0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Nh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)N0.call(e,a)&&!M0.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vl,type:t.type,key:i,ref:o,props:r,_owner:s}};ke.createContext=function(t){return t={$$typeof:dO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fO,_context:t},t.Consumer=t};ke.createElement=P0;ke.createFactory=function(t){var e=P0.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:hO,render:t}};ke.isValidElement=Mh;ke.lazy=function(t){return{$$typeof:gO,_payload:{_status:-1,_result:t},_init:wO}};ke.memo=function(t,e){return{$$typeof:mO,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=oa.transition;oa.transition={};try{t()}finally{oa.transition=e}};ke.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ke.useCallback=function(t,e){return Ct.current.useCallback(t,e)};ke.useContext=function(t){return Ct.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};ke.useEffect=function(t,e){return Ct.current.useEffect(t,e)};ke.useId=function(){return Ct.current.useId()};ke.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return Ct.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};ke.useRef=function(t){return Ct.current.useRef(t)};ke.useState=function(t){return Ct.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return Ct.current.useTransition()};ke.version="18.2.0";x0.exports=ke;var G=x0.exports;const it=Su(G),EO=sO({__proto__:null,default:it},[G]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO=G,kO=Symbol.for("react.element"),xO=Symbol.for("react.fragment"),TO=Object.prototype.hasOwnProperty,AO=OO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_O={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)TO.call(e,r)&&!_O.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kO,type:t,key:o,ref:s,props:i,_owner:AO.current}}Eu.Fragment=xO;Eu.jsx=R0;Eu.jsxs=R0;k0.exports=Eu;var ae=k0.exports,Wf={},L0={exports:{}},en={},I0={exports:{}},D0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,j){var L=U.length;U.push(j);e:for(;0<L;){var C=L-1>>>1,R=U[C];if(0<i(R,j))U[C]=j,U[L]=R,L=C;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],L=U.pop();if(L!==j){U[0]=L;e:for(var C=0,R=U.length,D=R>>>1;C<D;){var V=2*(C+1)-1,z=U[V],P=V+1,B=U[P];if(0>i(z,L))P<R&&0>i(B,z)?(U[C]=B,U[P]=L,C=P):(U[C]=z,U[V]=L,C=V);else if(P<R&&0>i(B,L))U[C]=B,U[P]=L,C=P;else break e}}return j}function i(U,j){var L=U.sortIndex-j.sortIndex;return L!==0?L:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,h=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,e(a,j);else break;j=n(u)}}function g(U){if(v=!1,w(U),!p)if(n(a)!==null)p=!0,F(S);else{var j=n(u);j!==null&&q(g,j.startTime-U)}}function S(U,j){p=!1,v&&(v=!1,m(k),k=-1),h=!0;var L=f;try{for(w(j),d=n(a);d!==null&&(!(d.expirationTime>j)||U&&!x());){var C=d.callback;if(typeof C=="function"){d.callback=null,f=d.priorityLevel;var R=C(d.expirationTime<=j);j=t.unstable_now(),typeof R=="function"?d.callback=R:d===n(a)&&r(a),w(j)}else r(a);d=n(a)}if(d!==null)var D=!0;else{var V=n(u);V!==null&&q(g,V.startTime-j),D=!1}return D}finally{d=null,f=L,h=!1}}var E=!1,O=null,k=-1,_=5,T=-1;function x(){return!(t.unstable_now()-T<_)}function A(){if(O!==null){var U=t.unstable_now();T=U;var j=!0;try{j=O(!0,U)}finally{j?N():(E=!1,O=null)}}else E=!1}var N;if(typeof y=="function")N=function(){y(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,I=M.port2;M.port1.onmessage=A,N=function(){I.postMessage(null)}}else N=function(){b(A,0)};function F(U){O=U,E||(E=!0,N())}function q(U,j){k=b(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,F(S))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var L=f;f=j;try{return U()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var L=f;f=U;try{return j()}finally{f=L}},t.unstable_scheduleCallback=function(U,j,L){var C=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?C+L:C):L=C,U){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,U={id:c++,callback:j,priorityLevel:U,startTime:L,expirationTime:R,sortIndex:-1},L>C?(U.sortIndex=L,e(u,U),n(a)===null&&U===n(u)&&(v?(m(k),k=-1):v=!0,q(g,L-C))):(U.sortIndex=R,e(a,U),p||h||(p=!0,F(S))),U},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(U){var j=f;return function(){var L=f;f=j;try{return U.apply(this,arguments)}finally{f=L}}}})(D0);I0.exports=D0;var CO=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=G,Qt=CO;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j0=new Set,qs={};function $i(t,e){Eo(t,e),Eo(t+"Capture",e)}function Eo(t,e){for(qs[t]=e,t=0;t<e.length;t++)j0.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=Object.prototype.hasOwnProperty,NO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tm={},Am={};function MO(t){return Kf.call(Am,t)?!0:Kf.call(Tm,t)?!1:NO.test(t)?Am[t]=!0:(Tm[t]=!0,!1)}function PO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RO(t,e,n,r){if(e===null||typeof e>"u"||PO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ph=/[\-:]([a-z])/g;function Rh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ph,Rh);mt[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ph,Rh);mt[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ph,Rh);mt[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lh(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RO(e,n,i,r)&&(n=null),r||i===null?MO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hr=$0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ll=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),B0=Symbol.for("react.provider"),F0=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),$h=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),z0=Symbol.for("react.offscreen"),_m=Symbol.iterator;function rs(t){return t===null||typeof t!="object"?null:(t=_m&&t[_m]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Ic;function vs(t){if(Ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ic=e&&e[1]||""}return`
`+Ic+t}var Dc=!1;function $c(t,e){if(!t||Dc)return"";Dc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Dc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vs(t):""}function LO(t){switch(t.tag){case 5:return vs(t.type);case 16:return vs("Lazy");case 13:return vs("Suspense");case 19:return vs("SuspenseList");case 0:case 2:case 15:return t=$c(t.type,!1),t;case 11:return t=$c(t.type.render,!1),t;case 1:return t=$c(t.type,!0),t;default:return""}}function Qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case Qi:return"Portal";case Gf:return"Profiler";case Ih:return"StrictMode";case Jf:return"Suspense";case Yf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case F0:return(t.displayName||"Context")+".Consumer";case B0:return(t._context.displayName||"Context")+".Provider";case Dh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $h:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case br:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}function IO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(e);case 8:return e===Ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DO(t){var e=q0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Il(t){t._valueTracker||(t._valueTracker=DO(t))}function U0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ta(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V0(t,e){e=e.checked,e!=null&&Lh(t,"checked",e,!1)}function Zf(t,e){V0(t,e);var n=Ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ed(t,e.type,n):e.hasOwnProperty("defaultValue")&&ed(t,e.type,Ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ed(t,e,n){(e!=="number"||Ta(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bs=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function td(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(bs(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ur(n)}}function H0(t,e){var n=Ur(e.value),r=Ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,K0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$O=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(t){$O.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xs[e]=xs[t]})});function G0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xs.hasOwnProperty(t)&&xs[t]?(""+e).trim():e+"px"}function J0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jO=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rd(t,e){if(e){if(jO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function id(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var od=null;function jh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sd=null,ho=null,po=null;function Rm(t){if(t=Sl(t)){if(typeof sd!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Au(e),sd(t.stateNode,t.type,e))}}function Y0(t){ho?po?po.push(t):po=[t]:ho=t}function Q0(){if(ho){var t=ho,e=po;if(po=ho=null,Rm(t),e)for(t=0;t<e.length;t++)Rm(e[t])}}function X0(t,e){return t(e)}function Z0(){}var jc=!1;function e1(t,e,n){if(jc)return t(e,n);jc=!0;try{return X0(t,e,n)}finally{jc=!1,(ho!==null||po!==null)&&(Z0(),Q0())}}function Vs(t,e){var n=t.stateNode;if(n===null)return null;var r=Au(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var ld=!1;if(ar)try{var is={};Object.defineProperty(is,"passive",{get:function(){ld=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{ld=!1}function BO(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ts=!1,Aa=null,_a=!1,ad=null,FO={onError:function(t){Ts=!0,Aa=t}};function zO(t,e,n,r,i,o,s,l,a){Ts=!1,Aa=null,BO.apply(FO,arguments)}function qO(t,e,n,r,i,o,s,l,a){if(zO.apply(this,arguments),Ts){if(Ts){var u=Aa;Ts=!1,Aa=null}else throw Error(re(198));_a||(_a=!0,ad=u)}}function ji(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function t1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lm(t){if(ji(t)!==t)throw Error(re(188))}function UO(t){var e=t.alternate;if(!e){if(e=ji(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Lm(i),t;if(o===r)return Lm(i),e;o=o.sibling}throw Error(re(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function n1(t){return t=UO(t),t!==null?r1(t):null}function r1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=r1(t);if(e!==null)return e;t=t.sibling}return null}var i1=Qt.unstable_scheduleCallback,Im=Qt.unstable_cancelCallback,VO=Qt.unstable_shouldYield,HO=Qt.unstable_requestPaint,Ke=Qt.unstable_now,WO=Qt.unstable_getCurrentPriorityLevel,Bh=Qt.unstable_ImmediatePriority,o1=Qt.unstable_UserBlockingPriority,Ca=Qt.unstable_NormalPriority,KO=Qt.unstable_LowPriority,s1=Qt.unstable_IdlePriority,Ou=null,Un=null;function GO(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Ou,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:QO,JO=Math.log,YO=Math.LN2;function QO(t){return t>>>=0,t===0?32:31-(JO(t)/YO|0)|0}var $l=64,jl=4194304;function ws(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Na(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ws(l):(o&=s,o!==0&&(r=ws(o)))}else s=n&~i,s!==0?r=ws(s):o!==0&&(r=ws(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cn(e),i=1<<n,r|=t[n],e&=~i;return r}function XO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Cn(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=XO(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function ud(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function l1(){var t=$l;return $l<<=1,!($l&4194240)&&($l=64),t}function Bc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=n}function ek(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Fh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function a1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u1,zh,c1,f1,d1,cd=!1,Bl=[],Mr=null,Pr=null,Rr=null,Hs=new Map,Ws=new Map,Er=[],tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dm(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Hs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function ss(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Sl(e),e!==null&&zh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nk(t,e,n,r,i){switch(e){case"focusin":return Mr=ss(Mr,t,e,n,r,i),!0;case"dragenter":return Pr=ss(Pr,t,e,n,r,i),!0;case"mouseover":return Rr=ss(Rr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hs.set(o,ss(Hs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ws.set(o,ss(Ws.get(o)||null,t,e,n,r,i)),!0}return!1}function h1(t){var e=fi(t.target);if(e!==null){var n=ji(e);if(n!==null){if(e=n.tag,e===13){if(e=t1(n),e!==null){t.blockedOn=e,d1(t.priority,function(){c1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);od=r,n.target.dispatchEvent(r),od=null}else return e=Sl(n),e!==null&&zh(e),t.blockedOn=n,!1;e.shift()}return!0}function $m(t,e,n){sa(t)&&n.delete(e)}function rk(){cd=!1,Mr!==null&&sa(Mr)&&(Mr=null),Pr!==null&&sa(Pr)&&(Pr=null),Rr!==null&&sa(Rr)&&(Rr=null),Hs.forEach($m),Ws.forEach($m)}function ls(t,e){t.blockedOn===e&&(t.blockedOn=null,cd||(cd=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,rk)))}function Ks(t){function e(i){return ls(i,t)}if(0<Bl.length){ls(Bl[0],t);for(var n=1;n<Bl.length;n++){var r=Bl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&ls(Mr,t),Pr!==null&&ls(Pr,t),Rr!==null&&ls(Rr,t),Hs.forEach(e),Ws.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)h1(n),n.blockedOn===null&&Er.shift()}var mo=hr.ReactCurrentBatchConfig,Ma=!0;function ik(t,e,n,r){var i=Ce,o=mo.transition;mo.transition=null;try{Ce=1,qh(t,e,n,r)}finally{Ce=i,mo.transition=o}}function ok(t,e,n,r){var i=Ce,o=mo.transition;mo.transition=null;try{Ce=4,qh(t,e,n,r)}finally{Ce=i,mo.transition=o}}function qh(t,e,n,r){if(Ma){var i=fd(t,e,n,r);if(i===null)Jc(t,e,r,Pa,n),Dm(t,r);else if(nk(i,t,e,n,r))r.stopPropagation();else if(Dm(t,r),e&4&&-1<tk.indexOf(t)){for(;i!==null;){var o=Sl(i);if(o!==null&&u1(o),o=fd(t,e,n,r),o===null&&Jc(t,e,r,Pa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Jc(t,e,r,null,n)}}var Pa=null;function fd(t,e,n,r){if(Pa=null,t=jh(r),t=fi(t),t!==null)if(e=ji(t),e===null)t=null;else if(n=e.tag,n===13){if(t=t1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pa=t,null}function p1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WO()){case Bh:return 1;case o1:return 4;case Ca:case KO:return 16;case s1:return 536870912;default:return 16}default:return 16}}var xr=null,Uh=null,la=null;function m1(){if(la)return la;var t,e=Uh,n=e.length,r,i="value"in xr?xr.value:xr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return la=i.slice(t,1<r?1-r:void 0)}function aa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fl(){return!0}function jm(){return!1}function tn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fl:jm,this.isPropagationStopped=jm,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vh=tn(Uo),wl=Ue({},Uo,{view:0,detail:0}),sk=tn(wl),Fc,zc,as,ku=Ue({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==as&&(as&&t.type==="mousemove"?(Fc=t.screenX-as.screenX,zc=t.screenY-as.screenY):zc=Fc=0,as=t),Fc)},movementY:function(t){return"movementY"in t?t.movementY:zc}}),Bm=tn(ku),lk=Ue({},ku,{dataTransfer:0}),ak=tn(lk),uk=Ue({},wl,{relatedTarget:0}),qc=tn(uk),ck=Ue({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),fk=tn(ck),dk=Ue({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hk=tn(dk),pk=Ue({},Uo,{data:0}),Fm=tn(pk),mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yk[t])?!!e[t]:!1}function Hh(){return vk}var bk=Ue({},wl,{key:function(t){if(t.key){var e=mk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=aa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hh,charCode:function(t){return t.type==="keypress"?aa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?aa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wk=tn(bk),Sk=Ue({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=tn(Sk),Ek=Ue({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hh}),Ok=tn(Ek),kk=Ue({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),xk=tn(kk),Tk=Ue({},ku,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ak=tn(Tk),_k=[9,13,27,32],Wh=ar&&"CompositionEvent"in window,As=null;ar&&"documentMode"in document&&(As=document.documentMode);var Ck=ar&&"TextEvent"in window&&!As,g1=ar&&(!Wh||As&&8<As&&11>=As),qm=String.fromCharCode(32),Um=!1;function y1(t,e){switch(t){case"keyup":return _k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zi=!1;function Nk(t,e){switch(t){case"compositionend":return v1(e);case"keypress":return e.which!==32?null:(Um=!0,qm);case"textInput":return t=e.data,t===qm&&Um?null:t;default:return null}}function Mk(t,e){if(Zi)return t==="compositionend"||!Wh&&y1(t,e)?(t=m1(),la=Uh=xr=null,Zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g1&&e.locale!=="ko"?null:e.data;default:return null}}var Pk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pk[t.type]:e==="textarea"}function b1(t,e,n,r){Y0(r),e=Ra(e,"onChange"),0<e.length&&(n=new Vh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _s=null,Gs=null;function Rk(t){N1(t,0)}function xu(t){var e=no(t);if(U0(e))return t}function Lk(t,e){if(t==="change")return e}var w1=!1;if(ar){var Uc;if(ar){var Vc="oninput"in document;if(!Vc){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),Vc=typeof Hm.oninput=="function"}Uc=Vc}else Uc=!1;w1=Uc&&(!document.documentMode||9<document.documentMode)}function Wm(){_s&&(_s.detachEvent("onpropertychange",S1),Gs=_s=null)}function S1(t){if(t.propertyName==="value"&&xu(Gs)){var e=[];b1(e,Gs,t,jh(t)),e1(Rk,e)}}function Ik(t,e,n){t==="focusin"?(Wm(),_s=e,Gs=n,_s.attachEvent("onpropertychange",S1)):t==="focusout"&&Wm()}function Dk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Gs)}function $k(t,e){if(t==="click")return xu(e)}function jk(t,e){if(t==="input"||t==="change")return xu(e)}function Bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:Bk;function Js(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kf.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gm(t,e){var n=Km(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Km(n)}}function E1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O1(){for(var t=window,e=Ta();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ta(t.document)}return e}function Kh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Fk(t){var e=O1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&E1(n.ownerDocument.documentElement,n)){if(r!==null&&Kh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Gm(n,o);var s=Gm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zk=ar&&"documentMode"in document&&11>=document.documentMode,eo=null,dd=null,Cs=null,hd=!1;function Jm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hd||eo==null||eo!==Ta(r)||(r=eo,"selectionStart"in r&&Kh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&Js(Cs,r)||(Cs=r,r=Ra(dd,"onSelect"),0<r.length&&(e=new Vh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=eo)))}function zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var to={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Hc={},k1={};ar&&(k1=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Tu(t){if(Hc[t])return Hc[t];if(!to[t])return t;var e=to[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in k1)return Hc[t]=e[n];return t}var x1=Tu("animationend"),T1=Tu("animationiteration"),A1=Tu("animationstart"),_1=Tu("transitionend"),C1=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(t,e){C1.set(t,e),$i(e,[t])}for(var Wc=0;Wc<Ym.length;Wc++){var Kc=Ym[Wc],qk=Kc.toLowerCase(),Uk=Kc[0].toUpperCase()+Kc.slice(1);Kr(qk,"on"+Uk)}Kr(x1,"onAnimationEnd");Kr(T1,"onAnimationIteration");Kr(A1,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(_1,"onTransitionEnd");Eo("onMouseEnter",["mouseout","mouseover"]);Eo("onMouseLeave",["mouseout","mouseover"]);Eo("onPointerEnter",["pointerout","pointerover"]);Eo("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function Qm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qO(r,e,void 0,t),t.currentTarget=null}function N1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Qm(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Qm(i,l,u),o=a}}}if(_a)throw t=ad,_a=!1,ad=null,t}function De(t,e){var n=e[vd];n===void 0&&(n=e[vd]=new Set);var r=t+"__bubble";n.has(r)||(M1(e,t,2,!1),n.add(r))}function Gc(t,e,n){var r=0;e&&(r|=4),M1(n,t,r,e)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Ys(t){if(!t[ql]){t[ql]=!0,j0.forEach(function(n){n!=="selectionchange"&&(Vk.has(n)||Gc(n,!1,t),Gc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ql]||(e[ql]=!0,Gc("selectionchange",!1,e))}}function M1(t,e,n,r){switch(p1(e)){case 1:var i=ik;break;case 4:i=ok;break;default:i=qh}n=i.bind(null,e,n,t),i=void 0,!ld||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=fi(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}e1(function(){var u=o,c=jh(n),d=[];e:{var f=C1.get(t);if(f!==void 0){var h=Vh,p=t;switch(t){case"keypress":if(aa(n)===0)break e;case"keydown":case"keyup":h=wk;break;case"focusin":p="focus",h=qc;break;case"focusout":p="blur",h=qc;break;case"beforeblur":case"afterblur":h=qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Ok;break;case x1:case T1:case A1:h=fk;break;case _1:h=xk;break;case"scroll":h=sk;break;case"wheel":h=Ak;break;case"copy":case"cut":case"paste":h=hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=zm}var v=(e&4)!==0,b=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,w;y!==null;){w=y;var g=w.stateNode;if(w.tag===5&&g!==null&&(w=g,m!==null&&(g=Vs(y,m),g!=null&&v.push(Qs(y,g,w)))),b)break;y=y.return}0<v.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==od&&(p=n.relatedTarget||n.fromElement)&&(fi(p)||p[ur]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?fi(p):null,p!==null&&(b=ji(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(v=Bm,g="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=zm,g="onPointerLeave",m="onPointerEnter",y="pointer"),b=h==null?f:no(h),w=p==null?f:no(p),f=new v(g,y+"leave",h,n,c),f.target=b,f.relatedTarget=w,g=null,fi(c)===u&&(v=new v(m,y+"enter",p,n,c),v.target=w,v.relatedTarget=b,g=v),b=g,h&&p)t:{for(v=h,m=p,y=0,w=v;w;w=Hi(w))y++;for(w=0,g=m;g;g=Hi(g))w++;for(;0<y-w;)v=Hi(v),y--;for(;0<w-y;)m=Hi(m),w--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=Hi(v),m=Hi(m)}v=null}else v=null;h!==null&&Xm(d,f,h,v,!1),p!==null&&b!==null&&Xm(d,b,p,v,!0)}}e:{if(f=u?no(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=Lk;else if(Vm(f))if(w1)S=jk;else{S=Dk;var E=Ik}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=$k);if(S&&(S=S(t,u))){b1(d,S,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&ed(f,"number",f.value)}switch(E=u?no(u):window,t){case"focusin":(Vm(E)||E.contentEditable==="true")&&(eo=E,dd=u,Cs=null);break;case"focusout":Cs=dd=eo=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Jm(d,n,c);break;case"selectionchange":if(zk)break;case"keydown":case"keyup":Jm(d,n,c)}var O;if(Wh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zi?y1(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(g1&&n.locale!=="ko"&&(Zi||k!=="onCompositionStart"?k==="onCompositionEnd"&&Zi&&(O=m1()):(xr=c,Uh="value"in xr?xr.value:xr.textContent,Zi=!0)),E=Ra(u,k),0<E.length&&(k=new Fm(k,t,null,n,c),d.push({event:k,listeners:E}),O?k.data=O:(O=v1(n),O!==null&&(k.data=O)))),(O=Ck?Nk(t,n):Mk(t,n))&&(u=Ra(u,"onBeforeInput"),0<u.length&&(c=new Fm("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}N1(d,e)})}function Qs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ra(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Vs(t,n),o!=null&&r.unshift(Qs(t,o,i)),o=Vs(t,e),o!=null&&r.push(Qs(t,o,i))),t=t.return}return r}function Hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Vs(n,o),a!=null&&s.unshift(Qs(n,a,l))):i||(a=Vs(n,o),a!=null&&s.push(Qs(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Hk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function Zm(t){return(typeof t=="string"?t:""+t).replace(Hk,`
`).replace(Wk,"")}function Ul(t,e,n){if(e=Zm(e),Zm(t)!==e&&n)throw Error(re(425))}function La(){}var pd=null,md=null;function gd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,Gk=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(t){return eg.resolve(null).then(t).catch(Jk)}:yd;function Jk(t){setTimeout(function(){throw t})}function Yc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ks(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ks(e)}function Lr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Vo,Xs="__reactProps$"+Vo,ur="__reactContainer$"+Vo,vd="__reactEvents$"+Vo,Yk="__reactListeners$"+Vo,Qk="__reactHandles$"+Vo;function fi(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ur]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tg(t);t!==null;){if(n=t[Bn])return n;t=tg(t)}return e}t=n,n=t.parentNode}return null}function Sl(t){return t=t[Bn]||t[ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function no(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Au(t){return t[Xs]||null}var bd=[],ro=-1;function Gr(t){return{current:t}}function Be(t){0>ro||(t.current=bd[ro],bd[ro]=null,ro--)}function Ie(t,e){ro++,bd[ro]=t.current,t.current=e}var Vr={},St=Gr(Vr),Lt=Gr(!1),Ai=Vr;function Oo(t,e){var n=t.type.contextTypes;if(!n)return Vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function It(t){return t=t.childContextTypes,t!=null}function Ia(){Be(Lt),Be(St)}function ng(t,e,n){if(St.current!==Vr)throw Error(re(168));Ie(St,e),Ie(Lt,n)}function P1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(re(108,IO(t)||"Unknown",i));return Ue({},n,r)}function Da(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,Ai=St.current,Ie(St,t),Ie(Lt,Lt.current),!0}function rg(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=P1(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Be(Lt),Be(St),Ie(St,t)):Be(Lt),Ie(Lt,n)}var nr=null,_u=!1,Qc=!1;function R1(t){nr===null?nr=[t]:nr.push(t)}function Xk(t){_u=!0,R1(t)}function Jr(){if(!Qc&&nr!==null){Qc=!0;var t=0,e=Ce;try{var n=nr;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,_u=!1}catch(i){throw nr!==null&&(nr=nr.slice(t+1)),i1(Bh,Jr),i}finally{Ce=e,Qc=!1}}return null}var io=[],oo=0,$a=null,ja=0,un=[],cn=0,_i=null,rr=1,ir="";function ri(t,e){io[oo++]=ja,io[oo++]=$a,$a=t,ja=e}function L1(t,e,n){un[cn++]=rr,un[cn++]=ir,un[cn++]=_i,_i=t;var r=rr;t=ir;var i=32-Cn(r)-1;r&=~(1<<i),n+=1;var o=32-Cn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,rr=1<<32-Cn(e)+i|n<<i|r,ir=o+t}else rr=1<<o|n<<i|r,ir=t}function Gh(t){t.return!==null&&(ri(t,1),L1(t,1,0))}function Jh(t){for(;t===$a;)$a=io[--oo],io[oo]=null,ja=io[--oo],io[oo]=null;for(;t===_i;)_i=un[--cn],un[cn]=null,ir=un[--cn],un[cn]=null,rr=un[--cn],un[cn]=null}var Yt=null,Wt=null,Fe=!1,kn=null;function I1(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ig(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Wt=Lr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_i!==null?{id:rr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Wt=null,!0):!1;default:return!1}}function wd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sd(t){if(Fe){var e=Wt;if(e){var n=e;if(!ig(t,e)){if(wd(t))throw Error(re(418));e=Lr(n.nextSibling);var r=Yt;e&&ig(t,e)?I1(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Yt=t)}}else{if(wd(t))throw Error(re(418));t.flags=t.flags&-4097|2,Fe=!1,Yt=t}}}function og(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function Vl(t){if(t!==Yt)return!1;if(!Fe)return og(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gd(t.type,t.memoizedProps)),e&&(e=Wt)){if(wd(t))throw D1(),Error(re(418));for(;e;)I1(t,e),e=Lr(e.nextSibling)}if(og(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Lr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Yt?Lr(t.stateNode.nextSibling):null;return!0}function D1(){for(var t=Wt;t;)t=Lr(t.nextSibling)}function ko(){Wt=Yt=null,Fe=!1}function Yh(t){kn===null?kn=[t]:kn.push(t)}var Zk=hr.ReactCurrentBatchConfig;function En(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ba=Gr(null),Fa=null,so=null,Qh=null;function Xh(){Qh=so=Fa=null}function Zh(t){var e=Ba.current;Be(Ba),t._currentValue=e}function Ed(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){Fa=t,Qh=so=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Qh!==t)if(t={context:t,memoizedValue:e,next:null},so===null){if(Fa===null)throw Error(re(308));so=t,Fa.dependencies={lanes:0,firstContext:t}}else so=so.next=t;return e}var di=null;function ep(t){di===null?di=[t]:di.push(t)}function $1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ep(e)):(n.next=i.next,i.next=n),e.interleaved=n,cr(t,r)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function tp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cr(t,n)}return i=r.interleaved,i===null?(e.next=e,ep(r)):(e.next=i.next,i.next=e),r.interleaved=e,cr(t,n)}function ua(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fh(t,n)}}function sg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function za(t,e,n,r){var i=t.updateQueue;wr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,h=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,v=l;switch(f=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Ue({},d,f);break e;case 2:wr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else h={eventTime:h,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=d):c=c.next=h,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ni|=s,t.lanes=s,t.memoizedState=d}}function lg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(re(191,i));i.call(r)}}}var B1=new $0.Component().refs;function Od(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cu={isMounted:function(t){return(t=t._reactInternals)?ji(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),i=$r(t),o=or(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ir(t,o,i),e!==null&&(Nn(e,t,i,r),ua(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),i=$r(t),o=or(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ir(t,o,i),e!==null&&(Nn(e,t,i,r),ua(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=$r(t),i=or(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ir(t,i,r),e!==null&&(Nn(e,t,r,n),ua(e,t,r))}};function ag(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Js(n,r)||!Js(i,o):!0}function F1(t,e,n){var r=!1,i=Vr,o=e.contextType;return typeof o=="object"&&o!==null?o=yn(o):(i=It(e)?Ai:St.current,r=e.contextTypes,o=(r=r!=null)?Oo(t,i):Vr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ug(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cu.enqueueReplaceState(e,e.state,null)}function kd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=B1,tp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=yn(o):(o=It(e)?Ai:St.current,i.context=Oo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Od(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cu.enqueueReplaceState(i,i.state,null),za(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function us(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===B1&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Hl(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cg(t){var e=t._init;return e(t._payload)}function z1(t){function e(m,y){if(t){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=jr(m,y),m.index=0,m.sibling=null,m}function o(m,y,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,w,g){return y===null||y.tag!==6?(y=of(w,m.mode,g),y.return=m,y):(y=i(y,w),y.return=m,y)}function a(m,y,w,g){var S=w.type;return S===Xi?c(m,y,w.props.children,g,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===br&&cg(S)===y.type)?(g=i(y,w.props),g.ref=us(m,y,w),g.return=m,g):(g=ma(w.type,w.key,w.props,null,m.mode,g),g.ref=us(m,y,w),g.return=m,g)}function u(m,y,w,g){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=sf(w,m.mode,g),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function c(m,y,w,g,S){return y===null||y.tag!==7?(y=vi(w,m.mode,g,S),y.return=m,y):(y=i(y,w),y.return=m,y)}function d(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=of(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ll:return w=ma(y.type,y.key,y.props,null,m.mode,w),w.ref=us(m,null,y),w.return=m,w;case Qi:return y=sf(y,m.mode,w),y.return=m,y;case br:var g=y._init;return d(m,g(y._payload),w)}if(bs(y)||rs(y))return y=vi(y,m.mode,w,null),y.return=m,y;Hl(m,y)}return null}function f(m,y,w,g){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(m,y,""+w,g);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ll:return w.key===S?a(m,y,w,g):null;case Qi:return w.key===S?u(m,y,w,g):null;case br:return S=w._init,f(m,y,S(w._payload),g)}if(bs(w)||rs(w))return S!==null?null:c(m,y,w,g,null);Hl(m,w)}return null}function h(m,y,w,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(w)||null,l(y,m,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ll:return m=m.get(g.key===null?w:g.key)||null,a(y,m,g,S);case Qi:return m=m.get(g.key===null?w:g.key)||null,u(y,m,g,S);case br:var E=g._init;return h(m,y,w,E(g._payload),S)}if(bs(g)||rs(g))return m=m.get(w)||null,c(y,m,g,S,null);Hl(y,g)}return null}function p(m,y,w,g){for(var S=null,E=null,O=y,k=y=0,_=null;O!==null&&k<w.length;k++){O.index>k?(_=O,O=null):_=O.sibling;var T=f(m,O,w[k],g);if(T===null){O===null&&(O=_);break}t&&O&&T.alternate===null&&e(m,O),y=o(T,y,k),E===null?S=T:E.sibling=T,E=T,O=_}if(k===w.length)return n(m,O),Fe&&ri(m,k),S;if(O===null){for(;k<w.length;k++)O=d(m,w[k],g),O!==null&&(y=o(O,y,k),E===null?S=O:E.sibling=O,E=O);return Fe&&ri(m,k),S}for(O=r(m,O);k<w.length;k++)_=h(O,m,k,w[k],g),_!==null&&(t&&_.alternate!==null&&O.delete(_.key===null?k:_.key),y=o(_,y,k),E===null?S=_:E.sibling=_,E=_);return t&&O.forEach(function(x){return e(m,x)}),Fe&&ri(m,k),S}function v(m,y,w,g){var S=rs(w);if(typeof S!="function")throw Error(re(150));if(w=S.call(w),w==null)throw Error(re(151));for(var E=S=null,O=y,k=y=0,_=null,T=w.next();O!==null&&!T.done;k++,T=w.next()){O.index>k?(_=O,O=null):_=O.sibling;var x=f(m,O,T.value,g);if(x===null){O===null&&(O=_);break}t&&O&&x.alternate===null&&e(m,O),y=o(x,y,k),E===null?S=x:E.sibling=x,E=x,O=_}if(T.done)return n(m,O),Fe&&ri(m,k),S;if(O===null){for(;!T.done;k++,T=w.next())T=d(m,T.value,g),T!==null&&(y=o(T,y,k),E===null?S=T:E.sibling=T,E=T);return Fe&&ri(m,k),S}for(O=r(m,O);!T.done;k++,T=w.next())T=h(O,m,k,T.value,g),T!==null&&(t&&T.alternate!==null&&O.delete(T.key===null?k:T.key),y=o(T,y,k),E===null?S=T:E.sibling=T,E=T);return t&&O.forEach(function(A){return e(m,A)}),Fe&&ri(m,k),S}function b(m,y,w,g){if(typeof w=="object"&&w!==null&&w.type===Xi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ll:e:{for(var S=w.key,E=y;E!==null;){if(E.key===S){if(S=w.type,S===Xi){if(E.tag===7){n(m,E.sibling),y=i(E,w.props.children),y.return=m,m=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===br&&cg(S)===E.type){n(m,E.sibling),y=i(E,w.props),y.ref=us(m,E,w),y.return=m,m=y;break e}n(m,E);break}else e(m,E);E=E.sibling}w.type===Xi?(y=vi(w.props.children,m.mode,g,w.key),y.return=m,m=y):(g=ma(w.type,w.key,w.props,null,m.mode,g),g.ref=us(m,y,w),g.return=m,m=g)}return s(m);case Qi:e:{for(E=w.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=sf(w,m.mode,g),y.return=m,m=y}return s(m);case br:return E=w._init,b(m,y,E(w._payload),g)}if(bs(w))return p(m,y,w,g);if(rs(w))return v(m,y,w,g);Hl(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,w),y.return=m,m=y):(n(m,y),y=of(w,m.mode,g),y.return=m,m=y),s(m)):n(m,y)}return b}var xo=z1(!0),q1=z1(!1),El={},Vn=Gr(El),Zs=Gr(El),el=Gr(El);function hi(t){if(t===El)throw Error(re(174));return t}function np(t,e){switch(Ie(el,e),Ie(Zs,t),Ie(Vn,El),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nd(e,t)}Be(Vn),Ie(Vn,e)}function To(){Be(Vn),Be(Zs),Be(el)}function U1(t){hi(el.current);var e=hi(Vn.current),n=nd(e,t.type);e!==n&&(Ie(Zs,t),Ie(Vn,n))}function rp(t){Zs.current===t&&(Be(Vn),Be(Zs))}var ze=Gr(0);function qa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xc=[];function ip(){for(var t=0;t<Xc.length;t++)Xc[t]._workInProgressVersionPrimary=null;Xc.length=0}var ca=hr.ReactCurrentDispatcher,Zc=hr.ReactCurrentBatchConfig,Ci=0,qe=null,Xe=null,rt=null,Ua=!1,Ns=!1,tl=0,ex=0;function gt(){throw Error(re(321))}function op(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function sp(t,e,n,r,i,o){if(Ci=o,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ca.current=t===null||t.memoizedState===null?ix:ox,t=n(r,i),Ns){o=0;do{if(Ns=!1,tl=0,25<=o)throw Error(re(301));o+=1,rt=Xe=null,e.updateQueue=null,ca.current=sx,t=n(r,i)}while(Ns)}if(ca.current=Va,e=Xe!==null&&Xe.next!==null,Ci=0,rt=Xe=qe=null,Ua=!1,e)throw Error(re(300));return t}function lp(){var t=tl!==0;return tl=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?qe.memoizedState=rt=t:rt=rt.next=t,rt}function vn(){if(Xe===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?qe.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(re(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?qe.memoizedState=rt=t:rt=rt.next=t}return rt}function nl(t,e){return typeof e=="function"?e(t):e}function ef(t){var e=vn(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((Ci&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,qe.lanes|=c,Ni|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Pn(r,e.memoizedState)||(Rt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,qe.lanes|=o,Ni|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tf(t){var e=vn(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Pn(o,e.memoizedState)||(Rt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function V1(){}function H1(t,e){var n=qe,r=vn(),i=e(),o=!Pn(r.memoizedState,i);if(o&&(r.memoizedState=i,Rt=!0),r=r.queue,ap(G1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,rl(9,K1.bind(null,n,r,i,e),void 0,null),ot===null)throw Error(re(349));Ci&30||W1(n,e,i)}return i}function W1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K1(t,e,n,r){e.value=n,e.getSnapshot=r,J1(e)&&Y1(t)}function G1(t,e,n){return n(function(){J1(e)&&Y1(t)})}function J1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function Y1(t){var e=cr(t,1);e!==null&&Nn(e,t,1,-1)}function fg(t){var e=Dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:t},e.queue=t,t=t.dispatch=rx.bind(null,qe,t),[e.memoizedState,t]}function rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q1(){return vn().memoizedState}function fa(t,e,n,r){var i=Dn();qe.flags|=t,i.memoizedState=rl(1|e,n,void 0,r===void 0?null:r)}function Nu(t,e,n,r){var i=vn();r=r===void 0?null:r;var o=void 0;if(Xe!==null){var s=Xe.memoizedState;if(o=s.destroy,r!==null&&op(r,s.deps)){i.memoizedState=rl(e,n,o,r);return}}qe.flags|=t,i.memoizedState=rl(1|e,n,o,r)}function dg(t,e){return fa(8390656,8,t,e)}function ap(t,e){return Nu(2048,8,t,e)}function X1(t,e){return Nu(4,2,t,e)}function Z1(t,e){return Nu(4,4,t,e)}function eb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tb(t,e,n){return n=n!=null?n.concat([t]):null,Nu(4,4,eb.bind(null,e,t),n)}function up(){}function nb(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&op(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rb(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&op(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ib(t,e,n){return Ci&21?(Pn(n,e)||(n=l1(),qe.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function tx(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Zc.transition;Zc.transition={};try{t(!1),e()}finally{Ce=n,Zc.transition=r}}function ob(){return vn().memoizedState}function nx(t,e,n){var r=$r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sb(t))lb(e,n);else if(n=$1(t,e,n,r),n!==null){var i=xt();Nn(n,t,r,i),ab(n,e,r)}}function rx(t,e,n){var r=$r(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sb(t))lb(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Pn(l,s)){var a=e.interleaved;a===null?(i.next=i,ep(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=$1(t,e,i,r),n!==null&&(i=xt(),Nn(n,t,r,i),ab(n,e,r))}}function sb(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function lb(t,e){Ns=Ua=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ab(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fh(t,n)}}var Va={readContext:yn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},ix={readContext:yn,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:dg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fa(4194308,4,eb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fa(4194308,4,t,e)},useInsertionEffect:function(t,e){return fa(4,2,t,e)},useMemo:function(t,e){var n=Dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nx.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:fg,useDebugValue:up,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=fg(!1),e=t[0];return t=tx.bind(null,t[1]),Dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=Dn();if(Fe){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),ot===null)throw Error(re(349));Ci&30||W1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,dg(G1.bind(null,r,o,t),[t]),r.flags|=2048,rl(9,K1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Dn(),e=ot.identifierPrefix;if(Fe){var n=ir,r=rr;n=(r&~(1<<32-Cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ex++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ox={readContext:yn,useCallback:nb,useContext:yn,useEffect:ap,useImperativeHandle:tb,useInsertionEffect:X1,useLayoutEffect:Z1,useMemo:rb,useReducer:ef,useRef:Q1,useState:function(){return ef(nl)},useDebugValue:up,useDeferredValue:function(t){var e=vn();return ib(e,Xe.memoizedState,t)},useTransition:function(){var t=ef(nl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:V1,useSyncExternalStore:H1,useId:ob,unstable_isNewReconciler:!1},sx={readContext:yn,useCallback:nb,useContext:yn,useEffect:ap,useImperativeHandle:tb,useInsertionEffect:X1,useLayoutEffect:Z1,useMemo:rb,useReducer:tf,useRef:Q1,useState:function(){return tf(nl)},useDebugValue:up,useDeferredValue:function(t){var e=vn();return Xe===null?e.memoizedState=t:ib(e,Xe.memoizedState,t)},useTransition:function(){var t=tf(nl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:V1,useSyncExternalStore:H1,useId:ob,unstable_isNewReconciler:!1};function Ao(t,e){try{var n="",r=e;do n+=LO(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function nf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lx=typeof WeakMap=="function"?WeakMap:Map;function ub(t,e,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wa||(Wa=!0,Id=r),xd(t,e)},n}function cb(t,e,n){n=or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xd(t,e),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function hg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sx.bind(null,t,e,n),e.then(t,t))}function pg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=or(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var ax=hr.ReactCurrentOwner,Rt=!1;function Ot(t,e,n,r){e.child=t===null?q1(e,null,n,r):xo(e,t.child,n,r)}function gg(t,e,n,r,i){n=n.render;var o=e.ref;return go(e,i),r=sp(t,e,n,r,o,i),n=lp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(Fe&&n&&Gh(e),e.flags|=1,Ot(t,e,r,i),e.child)}function yg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!yp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fb(t,e,o,r,i)):(t=ma(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(s,r)&&t.ref===e.ref)return fr(t,e,i)}return e.flags|=1,t=jr(o,r),t.ref=e.ref,t.return=e,e.child=t}function fb(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Js(o,r)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,fr(t,e,i)}return Td(t,e,n,r,i)}function db(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ao,Vt),Vt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(ao,Vt),Vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ie(ao,Vt),Vt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ie(ao,Vt),Vt|=r;return Ot(t,e,i,n),e.child}function hb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Td(t,e,n,r,i){var o=It(n)?Ai:St.current;return o=Oo(e,o),go(e,i),n=sp(t,e,n,r,o,i),r=lp(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(Fe&&r&&Gh(e),e.flags|=1,Ot(t,e,n,i),e.child)}function vg(t,e,n,r,i){if(It(n)){var o=!0;Da(e)}else o=!1;if(go(e,i),e.stateNode===null)da(t,e),F1(e,n,r),kd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=It(n)?Ai:St.current,u=Oo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ug(e,s,r,u),wr=!1;var f=e.memoizedState;s.state=f,za(e,r,s,i),a=e.memoizedState,l!==r||f!==a||Lt.current||wr?(typeof c=="function"&&(Od(e,n,c,r),a=e.memoizedState),(l=wr||ag(e,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,j1(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:En(e.type,l),s.props=u,d=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=yn(a):(a=It(n)?Ai:St.current,a=Oo(e,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&ug(e,s,r,a),wr=!1,f=e.memoizedState,s.state=f,za(e,r,s,i);var p=e.memoizedState;l!==d||f!==p||Lt.current||wr?(typeof h=="function"&&(Od(e,n,h,r),p=e.memoizedState),(u=wr||ag(e,n,u,r,f,p,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ad(t,e,n,r,o,i)}function Ad(t,e,n,r,i,o){hb(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&rg(e,n,!1),fr(t,e,o);r=e.stateNode,ax.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=xo(e,t.child,null,o),e.child=xo(e,null,l,o)):Ot(t,e,l,o),e.memoizedState=r.state,i&&rg(e,n,!0),e.child}function pb(t){var e=t.stateNode;e.pendingContext?ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(t,e.context,!1),np(t,e.containerInfo)}function bg(t,e,n,r,i){return ko(),Yh(i),e.flags|=256,Ot(t,e,n,r),e.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function Cd(t){return{baseLanes:t,cachePool:null,transitions:null}}function mb(t,e,n){var r=e.pendingProps,i=ze.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(ze,i&1),t===null)return Sd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ru(s,r,0,null),t=vi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Cd(n),e.memoizedState=_d,t):cp(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ux(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=jr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=jr(l,o):(o=vi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Cd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=_d,r}return o=t.child,t=o.sibling,r=jr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cp(t,e){return e=Ru({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wl(t,e,n,r){return r!==null&&Yh(r),xo(e,t.child,null,n),t=cp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ux(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=nf(Error(re(422))),Wl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ru({mode:"visible",children:r.children},i,0,null),o=vi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&xo(e,t.child,null,s),e.child.memoizedState=Cd(s),e.memoizedState=_d,o);if(!(e.mode&1))return Wl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(re(419)),r=nf(o,r,void 0),Wl(t,e,s,r)}if(l=(s&t.childLanes)!==0,Rt||l){if(r=ot,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,cr(t,i),Nn(r,t,i,-1))}return gp(),r=nf(Error(re(421))),Wl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ex.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Wt=Lr(i.nextSibling),Yt=e,Fe=!0,kn=null,t!==null&&(un[cn++]=rr,un[cn++]=ir,un[cn++]=_i,rr=t.id,ir=t.overflow,_i=e),e=cp(e,r.children),e.flags|=4096,e)}function wg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ed(t.return,e,n)}function rf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function gb(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ot(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,n,e);else if(t.tag===19)wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rf(e,!0,n,null,o);break;case"together":rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function da(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cx(t,e,n){switch(e.tag){case 3:pb(e),ko();break;case 5:U1(e);break;case 1:It(e.type)&&Da(e);break;case 4:np(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(Ba,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?mb(t,e,n):(Ie(ze,ze.current&1),t=fr(t,e,n),t!==null?t.sibling:null);Ie(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,db(t,e,n)}return fr(t,e,n)}var yb,Nd,vb,bb;yb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nd=function(){};vb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hi(Vn.current);var o=null;switch(n){case"input":i=Xf(t,i),r=Xf(t,r),o=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":i=td(t,i),r=td(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=La)}rd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&De("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};bb=function(t,e,n,r){n!==r&&(e.flags|=4)};function cs(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fx(t,e,n){var r=e.pendingProps;switch(Jh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return It(e.type)&&Ia(),yt(e),null;case 3:return r=e.stateNode,To(),Be(Lt),Be(St),ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(jd(kn),kn=null))),Nd(t,e),yt(e),null;case 5:rp(e);var i=hi(el.current);if(n=e.type,t!==null&&e.stateNode!=null)vb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return yt(e),null}if(t=hi(Vn.current),Vl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Bn]=e,r[Xs]=o,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Ss.length;i++)De(Ss[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Cm(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":Mm(r,o),De("invalid",r)}rd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ul(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ul(r.textContent,l,t),i=["children",""+l]):qs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&De("scroll",r)}switch(n){case"input":Il(r),Nm(r,o,!0);break;case"textarea":Il(r),Pm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=La)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Bn]=e,t[Xs]=r,yb(t,e,!1,!1),e.stateNode=t;e:{switch(s=id(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ss.length;i++)De(Ss[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Cm(t,r),i=Xf(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),De("invalid",t);break;case"textarea":Mm(t,r),i=td(t,r),De("invalid",t);break;default:i=r}rd(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?J0(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&K0(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Us(t,a):typeof a=="number"&&Us(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qs.hasOwnProperty(o)?a!=null&&o==="onScroll"&&De("scroll",t):a!=null&&Lh(t,o,a,s))}switch(n){case"input":Il(t),Nm(t,r,!1);break;case"textarea":Il(t),Pm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ur(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?fo(t,!!r.multiple,o,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)bb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=hi(el.current),hi(Vn.current),Vl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Bn]=e,(o=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Bn]=e,e.stateNode=r}return yt(e),null;case 13:if(Be(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Wt!==null&&e.mode&1&&!(e.flags&128))D1(),ko(),e.flags|=98560,o=!1;else if(o=Vl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[Bn]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),o=!1}else kn!==null&&(jd(kn),kn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?Ze===0&&(Ze=3):gp())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return To(),Nd(t,e),t===null&&Ys(e.stateNode.containerInfo),yt(e),null;case 10:return Zh(e.type._context),yt(e),null;case 17:return It(e.type)&&Ia(),yt(e),null;case 19:if(Be(ze),o=e.memoizedState,o===null)return yt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)cs(o,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=qa(t),s!==null){for(e.flags|=128,cs(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(ze,ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ke()>_o&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304)}else{if(!r)if(t=qa(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Fe)return yt(e),null}else 2*Ke()-o.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,cs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ke(),e.sibling=null,n=ze.current,Ie(ze,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return mp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function dx(t,e){switch(Jh(e),e.tag){case 1:return It(e.type)&&Ia(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),Be(Lt),Be(St),ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rp(e),null;case 13:if(Be(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(ze),null;case 4:return To(),null;case 10:return Zh(e.type._context),null;case 22:case 23:return mp(),null;case 24:return null;default:return null}}var Kl=!1,bt=!1,hx=typeof WeakSet=="function"?WeakSet:Set,ue=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Md(t,e,n){try{n()}catch(r){He(t,e,r)}}var Sg=!1;function px(t,e){if(pd=Ma,t=O1(),Kh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:t,selectionRange:n},Ma=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:En(e.type,v),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(g){He(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return p=Sg,Sg=!1,p}function Ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Md(e,n,o)}i=i.next}while(i!==r)}}function Mu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wb(t){var e=t.alternate;e!==null&&(t.alternate=null,wb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[Xs],delete e[vd],delete e[Yk],delete e[Qk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sb(t){return t.tag===5||t.tag===3||t.tag===4}function Eg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=La));else if(r!==4&&(t=t.child,t!==null))for(Rd(t,e,n),t=t.sibling;t!==null;)Rd(t,e,n),t=t.sibling}function Ld(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ld(t,e,n),t=t.sibling;t!==null;)Ld(t,e,n),t=t.sibling}var ct=null,On=!1;function gr(t,e,n){for(n=n.child;n!==null;)Eb(t,e,n),n=n.sibling}function Eb(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Ou,n)}catch{}switch(n.tag){case 5:bt||lo(n,e);case 6:var r=ct,i=On;ct=null,gr(t,e,n),ct=r,On=i,ct!==null&&(On?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(On?(t=ct,n=n.stateNode,t.nodeType===8?Yc(t.parentNode,n):t.nodeType===1&&Yc(t,n),Ks(t)):Yc(ct,n.stateNode));break;case 4:r=ct,i=On,ct=n.stateNode.containerInfo,On=!0,gr(t,e,n),ct=r,On=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Md(n,e,s),i=i.next}while(i!==r)}gr(t,e,n);break;case 1:if(!bt&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,e,l)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,gr(t,e,n),bt=r):gr(t,e,n);break;default:gr(t,e,n)}}function Og(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hx),e.forEach(function(r){var i=Ox.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,On=!1;break e;case 3:ct=l.stateNode.containerInfo,On=!0;break e;case 4:ct=l.stateNode.containerInfo,On=!0;break e}l=l.return}if(ct===null)throw Error(re(160));Eb(o,s,i),ct=null,On=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ob(e,t),e=e.sibling}function Ob(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Ln(t),r&4){try{Ms(3,t,t.return),Mu(3,t)}catch(v){He(t,t.return,v)}try{Ms(5,t,t.return)}catch(v){He(t,t.return,v)}}break;case 1:Sn(e,t),Ln(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(Sn(e,t),Ln(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var i=t.stateNode;try{Us(i,"")}catch(v){He(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&V0(i,o),id(l,s);var u=id(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?J0(i,d):c==="dangerouslySetInnerHTML"?K0(i,d):c==="children"?Us(i,d):Lh(i,c,d,u)}switch(l){case"input":Zf(i,o);break;case"textarea":H0(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?fo(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?fo(i,!!o.multiple,o.defaultValue,!0):fo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(v){He(t,t.return,v)}}break;case 6:if(Sn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){He(t,t.return,v)}}break;case 3:if(Sn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ks(e.containerInfo)}catch(v){He(t,t.return,v)}break;case 4:Sn(e,t),Ln(t);break;case 13:Sn(e,t),Ln(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hp=Ke())),r&4&&Og(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||c,Sn(e,t),bt=u):Sn(e,t),Ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ue=t,c=t.child;c!==null;){for(d=ue=c;ue!==null;){switch(f=ue,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ms(4,f,f.return);break;case 1:lo(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){He(r,n,v)}}break;case 5:lo(f,f.return);break;case 22:if(f.memoizedState!==null){xg(d);continue}}h!==null?(h.return=f,ue=h):xg(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=G0("display",s))}catch(v){He(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){He(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Sn(e,t),Ln(t),r&4&&Og(t);break;case 21:break;default:Sn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sb(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Us(i,""),r.flags&=-33);var o=Eg(t);Ld(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Eg(t);Rd(t,l,s);break;default:throw Error(re(161))}}catch(a){He(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mx(t,e,n){ue=t,kb(t)}function kb(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Kl;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||bt;l=Kl;var u=bt;if(Kl=s,(bt=a)&&!u)for(ue=i;ue!==null;)s=ue,a=s.child,s.tag===22&&s.memoizedState!==null?Tg(i):a!==null?(a.return=s,ue=a):Tg(i);for(;o!==null;)ue=o,kb(o),o=o.sibling;ue=i,Kl=l,bt=u}kg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):kg(t)}}function kg(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Mu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lg(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ks(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}bt||e.flags&512&&Pd(e)}catch(f){He(e,e.return,f)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function xg(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function Tg(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mu(4,e)}catch(a){He(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){He(e,i,a)}}var o=e.return;try{Pd(e)}catch(a){He(e,o,a)}break;case 5:var s=e.return;try{Pd(e)}catch(a){He(e,s,a)}}}catch(a){He(e,e.return,a)}if(e===t){ue=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ue=l;break}ue=e.return}}var gx=Math.ceil,Ha=hr.ReactCurrentDispatcher,fp=hr.ReactCurrentOwner,hn=hr.ReactCurrentBatchConfig,Ae=0,ot=null,Je=null,pt=0,Vt=0,ao=Gr(0),Ze=0,il=null,Ni=0,Pu=0,dp=0,Ps=null,Pt=null,hp=0,_o=1/0,er=null,Wa=!1,Id=null,Dr=null,Gl=!1,Tr=null,Ka=0,Rs=0,Dd=null,ha=-1,pa=0;function xt(){return Ae&6?Ke():ha!==-1?ha:ha=Ke()}function $r(t){return t.mode&1?Ae&2&&pt!==0?pt&-pt:Zk.transition!==null?(pa===0&&(pa=l1()),pa):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:p1(t.type)),t):1}function Nn(t,e,n,r){if(50<Rs)throw Rs=0,Dd=null,Error(re(185));bl(t,n,r),(!(Ae&2)||t!==ot)&&(t===ot&&(!(Ae&2)&&(Pu|=n),Ze===4&&Or(t,pt)),Dt(t,r),n===1&&Ae===0&&!(e.mode&1)&&(_o=Ke()+500,_u&&Jr()))}function Dt(t,e){var n=t.callbackNode;ZO(t,e);var r=Na(t,t===ot?pt:0);if(r===0)n!==null&&Im(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Im(n),e===1)t.tag===0?Xk(Ag.bind(null,t)):R1(Ag.bind(null,t)),Gk(function(){!(Ae&6)&&Jr()}),n=null;else{switch(a1(r)){case 1:n=Bh;break;case 4:n=o1;break;case 16:n=Ca;break;case 536870912:n=s1;break;default:n=Ca}n=Pb(n,xb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xb(t,e){if(ha=-1,pa=0,Ae&6)throw Error(re(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=Na(t,t===ot?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ga(t,r);else{e=r;var i=Ae;Ae|=2;var o=Ab();(ot!==t||pt!==e)&&(er=null,_o=Ke()+500,yi(t,e));do try{bx();break}catch(l){Tb(t,l)}while(1);Xh(),Ha.current=o,Ae=i,Je!==null?e=0:(ot=null,pt=0,e=Ze)}if(e!==0){if(e===2&&(i=ud(t),i!==0&&(r=i,e=$d(t,i))),e===1)throw n=il,yi(t,0),Or(t,r),Dt(t,Ke()),n;if(e===6)Or(t,r);else{if(i=t.current.alternate,!(r&30)&&!yx(i)&&(e=Ga(t,r),e===2&&(o=ud(t),o!==0&&(r=o,e=$d(t,o))),e===1))throw n=il,yi(t,0),Or(t,r),Dt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:ii(t,Pt,er);break;case 3:if(Or(t,r),(r&130023424)===r&&(e=hp+500-Ke(),10<e)){if(Na(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yd(ii.bind(null,t,Pt,er),e);break}ii(t,Pt,er);break;case 4:if(Or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Cn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gx(r/1960))-r,10<r){t.timeoutHandle=yd(ii.bind(null,t,Pt,er),r);break}ii(t,Pt,er);break;case 5:ii(t,Pt,er);break;default:throw Error(re(329))}}}return Dt(t,Ke()),t.callbackNode===n?xb.bind(null,t):null}function $d(t,e){var n=Ps;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=Ga(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&jd(e)),t}function jd(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function yx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~dp,e&=~Pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cn(e),r=1<<n;t[n]=-1,e&=~r}}function Ag(t){if(Ae&6)throw Error(re(327));yo();var e=Na(t,0);if(!(e&1))return Dt(t,Ke()),null;var n=Ga(t,e);if(t.tag!==0&&n===2){var r=ud(t);r!==0&&(e=r,n=$d(t,r))}if(n===1)throw n=il,yi(t,0),Or(t,e),Dt(t,Ke()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ii(t,Pt,er),Dt(t,Ke()),null}function pp(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(_o=Ke()+500,_u&&Jr())}}function Mi(t){Tr!==null&&Tr.tag===0&&!(Ae&6)&&yo();var e=Ae;Ae|=1;var n=hn.transition,r=Ce;try{if(hn.transition=null,Ce=1,t)return t()}finally{Ce=r,hn.transition=n,Ae=e,!(Ae&6)&&Jr()}}function mp(){Vt=ao.current,Be(ao)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kk(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Jh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ia();break;case 3:To(),Be(Lt),Be(St),ip();break;case 5:rp(r);break;case 4:To();break;case 13:Be(ze);break;case 19:Be(ze);break;case 10:Zh(r.type._context);break;case 22:case 23:mp()}n=n.return}if(ot=t,Je=t=jr(t.current,null),pt=Vt=e,Ze=0,il=null,dp=Pu=Ni=0,Pt=Ps=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}di=null}return t}function Tb(t,e){do{var n=Je;try{if(Xh(),ca.current=Va,Ua){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ua=!1}if(Ci=0,rt=Xe=qe=null,Ns=!1,tl=0,fp.current=null,n===null||n.return===null){Ze=1,il=e,Je=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=pt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=pg(s);if(h!==null){h.flags&=-257,mg(h,s,l,o,e),h.mode&1&&hg(o,u,e),e=h,a=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(a),e.updateQueue=v}else p.add(a);break e}else{if(!(e&1)){hg(o,u,e),gp();break e}a=Error(re(426))}}else if(Fe&&l.mode&1){var b=pg(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mg(b,s,l,o,e),Yh(Ao(a,l));break e}}o=a=Ao(a,l),Ze!==4&&(Ze=2),Ps===null?Ps=[o]:Ps.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=ub(o,a,e);sg(o,m);break e;case 1:l=a;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dr===null||!Dr.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=cb(o,l,e);sg(o,g);break e}}o=o.return}while(o!==null)}Cb(n)}catch(S){e=S,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(1)}function Ab(){var t=Ha.current;return Ha.current=Va,t===null?Va:t}function gp(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),ot===null||!(Ni&268435455)&&!(Pu&268435455)||Or(ot,pt)}function Ga(t,e){var n=Ae;Ae|=2;var r=Ab();(ot!==t||pt!==e)&&(er=null,yi(t,e));do try{vx();break}catch(i){Tb(t,i)}while(1);if(Xh(),Ae=n,Ha.current=r,Je!==null)throw Error(re(261));return ot=null,pt=0,Ze}function vx(){for(;Je!==null;)_b(Je)}function bx(){for(;Je!==null&&!VO();)_b(Je)}function _b(t){var e=Mb(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,e===null?Cb(t):Je=e,fp.current=null}function Cb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dx(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Je=null;return}}else if(n=fx(n,e,Vt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);Ze===0&&(Ze=5)}function ii(t,e,n){var r=Ce,i=hn.transition;try{hn.transition=null,Ce=1,wx(t,e,n,r)}finally{hn.transition=i,Ce=r}return null}function wx(t,e,n,r){do yo();while(Tr!==null);if(Ae&6)throw Error(re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ek(t,o),t===ot&&(Je=ot=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gl||(Gl=!0,Pb(Ca,function(){return yo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hn.transition,hn.transition=null;var s=Ce;Ce=1;var l=Ae;Ae|=4,fp.current=null,px(t,n),Ob(n,t),Fk(md),Ma=!!pd,md=pd=null,t.current=n,mx(n),HO(),Ae=l,Ce=s,hn.transition=o}else t.current=n;if(Gl&&(Gl=!1,Tr=t,Ka=i),o=t.pendingLanes,o===0&&(Dr=null),GO(n.stateNode),Dt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wa)throw Wa=!1,t=Id,Id=null,t;return Ka&1&&t.tag!==0&&yo(),o=t.pendingLanes,o&1?t===Dd?Rs++:(Rs=0,Dd=t):Rs=0,Jr(),null}function yo(){if(Tr!==null){var t=a1(Ka),e=hn.transition,n=Ce;try{if(hn.transition=null,Ce=16>t?16:t,Tr===null)var r=!1;else{if(t=Tr,Tr=null,Ka=0,Ae&6)throw Error(re(331));var i=Ae;for(Ae|=4,ue=t.current;ue!==null;){var o=ue,s=o.child;if(ue.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(ue=u;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:Ms(8,c,o)}var d=c.child;if(d!==null)d.return=c,ue=d;else for(;ue!==null;){c=ue;var f=c.sibling,h=c.return;if(wb(c),c===u){ue=null;break}if(f!==null){f.return=h,ue=f;break}ue=h}}}var p=o.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}ue=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ue=s;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ms(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,ue=m;break e}ue=o.return}}var y=t.current;for(ue=y;ue!==null;){s=ue;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ue=w;else e:for(s=y;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mu(9,l)}}catch(S){He(l,l.return,S)}if(l===s){ue=null;break e}var g=l.sibling;if(g!==null){g.return=l.return,ue=g;break e}ue=l.return}}if(Ae=i,Jr(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Ou,t)}catch{}r=!0}return r}finally{Ce=n,hn.transition=e}}return!1}function _g(t,e,n){e=Ao(n,e),e=ub(t,e,1),t=Ir(t,e,1),e=xt(),t!==null&&(bl(t,1,e),Dt(t,e))}function He(t,e,n){if(t.tag===3)_g(t,t,n);else for(;e!==null;){if(e.tag===3){_g(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){t=Ao(n,t),t=cb(e,t,1),e=Ir(e,t,1),t=xt(),e!==null&&(bl(e,1,t),Dt(e,t));break}}e=e.return}}function Sx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(pt&n)===n&&(Ze===4||Ze===3&&(pt&130023424)===pt&&500>Ke()-hp?yi(t,0):dp|=n),Dt(t,e)}function Nb(t,e){e===0&&(t.mode&1?(e=jl,jl<<=1,!(jl&130023424)&&(jl=4194304)):e=1);var n=xt();t=cr(t,e),t!==null&&(bl(t,e,n),Dt(t,n))}function Ex(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Nb(t,n)}function Ox(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),Nb(t,n)}var Mb;Mb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lt.current)Rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rt=!1,cx(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Fe&&e.flags&1048576&&L1(e,ja,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;da(t,e),t=e.pendingProps;var i=Oo(e,St.current);go(e,n),i=sp(null,e,r,t,i,n);var o=lp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(r)?(o=!0,Da(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tp(e),i.updater=Cu,e.stateNode=i,i._reactInternals=e,kd(e,r,t,n),e=Ad(null,e,r,!0,o,n)):(e.tag=0,Fe&&o&&Gh(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(da(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xx(r),t=En(r,t),i){case 0:e=Td(null,e,r,t,n);break e;case 1:e=vg(null,e,r,t,n);break e;case 11:e=gg(null,e,r,t,n);break e;case 14:e=yg(null,e,r,En(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),Td(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),vg(t,e,r,i,n);case 3:e:{if(pb(e),t===null)throw Error(re(387));r=e.pendingProps,o=e.memoizedState,i=o.element,j1(t,e),za(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ao(Error(re(423)),e),e=bg(t,e,r,n,i);break e}else if(r!==i){i=Ao(Error(re(424)),e),e=bg(t,e,r,n,i);break e}else for(Wt=Lr(e.stateNode.containerInfo.firstChild),Yt=e,Fe=!0,kn=null,n=q1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===i){e=fr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return U1(e),t===null&&Sd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,gd(r,i)?s=null:o!==null&&gd(r,o)&&(e.flags|=32),hb(t,e),Ot(t,e,s,n),e.child;case 6:return t===null&&Sd(e),null;case 13:return mb(t,e,n);case 4:return np(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xo(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),gg(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ie(Ba,r._currentValue),r._currentValue=s,o!==null)if(Pn(o.value,s)){if(o.children===i.children&&!Lt.current){e=fr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=or(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ed(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ed(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=yn(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=En(r,e.pendingProps),i=En(r.type,i),yg(t,e,r,i,n);case 15:return fb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:En(r,i),da(t,e),e.tag=1,It(r)?(t=!0,Da(e)):t=!1,go(e,n),F1(e,r,i),kd(e,r,i,n),Ad(null,e,r,!0,t,n);case 19:return gb(t,e,n);case 22:return db(t,e,n)}throw Error(re(156,e.tag))};function Pb(t,e){return i1(t,e)}function kx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new kx(t,e,n,r)}function yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xx(t){if(typeof t=="function")return yp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dh)return 11;if(t===$h)return 14}return 2}function jr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ma(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")yp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Xi:return vi(n.children,i,o,e);case Ih:s=8,i|=8;break;case Gf:return t=dn(12,n,e,i|2),t.elementType=Gf,t.lanes=o,t;case Jf:return t=dn(13,n,e,i),t.elementType=Jf,t.lanes=o,t;case Yf:return t=dn(19,n,e,i),t.elementType=Yf,t.lanes=o,t;case z0:return Ru(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B0:s=10;break e;case F0:s=9;break e;case Dh:s=11;break e;case $h:s=14;break e;case br:s=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=dn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function vi(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function Ru(t,e,n,r){return t=dn(22,t,r,e),t.elementType=z0,t.lanes=n,t.stateNode={isHidden:!1},t}function of(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function sf(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tx(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vp(t,e,n,r,i,o,s,l,a){return t=new Tx(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=dn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tp(o),t}function Ax(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rb(t){if(!t)return Vr;t=t._reactInternals;e:{if(ji(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(It(n))return P1(t,n,e)}return e}function Lb(t,e,n,r,i,o,s,l,a){return t=vp(n,r,!0,t,i,o,s,l,a),t.context=Rb(null),n=t.current,r=xt(),i=$r(n),o=or(r,i),o.callback=e??null,Ir(n,o,i),t.current.lanes=i,bl(t,i,r),Dt(t,r),t}function Lu(t,e,n,r){var i=e.current,o=xt(),s=$r(i);return n=Rb(n),e.context===null?e.context=n:e.pendingContext=n,e=or(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ir(i,e,s),t!==null&&(Nn(t,i,s,o),ua(t,i,s)),s}function Ja(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bp(t,e){Cg(t,e),(t=t.alternate)&&Cg(t,e)}function _x(){return null}var Ib=typeof reportError=="function"?reportError:function(t){console.error(t)};function wp(t){this._internalRoot=t}Iu.prototype.render=wp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Lu(t,e,null,null)};Iu.prototype.unmount=wp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mi(function(){Lu(null,t,null,null)}),e[ur]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=f1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&h1(t)}};function Sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ng(){}function Cx(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ja(s);o.call(u)}}var s=Lb(e,r,t,0,null,!1,!1,"",Ng);return t._reactRootContainer=s,t[ur]=s.current,Ys(t.nodeType===8?t.parentNode:t),Mi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ja(a);l.call(u)}}var a=vp(t,0,!1,null,null,!1,!1,"",Ng);return t._reactRootContainer=a,t[ur]=a.current,Ys(t.nodeType===8?t.parentNode:t),Mi(function(){Lu(e,a,n,r)}),a}function $u(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Ja(s);l.call(a)}}Lu(e,s,t,i)}else s=Cx(n,e,t,i,r);return Ja(s)}u1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ws(e.pendingLanes);n!==0&&(Fh(e,n|1),Dt(e,Ke()),!(Ae&6)&&(_o=Ke()+500,Jr()))}break;case 13:Mi(function(){var r=cr(t,1);if(r!==null){var i=xt();Nn(r,t,1,i)}}),bp(t,1)}};zh=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=xt();Nn(e,t,134217728,n)}bp(t,134217728)}};c1=function(t){if(t.tag===13){var e=$r(t),n=cr(t,e);if(n!==null){var r=xt();Nn(n,t,e,r)}bp(t,e)}};f1=function(){return Ce};d1=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};sd=function(t,e,n){switch(e){case"input":if(Zf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Au(r);if(!i)throw Error(re(90));U0(r),Zf(r,i)}}}break;case"textarea":H0(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};X0=pp;Z0=Mi;var Nx={usingClientEntryPoint:!1,Events:[Sl,no,Au,Y0,Q0,pp]},fs={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Mx={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n1(t),t===null?null:t.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||_x,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jl.isDisabled&&Jl.supportsFiber)try{Ou=Jl.inject(Mx),Un=Jl}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nx;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sp(e))throw Error(re(200));return Ax(t,e,null,n)};en.createRoot=function(t,e){if(!Sp(t))throw Error(re(299));var n=!1,r="",i=Ib;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vp(t,1,!1,null,null,n,!1,r,i),t[ur]=e.current,Ys(t.nodeType===8?t.parentNode:t),new wp(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=n1(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return Mi(t)};en.hydrate=function(t,e,n){if(!Du(e))throw Error(re(200));return $u(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Sp(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Ib;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Lb(e,null,t,1,n??null,i,!1,o,s),t[ur]=e.current,Ys(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Iu(e)};en.render=function(t,e,n){if(!Du(e))throw Error(re(200));return $u(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!Du(t))throw Error(re(40));return t._reactRootContainer?(Mi(function(){$u(null,null,t,!1,function(){t._reactRootContainer=null,t[ur]=null})}),!0):!1};en.unstable_batchedUpdates=pp;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Du(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return $u(t,e,n,!1,r)};en.version="18.2.0-next-9e3b772b8-20220608";function Db(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Db)}catch(t){console.error(t)}}Db(),L0.exports=en;var ju=L0.exports;const Px=Su(ju);var Mg=ju;Wf.createRoot=Mg.createRoot,Wf.hydrateRoot=Mg.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}var Ar;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ar||(Ar={}));const Pg="popstate";function Rx(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Bd("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$b(i)}return Ix(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ep(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lx(){return Math.random().toString(36).substr(2,8)}function Rg(t,e){return{usr:t.state,key:t.key,idx:e}}function Bd(t,e,n,r){return n===void 0&&(n=null),ol({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ho(e):e,{state:n,key:e&&e.key||r||Lx()})}function $b(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ix(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Ar.Pop,a=null,u=c();u==null&&(u=0,s.replaceState(ol({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){l=Ar.Pop;let b=c(),m=b==null?null:b-u;u=b,a&&a({action:l,location:v.location,delta:m})}function f(b,m){l=Ar.Push;let y=Bd(v.location,b,m);n&&n(y,b),u=c()+1;let w=Rg(y,u),g=v.createHref(y);try{s.pushState(w,"",g)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(g)}o&&a&&a({action:l,location:v.location,delta:1})}function h(b,m){l=Ar.Replace;let y=Bd(v.location,b,m);n&&n(y,b),u=c();let w=Rg(y,u),g=v.createHref(y);s.replaceState(w,"",g),o&&a&&a({action:l,location:v.location,delta:0})}function p(b){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:$b(b);return tt(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let v={get action(){return l},get location(){return t(i,s)},listen(b){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Pg,d),a=b,()=>{i.removeEventListener(Pg,d),a=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let m=p(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(b){return s.go(b)}};return v}var Lg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lg||(Lg={}));function Dx(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ho(e):e,i=Fb(r.pathname||"/",n);if(i==null)return null;let o=jb(t);$x(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=Wx(o[l],Jx(i));return s}function jb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(tt(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=bi([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jb(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Vx(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of Bb(o.path))i(o,s,a)}),e}function Bb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Bb(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function $x(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Hx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jx=/^:\w+$/,Bx=3,Fx=2,zx=1,qx=10,Ux=-2,Ig=t=>t==="*";function Vx(t,e){let n=t.split("/"),r=n.length;return n.some(Ig)&&(r+=Ux),e&&(r+=Fx),n.filter(i=>!Ig(i)).reduce((i,o)=>i+(jx.test(o)?Bx:o===""?zx:qx),r)}function Hx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wx(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],a=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Kx({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let d=l.route;o.push({params:r,pathname:bi([i,c.pathname]),pathnameBase:tT(bi([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=bi([i,c.pathnameBase]))}return o}function Kx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Gx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=l[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=Yx(l[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Gx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ep(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jx(t){try{return decodeURI(t)}catch(e){return Ep(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yx(t,e){try{return decodeURIComponent(t)}catch(n){return Ep(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Fb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Qx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ho(t):t;return{pathname:n?n.startsWith("/")?n:Xx(n,e):e,search:nT(r),hash:rT(i)}}function Xx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ho(t):(i=ol({},t),tt(!i.pathname||!i.pathname.includes("?"),lf("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),lf("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),lf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(r||s==null)l=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=Qx(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),tT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zb=["post","put","patch","delete"];new Set(zb);const oT=["get",...zb];new Set(oT);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}const Op=G.createContext(null),sT=G.createContext(null),Bu=G.createContext(null),Fu=G.createContext(null),Wo=G.createContext({outlet:null,matches:[],isDataRoute:!1}),qb=G.createContext(null);function zu(){return G.useContext(Fu)!=null}function Ub(){return zu()||tt(!1),G.useContext(Fu).location}function Vb(t){G.useContext(Bu).static||G.useLayoutEffect(t)}function Hb(){let{isDataRoute:t}=G.useContext(Wo);return t?bT():lT()}function lT(){zu()||tt(!1);let t=G.useContext(Op),{basename:e,navigator:n}=G.useContext(Bu),{matches:r}=G.useContext(Wo),{pathname:i}=Ub(),o=JSON.stringify(Zx(r).map(a=>a.pathnameBase)),s=G.useRef(!1);return Vb(()=>{s.current=!0}),G.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){n.go(a);return}let c=eT(a,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:bi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}function aT(t,e){return uT(t,e)}function uT(t,e,n){zu()||tt(!1);let{navigator:r}=G.useContext(Bu),{matches:i}=G.useContext(Wo),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=Ub(),u;if(e){var c;let v=typeof e=="string"?Ho(e):e;l==="/"||(c=v.pathname)!=null&&c.startsWith(l)||tt(!1),u=v}else u=a;let d=u.pathname||"/",f=l==="/"?d:d.slice(l.length)||"/",h=Dx(t,{pathname:f}),p=pT(h&&h.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:bi([l,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:bi([l,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&p?G.createElement(Fu.Provider,{value:{location:Ya({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ar.Pop}},p):p}function cT(){let t=vT(),e=iT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:i},n):null,o)}const fT=G.createElement(cT,null);class dT extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?G.createElement(Wo.Provider,{value:this.props.routeContext},G.createElement(qb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hT(t){let{routeContext:e,match:n,children:r}=t,i=G.useContext(Op);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),G.createElement(Wo.Provider,{value:e},r)}function pT(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let l=o.findIndex(a=>a.route.id&&(s==null?void 0:s[a.route.id]));l>=0||tt(!1),o=o.slice(0,Math.min(o.length,l+1))}return o.reduceRight((l,a,u)=>{let c=a.route.id?s==null?void 0:s[a.route.id]:null,d=null;n&&(d=a.route.errorElement||fT);let f=e.concat(o.slice(0,u+1)),h=()=>{let p;return c?p=d:a.route.Component?p=G.createElement(a.route.Component,null):a.route.element?p=a.route.element:p=l,G.createElement(hT,{match:a,routeContext:{outlet:l,matches:f,isDataRoute:n!=null},children:p})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?G.createElement(dT,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var Wb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Wb||{}),Qa=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qa||{});function mT(t){let e=G.useContext(Op);return e||tt(!1),e}function gT(t){let e=G.useContext(sT);return e||tt(!1),e}function yT(t){let e=G.useContext(Wo);return e||tt(!1),e}function Kb(t){let e=yT(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function vT(){var t;let e=G.useContext(qb),n=gT(Qa.UseRouteError),r=Kb(Qa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function bT(){let{router:t}=mT(Wb.UseNavigateStable),e=Kb(Qa.UseNavigateStable),n=G.useRef(!1);return Vb(()=>{n.current=!0}),G.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ya({fromRouteId:e},o)))},[t,e])}function ga(t){tt(!1)}function wT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ar.Pop,navigator:o,static:s=!1}=t;zu()&&tt(!1);let l=e.replace(/^\/*/,"/"),a=G.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof r=="string"&&(r=Ho(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,p=G.useMemo(()=>{let v=Fb(u,l);return v==null?null:{location:{pathname:v,search:c,hash:d,state:f,key:h},navigationType:i}},[l,u,c,d,f,h,i]);return p==null?null:G.createElement(Bu.Provider,{value:a},G.createElement(Fu.Provider,{children:n,value:p}))}function ST(t){let{children:e,location:n}=t;return aT(Fd(e),n)}new Promise(()=>{});function Fd(t,e){e===void 0&&(e=[]);let n=[];return G.Children.forEach(t,(r,i)=>{if(!G.isValidElement(r))return;let o=[...e,i];if(r.type===G.Fragment){n.push.apply(n,Fd(r.props.children,o));return}r.type!==ga&&tt(!1),!r.props.index||!r.props.children||tt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fd(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ET="startTransition",Dg=EO[ET];function OT(t){let{basename:e,children:n,future:r,window:i}=t,o=G.useRef();o.current==null&&(o.current=Rx({window:i,v5Compat:!0}));let s=o.current,[l,a]=G.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=G.useCallback(d=>{u&&Dg?Dg(()=>a(d)):a(d)},[a,u]);return G.useLayoutEffect(()=>s.listen(c),[s,c]),G.createElement(wT,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s})}var $g;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})($g||($g={}));var jg;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(jg||(jg={}));const kp=({children:t})=>ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:ae.jsx("div",{className:"px-6 py-4",children:t})})});function Gb(t,e){return function(){return t.apply(e,arguments)}}const{toString:kT}=Object.prototype,{getPrototypeOf:xp}=Object,qu=(t=>e=>{const n=kT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=t=>(t=t.toLowerCase(),e=>qu(e)===t),Uu=t=>e=>typeof e===t,{isArray:Ko}=Array,sl=Uu("undefined");function xT(t){return t!==null&&!sl(t)&&t.constructor!==null&&!sl(t.constructor)&&pn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jb=Yn("ArrayBuffer");function TT(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Jb(t.buffer),e}const AT=Uu("string"),pn=Uu("function"),Yb=Uu("number"),Vu=t=>t!==null&&typeof t=="object",_T=t=>t===!0||t===!1,ya=t=>{if(qu(t)!=="object")return!1;const e=xp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CT=Yn("Date"),NT=Yn("File"),MT=Yn("Blob"),PT=Yn("FileList"),RT=t=>Vu(t)&&pn(t.pipe),LT=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||pn(t.append)&&((e=qu(t))==="formdata"||e==="object"&&pn(t.toString)&&t.toString()==="[object FormData]"))},IT=Yn("URLSearchParams"),DT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ol(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ko(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,t[l],l,t)}}function Qb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Xb=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Zb=t=>!sl(t)&&t!==Xb;function zd(){const{caseless:t}=Zb(this)&&this||{},e={},n=(r,i)=>{const o=t&&Qb(e,i)||i;ya(e[o])&&ya(r)?e[o]=zd(e[o],r):ya(r)?e[o]=zd({},r):Ko(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ol(arguments[r],n);return e}const $T=(t,e,n,{allOwnKeys:r}={})=>(Ol(e,(i,o)=>{n&&pn(i)?t[o]=Gb(i,n):t[o]=i},{allOwnKeys:r}),t),jT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),BT=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},FT=(t,e,n,r)=>{let i,o,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&xp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},zT=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},qT=t=>{if(!t)return null;if(Ko(t))return t;let e=t.length;if(!Yb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},UT=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&xp(Uint8Array)),VT=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},HT=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WT=Yn("HTMLFormElement"),KT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Bg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),GT=Yn("RegExp"),ew=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ol(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},JT=t=>{ew(t,(e,n)=>{if(pn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(pn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},YT=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ko(t)?r(t):r(String(t).split(e)),n},QT=()=>{},XT=(t,e)=>(t=+t,Number.isFinite(t)?t:e),af="abcdefghijklmnopqrstuvwxyz",Fg="0123456789",tw={DIGIT:Fg,ALPHA:af,ALPHA_DIGIT:af+af.toUpperCase()+Fg},ZT=(t=16,e=tw.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function eA(t){return!!(t&&pn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const tA=t=>{const e=new Array(10),n=(r,i)=>{if(Vu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ko(r)?[]:{};return Ol(r,(s,l)=>{const a=n(s,i+1);!sl(a)&&(o[l]=a)}),e[i]=void 0,o}}return r};return n(t,0)},nA=Yn("AsyncFunction"),rA=t=>t&&(Vu(t)||pn(t))&&pn(t.then)&&pn(t.catch),X={isArray:Ko,isArrayBuffer:Jb,isBuffer:xT,isFormData:LT,isArrayBufferView:TT,isString:AT,isNumber:Yb,isBoolean:_T,isObject:Vu,isPlainObject:ya,isUndefined:sl,isDate:CT,isFile:NT,isBlob:MT,isRegExp:GT,isFunction:pn,isStream:RT,isURLSearchParams:IT,isTypedArray:UT,isFileList:PT,forEach:Ol,merge:zd,extend:$T,trim:DT,stripBOM:jT,inherits:BT,toFlatObject:FT,kindOf:qu,kindOfTest:Yn,endsWith:zT,toArray:qT,forEachEntry:VT,matchAll:HT,isHTMLForm:WT,hasOwnProperty:Bg,hasOwnProp:Bg,reduceDescriptors:ew,freezeMethods:JT,toObjectSet:YT,toCamelCase:KT,noop:QT,toFiniteNumber:XT,findKey:Qb,global:Xb,isContextDefined:Zb,ALPHABET:tw,generateString:ZT,isSpecCompliantForm:eA,toJSONObject:tA,isAsyncFn:nA,isThenable:rA};function Te(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}X.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const nw=Te.prototype,rw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rw[t]={value:t}});Object.defineProperties(Te,rw);Object.defineProperty(nw,"isAxiosError",{value:!0});Te.from=(t,e,n,r,i,o)=>{const s=Object.create(nw);return X.toFlatObject(t,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),Te.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const iA=null;function qd(t){return X.isPlainObject(t)||X.isArray(t)}function iw(t){return X.endsWith(t,"[]")?t.slice(0,-2):t}function zg(t,e,n){return t?t.concat(e).map(function(i,o){return i=iw(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function oA(t){return X.isArray(t)&&!t.some(qd)}const sA=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Hu(t,e,n){if(!X.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!X.isUndefined(b[v])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(X.isDate(p))return p.toISOString();if(!a&&X.isBlob(p))throw new Te("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(p)||X.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,b){let m=p;if(p&&!b&&typeof p=="object"){if(X.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(X.isArray(p)&&oA(p)||(X.isFileList(p)||X.endsWith(v,"[]"))&&(m=X.toArray(p)))return v=iw(v),m.forEach(function(w,g){!(X.isUndefined(w)||w===null)&&e.append(s===!0?zg([v],g,o):s===null?v:v+"[]",u(w))}),!1}return qd(p)?!0:(e.append(zg(b,v,o),u(p)),!1)}const d=[],f=Object.assign(sA,{defaultVisitor:c,convertValue:u,isVisitable:qd});function h(p,v){if(!X.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),X.forEach(p,function(m,y){(!(X.isUndefined(m)||m===null)&&i.call(e,m,X.isString(y)?y.trim():y,v,f))===!0&&h(m,v?v.concat(y):[y])}),d.pop()}}if(!X.isObject(t))throw new TypeError("data must be an object");return h(t),e}function qg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Tp(t,e){this._pairs=[],t&&Hu(t,this,e)}const ow=Tp.prototype;ow.append=function(e,n){this._pairs.push([e,n])};ow.toString=function(e){const n=e?function(r){return e.call(this,r,qg)}:qg;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function lA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sw(t,e,n){if(!e)return t;const r=n&&n.encode||lA,i=n&&n.serialize;let o;if(i?o=i(e,n):o=X.isURLSearchParams(e)?e.toString():new Tp(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class aA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ug=aA,lw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uA=typeof URLSearchParams<"u"?URLSearchParams:Tp,cA=typeof FormData<"u"?FormData:null,fA=typeof Blob<"u"?Blob:null,dA=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),hA=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),An={isBrowser:!0,classes:{URLSearchParams:uA,FormData:cA,Blob:fA},isStandardBrowserEnv:dA,isStandardBrowserWebWorkerEnv:hA,protocols:["http","https","file","blob","url","data"]};function pA(t,e){return Hu(t,new An.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return An.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function mA(t){return X.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gA(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function aw(t){function e(n,r,i,o){let s=n[o++];const l=Number.isFinite(+s),a=o>=n.length;return s=!s&&X.isArray(i)?i.length:s,a?(X.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!X.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&X.isArray(i[s])&&(i[s]=gA(i[s])),!l)}if(X.isFormData(t)&&X.isFunction(t.entries)){const n={};return X.forEachEntry(t,(r,i)=>{e(mA(r),i,n,0)}),n}return null}function yA(t,e,n){if(X.isString(t))try{return(e||JSON.parse)(t),X.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ap={transitional:lw,adapter:An.isNode?"http":"xhr",transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=X.isObject(e);if(o&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return i&&i?JSON.stringify(aw(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pA(e,this.formSerializer).toString();if((l=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Hu(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),yA(e)):e}],transformResponse:[function(e){const n=this.transitional||Ap.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&X.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?Te.from(l,Te.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],t=>{Ap.headers[t]={}});const _p=Ap,vA=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bA=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&vA[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Vg=Symbol("internals");function ds(t){return t&&String(t).trim().toLowerCase()}function va(t){return t===!1||t==null?t:X.isArray(t)?t.map(va):String(t)}function wA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const SA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uf(t,e,n,r,i){if(X.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function EA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function OA(t,e){const n=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Wu{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,a,u){const c=ds(a);if(!c)throw new Error("header name must be a non-empty string");const d=X.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||a]=va(l))}const s=(l,a)=>X.forEach(l,(u,c)=>o(u,c,a));return X.isPlainObject(e)||e instanceof this.constructor?s(e,n):X.isString(e)&&(e=e.trim())&&!SA(e)?s(bA(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=ds(e),e){const r=X.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return wA(i);if(X.isFunction(n))return n.call(this,i,r);if(X.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ds(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||uf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=ds(s),s){const l=X.findKey(r,s);l&&(!n||uf(r,r[l],l,n))&&(delete r[l],i=!0)}}return X.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||uf(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return X.forEach(this,(i,o)=>{const s=X.findKey(r,o);if(s){n[s]=va(i),delete n[o];return}const l=e?EA(o):String(o).trim();l!==o&&delete n[o],n[l]=va(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return X.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Vg]=this[Vg]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=ds(s);r[l]||(OA(i,s),r[l]=!0)}return X.isArray(e)?e.forEach(o):o(e),this}}Wu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Wu.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});X.freezeMethods(Wu);const sr=Wu;function cf(t,e){const n=this||_p,r=e||n,i=sr.from(r.headers);let o=r.data;return X.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function uw(t){return!!(t&&t.__CANCEL__)}function kl(t,e,n){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,n),this.name="CanceledError"}X.inherits(kl,Te,{__CANCEL__:!0});function kA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const xA=An.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,l){const a=[];a.push(n+"="+encodeURIComponent(r)),X.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),X.isString(o)&&a.push("path="+o),X.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function TA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function AA(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function cw(t,e){return t&&!TA(e)?AA(t,e):e}const _A=An.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=X.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function CA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function NA(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),c=r[o];s||(s=u),n[i]=a,r[i]=u;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function Hg(t,e){let n=0;const r=NA(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),u=o<=s;n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&u?(s-o)/a:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const MA=typeof XMLHttpRequest<"u",PA=MA&&function(t){return new Promise(function(n,r){let i=t.data;const o=sr.from(t.headers).normalize(),s=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}X.isFormData(i)&&(An.isStandardBrowserEnv||An.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(h+":"+p))}const c=cw(t.baseURL,t.url);u.open(t.method.toUpperCase(),sw(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const h=sr.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:h,config:t,request:u};kA(function(m){n(m),a()},function(m){r(m),a()},v),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new Te("Request aborted",Te.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||lw;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new Te(p,v.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,u)),u=null},An.isStandardBrowserEnv){const h=(t.withCredentials||_A(c))&&t.xsrfCookieName&&xA.read(t.xsrfCookieName);h&&o.set(t.xsrfHeaderName,h)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&X.forEach(o.toJSON(),function(p,v){u.setRequestHeader(v,p)}),X.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),s&&s!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Hg(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Hg(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=h=>{u&&(r(!h||h.type?new kl(null,t,u):h),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const f=CA(c);if(f&&An.protocols.indexOf(f)===-1){r(new Te("Unsupported protocol "+f+":",Te.ERR_BAD_REQUEST,t));return}u.send(i||null)})},ba={http:iA,xhr:PA};X.forEach(ba,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const fw={getAdapter:t=>{t=X.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=X.isString(n)?ba[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Te(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(X.hasOwnProp(ba,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!X.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ba};function ff(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new kl(null,t)}function Wg(t){return ff(t),t.headers=sr.from(t.headers),t.data=cf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fw.getAdapter(t.adapter||_p.adapter)(t).then(function(r){return ff(t),r.data=cf.call(t,t.transformResponse,r),r.headers=sr.from(r.headers),r},function(r){return uw(r)||(ff(t),r&&r.response&&(r.response.data=cf.call(t,t.transformResponse,r.response),r.response.headers=sr.from(r.response.headers))),Promise.reject(r)})}const Kg=t=>t instanceof sr?t.toJSON():t;function Co(t,e){e=e||{};const n={};function r(u,c,d){return X.isPlainObject(u)&&X.isPlainObject(c)?X.merge.call({caseless:d},u,c):X.isPlainObject(c)?X.merge({},c):X.isArray(c)?c.slice():c}function i(u,c,d){if(X.isUndefined(c)){if(!X.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function o(u,c){if(!X.isUndefined(c))return r(void 0,c)}function s(u,c){if(X.isUndefined(c)){if(!X.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function l(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(u,c)=>i(Kg(u),Kg(c),!0)};return X.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=a[c]||i,f=d(t[c],e[c],c);X.isUndefined(f)&&d!==l||(n[c]=f)}),n}const dw="1.5.0",Cp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Cp[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Gg={};Cp.transitional=function(e,n,r){function i(o,s){return"[Axios v"+dw+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new Te(i(s," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!Gg[s]&&(Gg[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,l):!0}};function RA(t,e,n){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=t[o],a=l===void 0||s(l,o,t);if(a!==!0)throw new Te("option "+o+" must be "+a,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}const Ud={assertOptions:RA,validators:Cp},yr=Ud.validators;class Xa{constructor(e){this.defaults=e,this.interceptors={request:new Ug,response:new Ug}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Co(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Ud.assertOptions(r,{silentJSONParsing:yr.transitional(yr.boolean),forcedJSONParsing:yr.transitional(yr.boolean),clarifyTimeoutError:yr.transitional(yr.boolean)},!1),i!=null&&(X.isFunction(i)?n.paramsSerializer={serialize:i}:Ud.assertOptions(i,{encode:yr.function,serialize:yr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&X.merge(o.common,o[n.method]);o&&X.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=sr.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(a=a&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,f;if(!a){const p=[Wg.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,u),f=p.length,c=Promise.resolve(n);d<f;)c=c.then(p[d++],p[d++]);return c}f=l.length;let h=n;for(d=0;d<f;){const p=l[d++],v=l[d++];try{h=p(h)}catch(b){v.call(this,b);break}}try{c=Wg.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Co(this.defaults,e);const n=cw(e.baseURL,e.url);return sw(n,e.params,e.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(e){Xa.prototype[e]=function(n,r){return this.request(Co(r||{},{method:e,url:n,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,l){return this.request(Co(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Xa.prototype[e]=n(),Xa.prototype[e+"Form"]=n(!0)});const wa=Xa;class Np{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new kl(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Np(function(i){e=i}),cancel:e}}}const LA=Np;function IA(t){return function(n){return t.apply(null,n)}}function DA(t){return X.isObject(t)&&t.isAxiosError===!0}const Vd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vd).forEach(([t,e])=>{Vd[e]=t});const $A=Vd;function hw(t){const e=new wa(t),n=Gb(wa.prototype.request,e);return X.extend(n,wa.prototype,e,{allOwnKeys:!0}),X.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return hw(Co(t,i))},n}const Ye=hw(_p);Ye.Axios=wa;Ye.CanceledError=kl;Ye.CancelToken=LA;Ye.isCancel=uw;Ye.VERSION=dw;Ye.toFormData=Hu;Ye.AxiosError=Te;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=IA;Ye.isAxiosError=DA;Ye.mergeConfig=Co;Ye.AxiosHeaders=sr;Ye.formToJSON=t=>aw(X.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=fw.getAdapter;Ye.HttpStatusCode=$A;Ye.default=Ye;const jA=Ye,BA=localStorage.getItem("PC-token"),FA={baseURL:{}.VITE_API,timeout:3e4,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json"}},Go=jA.create(FA);Go.defaults.headers.common.Authorization=`Bearer ${BA}`;Go.interceptors.request.use(function(t){return t.headers["Content-Type"]="multipart/form-data",t},null,{synchronous:!0});Go.interceptors.response.use(function(t){return t},function(t){return console.log(t),Promise.reject(t)});const pw=async t=>Go.post("/test-posts",t).then(e=>e.data),zA=async t=>Go.get("/test-posts",{params:t}).then(e=>e.data);let Jg;const qA=(t,e=500)=>{clearTimeout(Jg),Jg=setTimeout(()=>{t()},e)},UA=t=>{const r=new DOMParser().parseFromString(t,"text/html").querySelectorAll('span[data-type="mention"][data-id]');return Array.from(r).map(o=>o.getAttribute("data-id"))},VA=t=>{const e=/<span[^>]*data-type="mention"[^>]*data-id="(\d+)"[^>]*>(.*?)<\/span>/g;return t.replace(e,(r,i)=>`<span data-type="mention" class="text-purple-600 font-semibold" data-id="${i}" data-label="${i}">@${i}</span>`)},HA=(t,e)=>{const r=new DOMParser().parseFromString(t,"text/html");return r.querySelectorAll('span[data-type="mention"]').forEach(s=>{const l=s.getAttribute("data-id"),a=e.find(u=>u.id===parseInt(l));a&&(s.innerHTML=`@${a.username}`,s.setAttribute("data-label",a.username))}),new XMLSerializer().serializeToString(r)},WA=()=>{const[t,e]=G.useState([]);G.useEffect(()=>{n()},[]);const n=()=>{zA({limit:-1,include:"taggedUsers"}).then(r=>{e(r==null?void 0:r.data)})};return ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"flex flex-wrap",children:t==null?void 0:t.map(r=>ae.jsx("div",{className:"w-2/4 p-5",children:ae.jsxs(kp,{children:[ae.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:r==null?void 0:r.title}),ae.jsx("hr",{}),ae.jsx("div",{className:"mt-5 prose prose-p:m-0 prose-p:leading-5 prose-li:m-0 prose-ul",dangerouslySetInnerHTML:{__html:HA(r==null?void 0:r.content,r==null?void 0:r.tagged_users)}})]})},r==null?void 0:r.id))})})};function KA(){this.__data__=[],this.size=0}var GA=KA;function JA(t,e){return t===e||t!==t&&e!==e}var mw=JA,YA=mw;function QA(t,e){for(var n=t.length;n--;)if(YA(t[n][0],e))return n;return-1}var Ku=QA,XA=Ku,ZA=Array.prototype,e_=ZA.splice;function t_(t){var e=this.__data__,n=XA(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():e_.call(e,n,1),--this.size,!0}var n_=t_,r_=Ku;function i_(t){var e=this.__data__,n=r_(e,t);return n<0?void 0:e[n][1]}var o_=i_,s_=Ku;function l_(t){return s_(this.__data__,t)>-1}var a_=l_,u_=Ku;function c_(t,e){var n=this.__data__,r=u_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var f_=c_,d_=GA,h_=n_,p_=o_,m_=a_,g_=f_;function Jo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jo.prototype.clear=d_;Jo.prototype.delete=h_;Jo.prototype.get=p_;Jo.prototype.has=m_;Jo.prototype.set=g_;var Gu=Jo,y_=Gu;function v_(){this.__data__=new y_,this.size=0}var b_=v_;function w_(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var S_=w_;function E_(t){return this.__data__.get(t)}var O_=E_;function k_(t){return this.__data__.has(t)}var x_=k_,T_=typeof Ht=="object"&&Ht&&Ht.Object===Object&&Ht,gw=T_,A_=gw,__=typeof self=="object"&&self&&self.Object===Object&&self,C_=A_||__||Function("return this")(),pr=C_,N_=pr,M_=N_.Symbol,Mp=M_,Yg=Mp,yw=Object.prototype,P_=yw.hasOwnProperty,R_=yw.toString,hs=Yg?Yg.toStringTag:void 0;function L_(t){var e=P_.call(t,hs),n=t[hs];try{t[hs]=void 0;var r=!0}catch{}var i=R_.call(t);return r&&(e?t[hs]=n:delete t[hs]),i}var I_=L_,D_=Object.prototype,$_=D_.toString;function j_(t){return $_.call(t)}var B_=j_,Qg=Mp,F_=I_,z_=B_,q_="[object Null]",U_="[object Undefined]",Xg=Qg?Qg.toStringTag:void 0;function V_(t){return t==null?t===void 0?U_:q_:Xg&&Xg in Object(t)?F_(t):z_(t)}var Ju=V_;function H_(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vw=H_,W_=Ju,K_=vw,G_="[object AsyncFunction]",J_="[object Function]",Y_="[object GeneratorFunction]",Q_="[object Proxy]";function X_(t){if(!K_(t))return!1;var e=W_(t);return e==J_||e==Y_||e==G_||e==Q_}var bw=X_,Z_=pr,eC=Z_["__core-js_shared__"],tC=eC,df=tC,Zg=function(){var t=/[^.]+$/.exec(df&&df.keys&&df.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function nC(t){return!!Zg&&Zg in t}var rC=nC,iC=Function.prototype,oC=iC.toString;function sC(t){if(t!=null){try{return oC.call(t)}catch{}try{return t+""}catch{}}return""}var ww=sC,lC=bw,aC=rC,uC=vw,cC=ww,fC=/[\\^$.*+?()[\]{}|]/g,dC=/^\[object .+?Constructor\]$/,hC=Function.prototype,pC=Object.prototype,mC=hC.toString,gC=pC.hasOwnProperty,yC=RegExp("^"+mC.call(gC).replace(fC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vC(t){if(!uC(t)||aC(t))return!1;var e=lC(t)?yC:dC;return e.test(cC(t))}var bC=vC;function wC(t,e){return t==null?void 0:t[e]}var SC=wC,EC=bC,OC=SC;function kC(t,e){var n=OC(t,e);return EC(n)?n:void 0}var Yo=kC,xC=Yo,TC=pr,AC=xC(TC,"Map"),Pp=AC,_C=Yo,CC=_C(Object,"create"),Yu=CC,ey=Yu;function NC(){this.__data__=ey?ey(null):{},this.size=0}var MC=NC;function PC(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var RC=PC,LC=Yu,IC="__lodash_hash_undefined__",DC=Object.prototype,$C=DC.hasOwnProperty;function jC(t){var e=this.__data__;if(LC){var n=e[t];return n===IC?void 0:n}return $C.call(e,t)?e[t]:void 0}var BC=jC,FC=Yu,zC=Object.prototype,qC=zC.hasOwnProperty;function UC(t){var e=this.__data__;return FC?e[t]!==void 0:qC.call(e,t)}var VC=UC,HC=Yu,WC="__lodash_hash_undefined__";function KC(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=HC&&e===void 0?WC:e,this}var GC=KC,JC=MC,YC=RC,QC=BC,XC=VC,ZC=GC;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=JC;Qo.prototype.delete=YC;Qo.prototype.get=QC;Qo.prototype.has=XC;Qo.prototype.set=ZC;var eN=Qo,ty=eN,tN=Gu,nN=Pp;function rN(){this.size=0,this.__data__={hash:new ty,map:new(nN||tN),string:new ty}}var iN=rN;function oN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var sN=oN,lN=sN;function aN(t,e){var n=t.__data__;return lN(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Qu=aN,uN=Qu;function cN(t){var e=uN(this,t).delete(t);return this.size-=e?1:0,e}var fN=cN,dN=Qu;function hN(t){return dN(this,t).get(t)}var pN=hN,mN=Qu;function gN(t){return mN(this,t).has(t)}var yN=gN,vN=Qu;function bN(t,e){var n=vN(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var wN=bN,SN=iN,EN=fN,ON=pN,kN=yN,xN=wN;function Xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xo.prototype.clear=SN;Xo.prototype.delete=EN;Xo.prototype.get=ON;Xo.prototype.has=kN;Xo.prototype.set=xN;var Sw=Xo,TN=Gu,AN=Pp,_N=Sw,CN=200;function NN(t,e){var n=this.__data__;if(n instanceof TN){var r=n.__data__;if(!AN||r.length<CN-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _N(r)}return n.set(t,e),this.size=n.size,this}var MN=NN,PN=Gu,RN=b_,LN=S_,IN=O_,DN=x_,$N=MN;function Zo(t){var e=this.__data__=new PN(t);this.size=e.size}Zo.prototype.clear=RN;Zo.prototype.delete=LN;Zo.prototype.get=IN;Zo.prototype.has=DN;Zo.prototype.set=$N;var jN=Zo,BN="__lodash_hash_undefined__";function FN(t){return this.__data__.set(t,BN),this}var zN=FN;function qN(t){return this.__data__.has(t)}var UN=qN,VN=Sw,HN=zN,WN=UN;function Za(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new VN;++e<n;)this.add(t[e])}Za.prototype.add=Za.prototype.push=HN;Za.prototype.has=WN;var KN=Za;function GN(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var JN=GN;function YN(t,e){return t.has(e)}var QN=YN,XN=KN,ZN=JN,eM=QN,tM=1,nM=2;function rM(t,e,n,r,i,o){var s=n&tM,l=t.length,a=e.length;if(l!=a&&!(s&&a>l))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,h=n&nM?new XN:void 0;for(o.set(t,e),o.set(e,t);++d<l;){var p=t[d],v=e[d];if(r)var b=s?r(v,p,d,e,t,o):r(p,v,d,t,e,o);if(b!==void 0){if(b)continue;f=!1;break}if(h){if(!ZN(e,function(m,y){if(!eM(h,y)&&(p===m||i(p,m,n,r,o)))return h.push(y)})){f=!1;break}}else if(!(p===v||i(p,v,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var Ew=rM,iM=pr,oM=iM.Uint8Array,sM=oM;function lM(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var aM=lM;function uM(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var cM=uM,ny=Mp,ry=sM,fM=mw,dM=Ew,hM=aM,pM=cM,mM=1,gM=2,yM="[object Boolean]",vM="[object Date]",bM="[object Error]",wM="[object Map]",SM="[object Number]",EM="[object RegExp]",OM="[object Set]",kM="[object String]",xM="[object Symbol]",TM="[object ArrayBuffer]",AM="[object DataView]",iy=ny?ny.prototype:void 0,hf=iy?iy.valueOf:void 0;function _M(t,e,n,r,i,o,s){switch(n){case AM:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case TM:return!(t.byteLength!=e.byteLength||!o(new ry(t),new ry(e)));case yM:case vM:case SM:return fM(+t,+e);case bM:return t.name==e.name&&t.message==e.message;case EM:case kM:return t==e+"";case wM:var l=hM;case OM:var a=r&mM;if(l||(l=pM),t.size!=e.size&&!a)return!1;var u=s.get(t);if(u)return u==e;r|=gM,s.set(t,e);var c=dM(l(t),l(e),r,i,o,s);return s.delete(t),c;case xM:if(hf)return hf.call(t)==hf.call(e)}return!1}var CM=_M;function NM(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var MM=NM,PM=Array.isArray,Rp=PM,RM=MM,LM=Rp;function IM(t,e,n){var r=e(t);return LM(t)?r:RM(r,n(t))}var DM=IM;function $M(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var jM=$M;function BM(){return[]}var FM=BM,zM=jM,qM=FM,UM=Object.prototype,VM=UM.propertyIsEnumerable,oy=Object.getOwnPropertySymbols,HM=oy?function(t){return t==null?[]:(t=Object(t),zM(oy(t),function(e){return VM.call(t,e)}))}:qM,WM=HM;function KM(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var GM=KM;function JM(t){return t!=null&&typeof t=="object"}var Xu=JM,YM=Ju,QM=Xu,XM="[object Arguments]";function ZM(t){return QM(t)&&YM(t)==XM}var e2=ZM,sy=e2,t2=Xu,Ow=Object.prototype,n2=Ow.hasOwnProperty,r2=Ow.propertyIsEnumerable,i2=sy(function(){return arguments}())?sy:function(t){return t2(t)&&n2.call(t,"callee")&&!r2.call(t,"callee")},o2=i2,eu={exports:{}};function s2(){return!1}var l2=s2;eu.exports;(function(t,e){var n=pr,r=l2,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,a=l?l.isBuffer:void 0,u=a||r;t.exports=u})(eu,eu.exports);var kw=eu.exports,a2=9007199254740991,u2=/^(?:0|[1-9]\d*)$/;function c2(t,e){var n=typeof t;return e=e??a2,!!e&&(n=="number"||n!="symbol"&&u2.test(t))&&t>-1&&t%1==0&&t<e}var f2=c2,d2=9007199254740991;function h2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=d2}var xw=h2,p2=Ju,m2=xw,g2=Xu,y2="[object Arguments]",v2="[object Array]",b2="[object Boolean]",w2="[object Date]",S2="[object Error]",E2="[object Function]",O2="[object Map]",k2="[object Number]",x2="[object Object]",T2="[object RegExp]",A2="[object Set]",_2="[object String]",C2="[object WeakMap]",N2="[object ArrayBuffer]",M2="[object DataView]",P2="[object Float32Array]",R2="[object Float64Array]",L2="[object Int8Array]",I2="[object Int16Array]",D2="[object Int32Array]",$2="[object Uint8Array]",j2="[object Uint8ClampedArray]",B2="[object Uint16Array]",F2="[object Uint32Array]",$e={};$e[P2]=$e[R2]=$e[L2]=$e[I2]=$e[D2]=$e[$2]=$e[j2]=$e[B2]=$e[F2]=!0;$e[y2]=$e[v2]=$e[N2]=$e[b2]=$e[M2]=$e[w2]=$e[S2]=$e[E2]=$e[O2]=$e[k2]=$e[x2]=$e[T2]=$e[A2]=$e[_2]=$e[C2]=!1;function z2(t){return g2(t)&&m2(t.length)&&!!$e[p2(t)]}var q2=z2;function U2(t){return function(e){return t(e)}}var V2=U2,tu={exports:{}};tu.exports;(function(t,e){var n=gw,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=function(){try{var a=i&&i.require&&i.require("util").types;return a||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(tu,tu.exports);var H2=tu.exports,W2=q2,K2=V2,ly=H2,ay=ly&&ly.isTypedArray,G2=ay?K2(ay):W2,Tw=G2,J2=GM,Y2=o2,Q2=Rp,X2=kw,Z2=f2,eP=Tw,tP=Object.prototype,nP=tP.hasOwnProperty;function rP(t,e){var n=Q2(t),r=!n&&Y2(t),i=!n&&!r&&X2(t),o=!n&&!r&&!i&&eP(t),s=n||r||i||o,l=s?J2(t.length,String):[],a=l.length;for(var u in t)(e||nP.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Z2(u,a)))&&l.push(u);return l}var iP=rP,oP=Object.prototype;function sP(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||oP;return t===n}var lP=sP;function aP(t,e){return function(n){return t(e(n))}}var uP=aP,cP=uP,fP=cP(Object.keys,Object),dP=fP,hP=lP,pP=dP,mP=Object.prototype,gP=mP.hasOwnProperty;function yP(t){if(!hP(t))return pP(t);var e=[];for(var n in Object(t))gP.call(t,n)&&n!="constructor"&&e.push(n);return e}var vP=yP,bP=bw,wP=xw;function SP(t){return t!=null&&wP(t.length)&&!bP(t)}var EP=SP,OP=iP,kP=vP,xP=EP;function TP(t){return xP(t)?OP(t):kP(t)}var AP=TP,_P=DM,CP=WM,NP=AP;function MP(t){return _P(t,NP,CP)}var PP=MP,uy=PP,RP=1,LP=Object.prototype,IP=LP.hasOwnProperty;function DP(t,e,n,r,i,o){var s=n&RP,l=uy(t),a=l.length,u=uy(e),c=u.length;if(a!=c&&!s)return!1;for(var d=a;d--;){var f=l[d];if(!(s?f in e:IP.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var v=!0;o.set(t,e),o.set(e,t);for(var b=s;++d<a;){f=l[d];var m=t[f],y=e[f];if(r)var w=s?r(y,m,f,e,t,o):r(m,y,f,t,e,o);if(!(w===void 0?m===y||i(m,y,n,r,o):w)){v=!1;break}b||(b=f=="constructor")}if(v&&!b){var g=t.constructor,S=e.constructor;g!=S&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var $P=DP,jP=Yo,BP=pr,FP=jP(BP,"DataView"),zP=FP,qP=Yo,UP=pr,VP=qP(UP,"Promise"),HP=VP,WP=Yo,KP=pr,GP=WP(KP,"Set"),JP=GP,YP=Yo,QP=pr,XP=YP(QP,"WeakMap"),ZP=XP,Hd=zP,Wd=Pp,Kd=HP,Gd=JP,Jd=ZP,Aw=Ju,es=ww,cy="[object Map]",eR="[object Object]",fy="[object Promise]",dy="[object Set]",hy="[object WeakMap]",py="[object DataView]",tR=es(Hd),nR=es(Wd),rR=es(Kd),iR=es(Gd),oR=es(Jd),oi=Aw;(Hd&&oi(new Hd(new ArrayBuffer(1)))!=py||Wd&&oi(new Wd)!=cy||Kd&&oi(Kd.resolve())!=fy||Gd&&oi(new Gd)!=dy||Jd&&oi(new Jd)!=hy)&&(oi=function(t){var e=Aw(t),n=e==eR?t.constructor:void 0,r=n?es(n):"";if(r)switch(r){case tR:return py;case nR:return cy;case rR:return fy;case iR:return dy;case oR:return hy}return e});var sR=oi,pf=jN,lR=Ew,aR=CM,uR=$P,my=sR,gy=Rp,yy=kw,cR=Tw,fR=1,vy="[object Arguments]",by="[object Array]",Yl="[object Object]",dR=Object.prototype,wy=dR.hasOwnProperty;function hR(t,e,n,r,i,o){var s=gy(t),l=gy(e),a=s?by:my(t),u=l?by:my(e);a=a==vy?Yl:a,u=u==vy?Yl:u;var c=a==Yl,d=u==Yl,f=a==u;if(f&&yy(t)){if(!yy(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new pf),s||cR(t)?lR(t,e,n,r,i,o):aR(t,e,a,n,r,i,o);if(!(n&fR)){var h=c&&wy.call(t,"__wrapped__"),p=d&&wy.call(e,"__wrapped__");if(h||p){var v=h?t.value():t,b=p?e.value():e;return o||(o=new pf),i(v,b,n,r,o)}}return f?(o||(o=new pf),uR(t,e,n,r,i,o)):!1}var pR=hR,mR=pR,Sy=Xu;function _w(t,e,n,r,i){return t===e?!0:t==null||e==null||!Sy(t)&&!Sy(e)?t!==t&&e!==e:mR(t,e,n,r,_w,i)}var gR=_w,yR=gR;function vR(t,e){return yR(t,e)}var bR=vR,Cw={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Ht,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:l})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),l=i(19),a=i(45),u=i(46),c=i(47),d=i(48),f=i(49),h=i(12),p=i(32),v=i(33),b=i(31),m=i(1),y={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:l.default,Embed:d.default,Scroll:a.default,Block:c.default,Inline:u.default,Text:f.default,Attributor:{Attribute:h.default,Class:p.default,Style:v.default,Store:b.default}};r.default=y},function(n,r,i){var o=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var w in y)y.hasOwnProperty(w)&&(m[w]=y[w])};return function(m,y){b(m,y);function w(){this.constructor=m}m.prototype=y===null?Object.create(y):(w.prototype=y.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(b){o(m,b);function m(y){var w=this;return y="[Parchment] "+y,w=b.call(this,y)||this,w.message=y,w.name=w.constructor.name,w}return m}(Error);r.ParchmentError=s;var l={},a={},u={},c={};r.DATA_KEY="__blot";var d;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(d=r.Scope||(r.Scope={}));function f(b,m){var y=p(b);if(y==null)throw new s("Unable to create "+b+" blot");var w=y,g=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(m);return new w(g,m)}r.create=f;function h(b,m){return m===void 0&&(m=!1),b==null?null:b[r.DATA_KEY]!=null?b[r.DATA_KEY].blot:m?h(b.parentNode,m):null}r.find=h;function p(b,m){m===void 0&&(m=d.ANY);var y;if(typeof b=="string")y=c[b]||l[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)y=c.text;else if(typeof b=="number")b&d.LEVEL&d.BLOCK?y=c.block:b&d.LEVEL&d.INLINE&&(y=c.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var g in w)if(y=a[w[g]],y)break;y=y||u[b.tagName]}return y==null?null:m&d.LEVEL&y.scope&&m&d.TYPE&y.scope?y:null}r.query=p;function v(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];if(b.length>1)return b.map(function(g){return v(g)});var y=b[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new s("Invalid definition");if(y.blotName==="abstract")throw new s("Cannot register abstract class");if(c[y.blotName||y.attrName]=y,typeof y.keyName=="string")l[y.keyName]=y;else if(y.className!=null&&(a[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(g){return g.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var w=Array.isArray(y.tagName)?y.tagName:[y.tagName];w.forEach(function(g){(u[g]==null||y.className==null)&&(u[g]=y)})}return y}r.register=v},function(n,r,i){var o=i(51),s=i(11),l=i(3),a=i(20),u=String.fromCharCode(0),c=function(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]};c.prototype.insert=function(d,f){var h={};return d.length===0?this:(h.insert=d,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h))},c.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},c.prototype.retain=function(d,f){if(d<=0)return this;var h={retain:d};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(h.attributes=f),this.push(h)},c.prototype.push=function(d){var f=this.ops.length,h=this.ops[f-1];if(d=l(!0,{},d),typeof h=="object"){if(typeof d.delete=="number"&&typeof h.delete=="number")return this.ops[f-1]={delete:h.delete+d.delete},this;if(typeof h.delete=="number"&&d.insert!=null&&(f-=1,h=this.ops[f-1],typeof h!="object"))return this.ops.unshift(d),this;if(s(d.attributes,h.attributes)){if(typeof d.insert=="string"&&typeof h.insert=="string")return this.ops[f-1]={insert:h.insert+d.insert},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof h.retain=="number")return this.ops[f-1]={retain:h.retain+d.retain},typeof d.attributes=="object"&&(this.ops[f-1].attributes=d.attributes),this}}return f===this.ops.length?this.ops.push(d):this.ops.splice(f,0,d),this},c.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},c.prototype.filter=function(d){return this.ops.filter(d)},c.prototype.forEach=function(d){this.ops.forEach(d)},c.prototype.map=function(d){return this.ops.map(d)},c.prototype.partition=function(d){var f=[],h=[];return this.forEach(function(p){var v=d(p)?f:h;v.push(p)}),[f,h]},c.prototype.reduce=function(d,f){return this.ops.reduce(d,f)},c.prototype.changeLength=function(){return this.reduce(function(d,f){return f.insert?d+a.length(f):f.delete?d-f.delete:d},0)},c.prototype.length=function(){return this.reduce(function(d,f){return d+a.length(f)},0)},c.prototype.slice=function(d,f){d=d||0,typeof f!="number"&&(f=1/0);for(var h=[],p=a.iterator(this.ops),v=0;v<f&&p.hasNext();){var b;v<d?b=p.next(d-v):(b=p.next(f-v),h.push(b)),v+=a.length(b)}return new c(h)},c.prototype.compose=function(d){var f=a.iterator(this.ops),h=a.iterator(d.ops),p=[],v=h.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var b=v.retain;f.peekType()==="insert"&&f.peekLength()<=b;)b-=f.peekLength(),p.push(f.next());v.retain-b>0&&h.next(v.retain-b)}for(var m=new c(p);f.hasNext()||h.hasNext();)if(h.peekType()==="insert")m.push(h.next());else if(f.peekType()==="delete")m.push(f.next());else{var y=Math.min(f.peekLength(),h.peekLength()),w=f.next(y),g=h.next(y);if(typeof g.retain=="number"){var S={};typeof w.retain=="number"?S.retain=y:S.insert=w.insert;var E=a.attributes.compose(w.attributes,g.attributes,typeof w.retain=="number");if(E&&(S.attributes=E),m.push(S),!h.hasNext()&&s(m.ops[m.ops.length-1],S)){var O=new c(f.rest());return m.concat(O).chop()}}else typeof g.delete=="number"&&typeof w.retain=="number"&&m.push(g)}return m.chop()},c.prototype.concat=function(d){var f=new c(this.ops.slice());return d.ops.length>0&&(f.push(d.ops[0]),f.ops=f.ops.concat(d.ops.slice(1))),f},c.prototype.diff=function(d,f){if(this.ops===d.ops)return new c;var h=[this,d].map(function(y){return y.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var g=y===d?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),p=new c,v=o(h[0],h[1],f),b=a.iterator(this.ops),m=a.iterator(d.ops);return v.forEach(function(y){for(var w=y[1].length;w>0;){var g=0;switch(y[0]){case o.INSERT:g=Math.min(m.peekLength(),w),p.push(m.next(g));break;case o.DELETE:g=Math.min(w,b.peekLength()),b.next(g),p.delete(g);break;case o.EQUAL:g=Math.min(b.peekLength(),m.peekLength(),w);var S=b.next(g),E=m.next(g);s(S.insert,E.insert)?p.retain(g,a.attributes.diff(S.attributes,E.attributes)):p.push(E).delete(g);break}w-=g}}),p.chop()},c.prototype.eachLine=function(d,f){f=f||`
`;for(var h=a.iterator(this.ops),p=new c,v=0;h.hasNext();){if(h.peekType()!=="insert")return;var b=h.peek(),m=a.length(b)-h.peekLength(),y=typeof b.insert=="string"?b.insert.indexOf(f,m)-m:-1;if(y<0)p.push(h.next());else if(y>0)p.push(h.next(y));else{if(d(p,h.next(1).attributes||{},v)===!1)return;v+=1,p=new c}}p.length()>0&&d(p,{},v)},c.prototype.transform=function(d,f){if(f=!!f,typeof d=="number")return this.transformPosition(d,f);for(var h=a.iterator(this.ops),p=a.iterator(d.ops),v=new c;h.hasNext()||p.hasNext();)if(h.peekType()==="insert"&&(f||p.peekType()!=="insert"))v.retain(a.length(h.next()));else if(p.peekType()==="insert")v.push(p.next());else{var b=Math.min(h.peekLength(),p.peekLength()),m=h.next(b),y=p.next(b);if(m.delete)continue;y.delete?v.push(y):v.retain(b,a.attributes.transform(m.attributes,y.attributes,f))}return v.chop()},c.prototype.transformPosition=function(d,f){f=!!f;for(var h=a.iterator(this.ops),p=0;h.hasNext()&&p<=d;){var v=h.peekLength(),b=h.peekType();if(h.next(),b==="delete"){d-=Math.min(v,d-p);continue}else b==="insert"&&(p<d||!f)&&(d+=v);p+=v}return d},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,a=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var p=i.call(h,"constructor"),v=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!v)return!1;var b;for(b in h);return typeof b>"u"||i.call(h,b)},c=function(h,p){s&&p.name==="__proto__"?s(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},d=function(h,p){if(p==="__proto__")if(i.call(h,p)){if(l)return l(h,p).value}else return;return h[p]};n.exports=function f(){var h,p,v,b,m,y,w=arguments[0],g=1,S=arguments.length,E=!1;for(typeof w=="boolean"&&(E=w,w=arguments[1]||{},g=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});g<S;++g)if(h=arguments[g],h!=null)for(p in h)v=d(w,p),b=d(h,p),w!==b&&(E&&b&&(u(b)||(m=a(b)))?(m?(m=!1,y=v&&a(v)?v:[]):y=v&&u(v)?v:{},c(w,{name:p,newValue:f(E,y,b)})):typeof b<"u"&&c(w,{name:p,newValue:b}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function x(A,N){for(var M=0;M<N.length;M++){var I=N[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,N,M){return N&&x(A.prototype,N),M&&x(A,M),A}}(),s=function x(A,N,M){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,N);if(I===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:x(F,N,M)}else{if("value"in I)return I.value;var q=I.get;return q===void 0?void 0:q.call(M)}},l=i(3),a=w(l),u=i(2),c=w(u),d=i(0),f=w(d),h=i(16),p=w(h),v=i(6),b=w(v),m=i(7),y=w(m);function w(x){return x&&x.__esModule?x:{default:x}}function g(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function S(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function E(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var O=1,k=function(x){E(A,x);function A(){return g(this,A),S(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"attach",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(M,I){var F=f.default.query(M,f.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,I)}},{key:"formatAt",value:function(M,I,F,q){this.format(F,q)}},{key:"insertAt",value:function(M,I,F){if(typeof I=="string"&&I.endsWith(`
`)){var q=f.default.create(_.blotName);this.parent.insertBefore(q,M===0?this:this.next),q.insertAt(0,I.slice(0,-1))}else s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,M,I,F)}}]),A}(f.default.Embed);k.scope=f.default.Scope.BLOCK_BLOT;var _=function(x){E(A,x);function A(N){g(this,A);var M=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N));return M.cache={},M}return o(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(M,I){return I.length()===0?M:M.insert(I.value(),T(I))},new c.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(M,I){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,M,I),this.cache={}}},{key:"formatAt",value:function(M,I,F,q){I<=0||(f.default.query(F,f.default.Scope.BLOCK)?M+I===this.length()&&this.format(F,q):s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,M,Math.min(I,this.length()-M-1),F,q),this.cache={})}},{key:"insertAt",value:function(M,I,F){if(F!=null)return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,M,I,F);if(I.length!==0){var q=I.split(`
`),U=q.shift();U.length>0&&(M<this.length()-1||this.children.tail==null?s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(M,this.length()-1),U):this.children.tail.insertAt(this.children.tail.length(),U),this.cache={});var j=this;q.reduce(function(L,C){return j=j.split(L,!0),j.insertAt(0,C),C.length},M+U.length)}}},{key:"insertBefore",value:function(M,I){var F=this.children.head;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,M,I),F instanceof p.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(M,I){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,M,I),this.cache={}}},{key:"optimize",value:function(M){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,M),this.cache={}}},{key:"path",value:function(M){return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,M,!0)}},{key:"removeChild",value:function(M){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,M),this.cache={}}},{key:"split",value:function(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I&&(M===0||M>=this.length()-O)){var F=this.clone();return M===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}else{var q=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,M,I);return this.cache={},q}}}]),A}(f.default.Block);_.blotName="block",_.tagName="P",_.defaultChild="break",_.allowedChildren=[b.default,f.default.Embed,y.default];function T(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return x==null||(typeof x.formats=="function"&&(A=(0,a.default)(A,x.formats())),x.parent==null||x.parent.blotName=="scroll"||x.parent.statics.scope!==x.statics.scope)?A:T(x.parent,A)}r.bubbleFormats=T,r.BlockEmbed=k,r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(L,C){var R=[],D=!0,V=!1,z=void 0;try{for(var P=L[Symbol.iterator](),B;!(D=(B=P.next()).done)&&(R.push(B.value),!(C&&R.length===C));D=!0);}catch(H){V=!0,z=H}finally{try{!D&&P.return&&P.return()}finally{if(V)throw z}}return R}return function(L,C){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function j(L,C){for(var R=0;R<C.length;R++){var D=C[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}return function(L,C,R){return C&&j(L.prototype,C),R&&j(L,R),L}}();i(50);var a=i(2),u=T(a),c=i(14),d=T(c),f=i(8),h=T(f),p=i(9),v=T(p),b=i(0),m=T(b),y=i(15),w=T(y),g=i(3),S=T(g),E=i(10),O=T(E),k=i(34),_=T(k);function T(j){return j&&j.__esModule?j:{default:j}}function x(j,L,C){return L in j?Object.defineProperty(j,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[L]=C,j}function A(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var N=(0,O.default)("quill"),M=function(){l(j,null,[{key:"debug",value:function(C){C===!0&&(C="log"),O.default.level(C)}},{key:"find",value:function(C){return C.__quill||m.default.find(C)}},{key:"import",value:function(C){return this.imports[C]==null&&N.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,R){var D=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof C!="string"){var z=C.attrName||C.blotName;typeof z=="string"?this.register("formats/"+z,C,R):Object.keys(C).forEach(function(P){D.register(P,C[P],R)})}else this.imports[C]!=null&&!V&&N.warn("Overwriting "+C+" with",R),this.imports[C]=R,(C.startsWith("blots/")||C.startsWith("formats/"))&&R.blotName!=="abstract"?m.default.register(R):C.startsWith("modules")&&typeof R.register=="function"&&R.register()}}]);function j(L){var C=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,j),this.options=I(L,R),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",L);this.options.debug&&j.debug(this.options.debug);var D=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new d.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(z){z===h.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(z,P){var B=C.selection.lastRange,H=B&&B.length===0?B.index:void 0;F.call(C,function(){return C.editor.update(null,P,H)},z)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+D+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(j,[{key:"addContainer",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof C=="string"){var D=C;C=document.createElement("div"),C.classList.add(D)}return this.container.insertBefore(C,R),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,R,D){var V=this,z=q(C,R,D),P=s(z,4);return C=P[0],R=P[1],D=P[3],F.call(this,function(){return V.editor.deleteText(C,R)},D,C,-1*R)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,R){var D=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return F.call(this,function(){var z=D.getSelection(!0),P=new u.default;if(z==null)return P;if(m.default.query(C,m.default.Scope.BLOCK))P=D.editor.formatLine(z.index,z.length,x({},C,R));else{if(z.length===0)return D.selection.format(C,R),P;P=D.editor.formatText(z.index,z.length,x({},C,R))}return D.setSelection(z,h.default.sources.SILENT),P},V)}},{key:"formatLine",value:function(C,R,D,V,z){var P=this,B=void 0,H=q(C,R,D,V,z),W=s(H,4);return C=W[0],R=W[1],B=W[2],z=W[3],F.call(this,function(){return P.editor.formatLine(C,R,B)},z,C,0)}},{key:"formatText",value:function(C,R,D,V,z){var P=this,B=void 0,H=q(C,R,D,V,z),W=s(H,4);return C=W[0],R=W[1],B=W[2],z=W[3],F.call(this,function(){return P.editor.formatText(C,R,B)},z,C,0)}},{key:"getBounds",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=void 0;typeof C=="number"?D=this.selection.getBounds(C,R):D=this.selection.getBounds(C.index,C.length);var V=this.container.getBoundingClientRect();return{bottom:D.bottom-V.top,height:D.height,left:D.left-V.left,right:D.right-V.left,top:D.top-V.top,width:D.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,D=q(C,R),V=s(D,2);return C=V[0],R=V[1],this.editor.getContents(C,R)}},{key:"getFormat",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof C=="number"?this.editor.getFormat(C,R):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof C!="number"?this.scroll.lines(C.index,C.length):this.scroll.lines(C,R)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return C&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-C,D=q(C,R),V=s(D,2);return C=V[0],R=V[1],this.editor.getText(C,R)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,R,D){var V=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j.sources.API;return F.call(this,function(){return V.editor.insertEmbed(C,R,D)},z,C)}},{key:"insertText",value:function(C,R,D,V,z){var P=this,B=void 0,H=q(C,0,D,V,z),W=s(H,4);return C=W[0],B=W[2],z=W[3],F.call(this,function(){return P.editor.insertText(C,R,B)},z,C,R.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,R,D){this.clipboard.dangerouslyPasteHTML(C,R,D)}},{key:"removeFormat",value:function(C,R,D){var V=this,z=q(C,R,D),P=s(z,4);return C=P[0],R=P[1],D=P[3],F.call(this,function(){return V.editor.removeFormat(C,R)},D,C)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return F.call(this,function(){C=new u.default(C);var V=R.getLength(),z=R.editor.deleteText(0,V),P=R.editor.applyDelta(C),B=P.ops[P.ops.length-1];B!=null&&typeof B.insert=="string"&&B.insert[B.insert.length-1]===`
`&&(R.editor.deleteText(R.getLength()-1,1),P.delete(1));var H=z.compose(P);return H},D)}},{key:"setSelection",value:function(C,R,D){if(C==null)this.selection.setRange(null,R||j.sources.API);else{var V=q(C,R,D),z=s(V,4);C=z[0],R=z[1],D=z[3],this.selection.setRange(new y.Range(C,R),D),D!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,D=new u.default().insert(C);return this.setContents(D,R)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,R=this.scroll.update(C);return this.selection.update(C),R}},{key:"updateContents",value:function(C){var R=this,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return F.call(this,function(){return C=new u.default(C),R.editor.applyDelta(C,D)},D,!0)}}]),j}();M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=h.default.events,M.sources=h.default.sources,M.version="1.3.7",M.imports={delta:u.default,parchment:m.default,"core/module":v.default,"core/theme":_.default};function I(j,L){if(L=(0,S.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===M.DEFAULTS.theme)L.theme=_.default;else if(L.theme=M.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var C=(0,S.default)(!0,{},L.theme.DEFAULTS);[C,L].forEach(function(V){V.modules=V.modules||{},Object.keys(V.modules).forEach(function(z){V.modules[z]===!0&&(V.modules[z]={})})});var R=Object.keys(C.modules).concat(Object.keys(L.modules)),D=R.reduce(function(V,z){var P=M.import("modules/"+z);return P==null?N.error("Cannot load "+z+" module. Are you sure you registered it?"):V[z]=P.DEFAULTS||{},V},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,S.default)(!0,{},M.DEFAULTS,{modules:D},C,L),["bounds","container","scrollingContainer"].forEach(function(V){typeof L[V]=="string"&&(L[V]=document.querySelector(L[V]))}),L.modules=Object.keys(L.modules).reduce(function(V,z){return L.modules[z]&&(V[z]=L.modules[z]),V},{}),L}function F(j,L,C,R){if(this.options.strict&&!this.isEnabled()&&L===h.default.sources.USER)return new u.default;var D=C==null?null:this.getSelection(),V=this.editor.delta,z=j();if(D!=null&&(C===!0&&(C=D.index),R==null?D=U(D,z,L):R!==0&&(D=U(D,C,R,L)),this.setSelection(D,h.default.sources.SILENT)),z.length()>0){var P,B=[h.default.events.TEXT_CHANGE,z,V,L];if((P=this.emitter).emit.apply(P,[h.default.events.EDITOR_CHANGE].concat(B)),L!==h.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,B)}}return z}function q(j,L,C,R,D){var V={};return typeof j.index=="number"&&typeof j.length=="number"?typeof L!="number"?(D=R,R=C,C=L,L=j.length,j=j.index):(L=j.length,j=j.index):typeof L!="number"&&(D=R,R=C,C=L,L=0),(typeof C>"u"?"undefined":o(C))==="object"?(V=C,D=R):typeof C=="string"&&(R!=null?V[C]=R:D=C),D=D||h.default.sources.API,[j,L,V,D]}function U(j,L,C,R){if(j==null)return null;var D=void 0,V=void 0;if(L instanceof u.default){var z=[j.index,j.index+j.length].map(function(W){return L.transformPosition(W,R!==h.default.sources.USER)}),P=s(z,2);D=P[0],V=P[1]}else{var B=[j.index,j.index+j.length].map(function(W){return W<L||W===L&&R===h.default.sources.USER?W:C>=0?W+C:Math.max(L,W+C)}),H=s(B,2);D=H[0],V=H[1]}return new y.Range(D,V-D)}r.expandConfig=I,r.overload=q,r.default=M},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(m,y){for(var w=0;w<y.length;w++){var g=y[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,w){return y&&b(m.prototype,y),w&&b(m,w),m}}(),s=function b(m,y,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:b(S,y,w)}else{if("value"in g)return g.value;var E=g.get;return E===void 0?void 0:E.call(w)}},l=i(7),a=d(l),u=i(0),c=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function h(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function p(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var v=function(b){p(m,b);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(w,g,S,E){if(m.compare(this.statics.blotName,S)<0&&c.default.query(S,c.default.Scope.BLOT)){var O=this.isolate(w,g);E&&O.wrap(S,E)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,w,g,S,E)}},{key:"optimize",value:function(w){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,w),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(w,g){var S=m.order.indexOf(w),E=m.order.indexOf(g);return S>=0||E>=0?S-E:w===g?0:w<g?-1:1}}]),m}(c.default.Inline);v.allowedChildren=[v,c.default.Embed,a.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(w,g){for(var S=0;S<g.length;S++){var E=g[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,g,S){return g&&y(w.prototype,g),S&&y(w,S),w}}(),s=function y(w,g,S){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,g);if(E===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:y(O,g,S)}else{if("value"in E)return E.value;var k=E.get;return k===void 0?void 0:k.call(S)}},l=i(54),a=d(l),u=i(10),c=d(u);function d(y){return y&&y.__esModule?y:{default:y}}function f(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")}function h(y,w){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:y}function p(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);y.prototype=Object.create(w&&w.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(y,w):y.__proto__=w)}var v=(0,c.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(y){document.addEventListener(y,function(){for(var w=arguments.length,g=Array(w),S=0;S<w;S++)g[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(E){if(E.__quill&&E.__quill.emitter){var O;(O=E.__quill.emitter).handleDOM.apply(O,g)}})})});var m=function(y){p(w,y);function w(){f(this,w);var g=h(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return g.listeners={},g.on("error",v.error),g}return o(w,[{key:"emit",value:function(){v.log.apply(v,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var E=arguments.length,O=Array(E>1?E-1:0),k=1;k<E;k++)O[k-1]=arguments[k];(this.listeners[S.type]||[]).forEach(function(_){var T=_.node,x=_.handler;(S.target===T||T.contains(S.target))&&x.apply(void 0,[S].concat(O))})}},{key:"listenDOM",value:function(S,E,O){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:E,handler:O})}}]),w}(a.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}var s=function l(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,l),this.quill=a,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function l(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];(c=console)[u].apply(c,f)}}function a(u){return o.reduce(function(c,d){return c[d]=l.bind(console,d,u),c},{})}l.level=a.level=function(u){s=u},r.default=a},function(n,r,i){var o=Array.prototype.slice,s=i(52),l=i(53),a=n.exports=function(f,h,p){return p||(p={}),f===h?!0:f instanceof Date&&h instanceof Date?f.getTime()===h.getTime():!f||!h||typeof f!="object"&&typeof h!="object"?p.strict?f===h:f==h:d(f,h,p)};function u(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function d(f,h,p){var v,b;if(u(f)||u(h)||f.prototype!==h.prototype)return!1;if(l(f))return l(h)?(f=o.call(f),h=o.call(h),a(f,h,p)):!1;if(c(f)){if(!c(h)||f.length!==h.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==h[v])return!1;return!0}try{var m=s(f),y=s(h)}catch{return!1}if(m.length!=y.length)return!1;for(m.sort(),y.sort(),v=m.length-1;v>=0;v--)if(m[v]!=y[v])return!1;for(v=m.length-1;v>=0;v--)if(b=m[v],!a(f[b],h[b],p))return!1;return typeof f==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function l(a,u,c){c===void 0&&(c={}),this.attrName=a,this.keyName=u;var d=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|d:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return l.keys=function(a){return[].map.call(a.attributes,function(u){return u.name})},l.prototype.add=function(a,u){return this.canAdd(a,u)?(a.setAttribute(this.keyName,u),!0):!1},l.prototype.canAdd=function(a,u){var c=o.query(a,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},l.prototype.remove=function(a){a.removeAttribute(this.keyName)},l.prototype.value=function(a){var u=a.getAttribute(this.keyName);return this.canAdd(a,u)&&u?u:""},l}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function k(_,T){var x=[],A=!0,N=!1,M=void 0;try{for(var I=_[Symbol.iterator](),F;!(A=(F=I.next()).done)&&(x.push(F.value),!(T&&x.length===T));A=!0);}catch(q){N=!0,M=q}finally{try{!A&&I.return&&I.return()}finally{if(N)throw M}}return x}return function(_,T){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return k(_,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(_,T){for(var x=0;x<T.length;x++){var A=T[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,T,x){return T&&k(_.prototype,T),x&&k(_,x),_}}(),l=function k(_,T,x){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,T);if(A===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:k(N,T,x)}else{if("value"in A)return A.value;var M=A.get;return M===void 0?void 0:M.call(x)}},a=i(2),u=y(a),c=i(0),d=y(c),f=i(4),h=y(f),p=i(6),v=y(p),b=i(7),m=y(b);function y(k){return k&&k.__esModule?k:{default:k}}function w(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}function g(k,_){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:k}function S(k,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);k.prototype=Object.create(_&&_.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(k,_):k.__proto__=_)}var E=function(k){S(_,k);function _(){return w(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(v.default);E.blotName="code",E.tagName="CODE";var O=function(k){S(_,k);function _(){return w(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"delta",value:function(){var x=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(N,M){return N.insert(M).insert(`
`,x.formats())},new u.default)}},{key:"format",value:function(x,A){if(!(x===this.statics.blotName&&A)){var N=this.descendant(m.default,this.length()-1),M=o(N,1),I=M[0];I!=null&&I.deleteAt(I.length()-1,1),l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,x,A)}}},{key:"formatAt",value:function(x,A,N,M){if(A!==0&&!(d.default.query(N,d.default.Scope.BLOCK)==null||N===this.statics.blotName&&M===this.statics.formats(this.domNode))){var I=this.newlineIndex(x);if(!(I<0||I>=x+A)){var F=this.newlineIndex(x,!0)+1,q=I-F+1,U=this.isolate(F,q),j=U.next;U.format(N,M),j instanceof _&&j.formatAt(0,x-F+A-q,N,M)}}}},{key:"insertAt",value:function(x,A,N){if(N==null){var M=this.descendant(m.default,x),I=o(M,2),F=I[0],q=I[1];F.insertAt(q,A)}}},{key:"length",value:function(){var x=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?x:x+1}},{key:"newlineIndex",value:function(x){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,x).lastIndexOf(`
`);var N=this.domNode.textContent.slice(x).indexOf(`
`);return N>-1?x+N:-1}},{key:"optimize",value:function(x){this.domNode.textContent.endsWith(`
`)||this.appendChild(d.default.create("text",`
`)),l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,x);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(x),A.moveChildren(this),A.remove())}},{key:"replace",value:function(x){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replace",this).call(this,x),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var N=d.default.find(A);N==null?A.parentNode.removeChild(A):N instanceof d.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(x){var A=l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,x);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),_}(h.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=E,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(L,C){var R=[],D=!0,V=!1,z=void 0;try{for(var P=L[Symbol.iterator](),B;!(D=(B=P.next()).done)&&(R.push(B.value),!(C&&R.length===C));D=!0);}catch(H){V=!0,z=H}finally{try{!D&&P.return&&P.return()}finally{if(V)throw z}}return R}return function(L,C){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return j(L,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function j(L,C){for(var R=0;R<C.length;R++){var D=C[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(L,D.key,D)}}return function(L,C,R){return C&&j(L.prototype,C),R&&j(L,R),L}}(),a=i(2),u=A(a),c=i(20),d=A(c),f=i(0),h=A(f),p=i(13),v=A(p),b=i(24),m=A(b),y=i(4),w=A(y),g=i(16),S=A(g),E=i(21),O=A(E),k=i(11),_=A(k),T=i(3),x=A(T);function A(j){return j&&j.__esModule?j:{default:j}}function N(j,L,C){return L in j?Object.defineProperty(j,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[L]=C,j}function M(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}var I=/^[ -~]*$/,F=function(){function j(L){M(this,j),this.scroll=L,this.delta=this.getDelta()}return l(j,[{key:"applyDelta",value:function(C){var R=this,D=!1;this.scroll.update();var V=this.scroll.length();return this.scroll.batchStart(),C=U(C),C.reduce(function(z,P){var B=P.retain||P.delete||P.insert.length||1,H=P.attributes||{};if(P.insert!=null){if(typeof P.insert=="string"){var W=P.insert;W.endsWith(`
`)&&D&&(D=!1,W=W.slice(0,-1)),z>=V&&!W.endsWith(`
`)&&(D=!0),R.scroll.insertAt(z,W);var Q=R.scroll.line(z),se=s(Q,2),he=se[0],pe=se[1],be=(0,x.default)({},(0,y.bubbleFormats)(he));if(he instanceof w.default){var Oe=he.descendant(h.default.Leaf,pe),Ve=s(Oe,1),Pe=Ve[0];be=(0,x.default)(be,(0,y.bubbleFormats)(Pe))}H=d.default.attributes.diff(be,H)||{}}else if(o(P.insert)==="object"){var K=Object.keys(P.insert)[0];if(K==null)return z;R.scroll.insertAt(z,K,P.insert[K])}V+=B}return Object.keys(H).forEach(function(J){R.scroll.formatAt(z,B,J,H[J])}),z+B},0),C.reduce(function(z,P){return typeof P.delete=="number"?(R.scroll.deleteAt(z,P.delete),z):z+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,R){return this.scroll.deleteAt(C,R),this.update(new u.default().retain(C).delete(R))}},{key:"formatLine",value:function(C,R){var D=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(V).forEach(function(z){if(!(D.scroll.whitelist!=null&&!D.scroll.whitelist[z])){var P=D.scroll.lines(C,Math.max(R,1)),B=R;P.forEach(function(H){var W=H.length();if(!(H instanceof v.default))H.format(z,V[z]);else{var Q=C-H.offset(D.scroll),se=H.newlineIndex(Q+B)-Q+1;H.formatAt(Q,se,z,V[z])}B-=W})}}),this.scroll.optimize(),this.update(new u.default().retain(C).retain(R,(0,O.default)(V)))}},{key:"formatText",value:function(C,R){var D=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(V).forEach(function(z){D.scroll.formatAt(C,R,z,V[z])}),this.update(new u.default().retain(C).retain(R,(0,O.default)(V)))}},{key:"getContents",value:function(C,R){return this.delta.slice(C,C+R)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,R){return C.concat(R.delta())},new u.default)}},{key:"getFormat",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=[],V=[];R===0?this.scroll.path(C).forEach(function(P){var B=s(P,1),H=B[0];H instanceof w.default?D.push(H):H instanceof h.default.Leaf&&V.push(H)}):(D=this.scroll.lines(C,R),V=this.scroll.descendants(h.default.Leaf,C,R));var z=[D,V].map(function(P){if(P.length===0)return{};for(var B=(0,y.bubbleFormats)(P.shift());Object.keys(B).length>0;){var H=P.shift();if(H==null)return B;B=q((0,y.bubbleFormats)(H),B)}return B});return x.default.apply(x.default,z)}},{key:"getText",value:function(C,R){return this.getContents(C,R).filter(function(D){return typeof D.insert=="string"}).map(function(D){return D.insert}).join("")}},{key:"insertEmbed",value:function(C,R,D){return this.scroll.insertAt(C,R,D),this.update(new u.default().retain(C).insert(N({},R,D)))}},{key:"insertText",value:function(C,R){var D=this,V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R=R.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(C,R),Object.keys(V).forEach(function(z){D.scroll.formatAt(C,R.length,z,V[z])}),this.update(new u.default().retain(C).insert(R,(0,O.default)(V)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return C.statics.blotName!==w.default.blotName||C.children.length>1?!1:C.children.head instanceof S.default}},{key:"removeFormat",value:function(C,R){var D=this.getText(C,R),V=this.scroll.line(C+R),z=s(V,2),P=z[0],B=z[1],H=0,W=new u.default;P!=null&&(P instanceof v.default?H=P.newlineIndex(B)-B+1:H=P.length()-B,W=P.delta().slice(B,B+H-1).insert(`
`));var Q=this.getContents(C,R+H),se=Q.diff(new u.default().insert(D).concat(W)),he=new u.default().retain(C).concat(se);return this.applyDelta(he)}},{key:"update",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,V=this.delta;if(R.length===1&&R[0].type==="characterData"&&R[0].target.data.match(I)&&h.default.find(R[0].target)){var z=h.default.find(R[0].target),P=(0,y.bubbleFormats)(z),B=z.offset(this.scroll),H=R[0].oldValue.replace(m.default.CONTENTS,""),W=new u.default().insert(H),Q=new u.default().insert(z.value()),se=new u.default().retain(B).concat(W.diff(Q,D));C=se.reduce(function(he,pe){return pe.insert?he.insert(pe.insert,P):he.push(pe)},new u.default),this.delta=V.compose(C)}else this.delta=this.getDelta(),(!C||!(0,_.default)(V.compose(C),this.delta))&&(C=V.diff(this.delta,D));return C}}]),j}();function q(j,L){return Object.keys(L).reduce(function(C,R){return j[R]==null||(L[R]===j[R]?C[R]=L[R]:Array.isArray(L[R])?L[R].indexOf(j[R])<0&&(C[R]=L[R].concat([j[R]])):C[R]=[L[R],j[R]]),C},{})}function U(j){return j.reduce(function(L,C){if(C.insert===1){var R=(0,O.default)(C.attributes);return delete R.image,L.insert({image:C.attributes.image},R)}if(C.attributes!=null&&(C.attributes.list===!0||C.attributes.bullet===!0)&&(C=(0,O.default)(C),C.attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),typeof C.insert=="string"){var D=C.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(D,C.attributes)}return L.push(C)},new u.default)}r.default=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function k(_,T){var x=[],A=!0,N=!1,M=void 0;try{for(var I=_[Symbol.iterator](),F;!(A=(F=I.next()).done)&&(x.push(F.value),!(T&&x.length===T));A=!0);}catch(q){N=!0,M=q}finally{try{!A&&I.return&&I.return()}finally{if(N)throw M}}return x}return function(_,T){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return k(_,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(_,T){for(var x=0;x<T.length;x++){var A=T[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,T,x){return T&&k(_.prototype,T),x&&k(_,x),_}}(),l=i(0),a=m(l),u=i(21),c=m(u),d=i(11),f=m(d),h=i(8),p=m(h),v=i(10),b=m(v);function m(k){return k&&k.__esModule?k:{default:k}}function y(k){if(Array.isArray(k)){for(var _=0,T=Array(k.length);_<k.length;_++)T[_]=k[_];return T}else return Array.from(k)}function w(k,_){if(!(k instanceof _))throw new TypeError("Cannot call a class as a function")}var g=(0,b.default)("quill:selection"),S=function k(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,k),this.index=_,this.length=T},E=function(){function k(_,T){var x=this;w(this,k),this.emitter=T,this.scroll=_,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){x.mouseDown||setTimeout(x.update.bind(x,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(A,N){A===p.default.events.TEXT_CHANGE&&N.length()>0&&x.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(x.hasFocus()){var A=x.getNativeRange();A!=null&&A.start.node!==x.cursor.textNode&&x.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{x.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(A,N){if(N.range){var M=N.range,I=M.startNode,F=M.startOffset,q=M.endNode,U=M.endOffset;x.setNativeRange(I,F,q,U)}}),this.update(p.default.sources.SILENT)}return s(k,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var x=T.cursor.restore();if(!x)return;setTimeout(function(){T.setNativeRange(x.startNode,x.startOffset,x.endNode,x.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,x){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||a.default.query(T,a.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var N=a.default.find(A.start.node,!1);if(N==null)return;if(N instanceof a.default.Leaf){var M=N.split(A.start.offset);N.parent.insertBefore(this.cursor,M)}else N.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(T,x),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();T=Math.min(T,A-1),x=Math.min(T+x,A-1)-T;var N=void 0,M=this.scroll.leaf(T),I=o(M,2),F=I[0],q=I[1];if(F==null)return null;var U=F.position(q,!0),j=o(U,2);N=j[0],q=j[1];var L=document.createRange();if(x>0){L.setStart(N,q);var C=this.scroll.leaf(T+x),R=o(C,2);if(F=R[0],q=R[1],F==null)return null;var D=F.position(q,!0),V=o(D,2);return N=V[0],q=V[1],L.setEnd(N,q),L.getBoundingClientRect()}else{var z="left",P=void 0;return N instanceof Text?(q<N.data.length?(L.setStart(N,q),L.setEnd(N,q+1)):(L.setStart(N,q-1),L.setEnd(N,q),z="right"),P=L.getBoundingClientRect()):(P=F.domNode.getBoundingClientRect(),q>0&&(z="right")),{bottom:P.top+P.height,height:P.height,left:P[z],right:P[z],top:P.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var x=T.getRangeAt(0);if(x==null)return null;var A=this.normalizeNative(x);return g.info("getNativeRange",A),A}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var x=this.normalizedToRange(T);return[x,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var x=this,A=[[T.start.node,T.start.offset]];T.native.collapsed||A.push([T.end.node,T.end.offset]);var N=A.map(function(F){var q=o(F,2),U=q[0],j=q[1],L=a.default.find(U,!0),C=L.offset(x.scroll);return j===0?C:L instanceof a.default.Container?C+L.length():C+L.index(U,j)}),M=Math.min(Math.max.apply(Math,y(N)),this.scroll.length()-1),I=Math.min.apply(Math,[M].concat(y(N)));return new S(I,M-I)}},{key:"normalizeNative",value:function(T){if(!O(this.root,T.startContainer)||!T.collapsed&&!O(this.root,T.endContainer))return null;var x={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[x.start,x.end].forEach(function(A){for(var N=A.node,M=A.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>M)N=N.childNodes[M],M=0;else if(N.childNodes.length===M)N=N.lastChild,M=N instanceof Text?N.data.length:N.childNodes.length+1;else break;A.node=N,A.offset=M}),x}},{key:"rangeToNative",value:function(T){var x=this,A=T.collapsed?[T.index]:[T.index,T.index+T.length],N=[],M=this.scroll.length();return A.forEach(function(I,F){I=Math.min(M-1,I);var q=void 0,U=x.scroll.leaf(I),j=o(U,2),L=j[0],C=j[1],R=L.position(C,F!==0),D=o(R,2);q=D[0],C=D[1],N.push(q,C)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(T){var x=this.lastRange;if(x!=null){var A=this.getBounds(x.index,x.length);if(A!=null){var N=this.scroll.length()-1,M=this.scroll.line(Math.min(x.index,N)),I=o(M,1),F=I[0],q=F;if(x.length>0){var U=this.scroll.line(Math.min(x.index+x.length,N)),j=o(U,1);q=j[0]}if(!(F==null||q==null)){var L=T.getBoundingClientRect();A.top<L.top?T.scrollTop-=L.top-A.top:A.bottom>L.bottom&&(T.scrollTop+=A.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(T,x){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:x,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",T,x,A,N),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||A.parentNode==null))){var I=document.getSelection();if(I!=null)if(T!=null){this.hasFocus()||this.root.focus();var F=(this.getNativeRange()||{}).native;if(F==null||M||T!==F.startContainer||x!==F.startOffset||A!==F.endContainer||N!==F.endOffset){T.tagName=="BR"&&(x=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),A.tagName=="BR"&&(N=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var q=document.createRange();q.setStart(T,x),q.setEnd(A,N),I.removeAllRanges(),I.addRange(q)}}else I.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof x=="string"&&(A=x,x=!1),g.info("setRange",T),T!=null){var N=this.rangeToNative(T);this.setNativeRange.apply(this,y(N).concat([x]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,x=this.lastRange,A=this.getRange(),N=o(A,2),M=N[0],I=N[1];if(this.lastRange=M,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(x,this.lastRange)){var F;!this.composing&&I!=null&&I.native.collapsed&&I.start.node!==this.cursor.textNode&&this.cursor.restore();var q=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(x),T];if((F=this.emitter).emit.apply(F,[p.default.events.EDITOR_CHANGE].concat(q)),T!==p.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,q)}}}}]),k}();function O(k,_){try{_.parentNode}catch{return!1}return _ instanceof Text&&(_=_.parentNode),k.contains(_)}r.Range=S,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,m){return b&&p(v.prototype,b),m&&p(v,m),v}}(),s=function p(v,b,m){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,m)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(m)}},l=i(0),a=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){f(v,p);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(m,y){m.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,m,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(a.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),l=i(30),a=i(1),u=function(d){o(f,d);function f(h){var p=d.call(this,h)||this;return p.build(),p}return f.prototype.appendChild=function(h){this.insertBefore(h)},f.prototype.attach=function(){d.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},f.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var v=c(p);h.insertBefore(v,h.children.head||void 0)}catch(b){if(b instanceof a.ParchmentError)return;throw b}})},f.prototype.deleteAt=function(h,p){if(h===0&&p===this.length())return this.remove();this.children.forEachAt(h,p,function(v,b,m){v.deleteAt(b,m)})},f.prototype.descendant=function(h,p){var v=this.children.find(p),b=v[0],m=v[1];return h.blotName==null&&h(b)||h.blotName!=null&&b instanceof h?[b,m]:b instanceof f?b.descendant(h,m):[null,-1]},f.prototype.descendants=function(h,p,v){p===void 0&&(p=0),v===void 0&&(v=Number.MAX_VALUE);var b=[],m=v;return this.children.forEachAt(p,v,function(y,w,g){(h.blotName==null&&h(y)||h.blotName!=null&&y instanceof h)&&b.push(y),y instanceof f&&(b=b.concat(y.descendants(h,w,m))),m-=g}),b},f.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),d.prototype.detach.call(this)},f.prototype.formatAt=function(h,p,v,b){this.children.forEachAt(h,p,function(m,y,w){m.formatAt(y,w,v,b)})},f.prototype.insertAt=function(h,p,v){var b=this.children.find(h),m=b[0],y=b[1];if(m)m.insertAt(y,p,v);else{var w=v==null?a.create("text",p):a.create(p,v);this.appendChild(w)}},f.prototype.insertBefore=function(h,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return h instanceof v}))throw new a.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,p)},f.prototype.length=function(){return this.children.reduce(function(h,p){return h+p.length()},0)},f.prototype.moveChildren=function(h,p){this.children.forEach(function(v){h.insertBefore(v,p)})},f.prototype.optimize=function(h){if(d.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var p=a.create(this.statics.defaultChild);this.appendChild(p),p.optimize(h)}else this.remove()},f.prototype.path=function(h,p){p===void 0&&(p=!1);var v=this.children.find(h,p),b=v[0],m=v[1],y=[[this,h]];return b instanceof f?y.concat(b.path(m,p)):(b!=null&&y.push([b,m]),y)},f.prototype.removeChild=function(h){this.children.remove(h)},f.prototype.replace=function(h){h instanceof f&&h.moveChildren(this),d.prototype.replace.call(this,h)},f.prototype.split=function(h,p){if(p===void 0&&(p=!1),!p){if(h===0)return this;if(h===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(h,this.length(),function(b,m,y){b=b.split(m,p),v.appendChild(b)}),v},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(h,p){var v=this,b=[],m=[];h.forEach(function(y){y.target===v.domNode&&y.type==="childList"&&(b.push.apply(b,y.addedNodes),m.push.apply(m,y.removedNodes))}),m.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=a.find(y);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),b.filter(function(y){return y.parentNode==v.domNode}).sort(function(y,w){return y===w?0:y.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var w=null;y.nextSibling!=null&&(w=a.find(y.nextSibling));var g=c(y);(g.next!=w||g.next==null)&&(g.parent!=null&&g.parent.removeChild(v),v.insertBefore(g,w||void 0))})},f}(l.default);function c(d){var f=a.find(d);if(f==null)try{f=a.create(d)}catch{f=a.create(a.Scope.INLINE),[].slice.call(d.childNodes).forEach(function(p){f.domNode.appendChild(p)}),d.parentNode&&d.parentNode.replaceChild(f.domNode,d),f.attach()}return f}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),l=i(31),a=i(17),u=i(1),c=function(d){o(f,d);function f(h){var p=d.call(this,h)||this;return p.attributes=new l.default(p.domNode),p}return f.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},f.prototype.format=function(h,p){var v=u.query(h);v instanceof s.default?this.attributes.attribute(v,p):p&&v!=null&&(h!==this.statics.blotName||this.formats()[h]!==p)&&this.replaceWith(h,p)},f.prototype.formats=function(){var h=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(h[this.statics.blotName]=p),h},f.prototype.replaceWith=function(h,p){var v=d.prototype.replaceWith.call(this,h,p);return this.attributes.copy(v),v},f.prototype.update=function(h,p){var v=this;d.prototype.update.call(this,h,p),h.some(function(b){return b.target===v.domNode&&b.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(h,p){var v=d.prototype.wrap.call(this,h,p);return v instanceof f&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},f}(a.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),l=i(1),a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(d){return!0},c.prototype.index=function(d,f){return this.domNode===d||this.domNode.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},c.prototype.position=function(d,f){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return d>0&&(h+=1),[this.parent.domNode,h]},c.prototype.value=function(){var d;return d={},d[this.statics.blotName]=this.statics.value(this.domNode)||!0,d},c.scope=l.Scope.INLINE_BLOT,c}(s.default);r.default=a},function(n,r,i){var o=i(11),s=i(3),l={attributes:{compose:function(u,c,d){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=s(!0,{},c);d||(f=Object.keys(f).reduce(function(p,v){return f[v]!=null&&(p[v]=f[v]),p},{}));for(var h in u)u[h]!==void 0&&c[h]===void 0&&(f[h]=u[h]);return Object.keys(f).length>0?f:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=Object.keys(u).concat(Object.keys(c)).reduce(function(f,h){return o(u[h],c[h])||(f[h]=c[h]===void 0?null:c[h]),f},{});return Object.keys(d).length>0?d:void 0},transform:function(u,c,d){if(typeof u!="object")return c;if(typeof c=="object"){if(!d)return c;var f=Object.keys(c).reduce(function(h,p){return u[p]===void 0&&(h[p]=c[p]),h},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new a(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function a(u){this.ops=u,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var d=this.offset,f=l.length(c);if(u>=f-d?(u=f-d,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var h={};return c.attributes&&(h.attributes=c.attributes),typeof c.retain=="number"?h.retain=u:typeof c.insert=="string"?h.insert=c.insert.substr(d,u):h.insert=c.insert,h}else return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,d=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=c,[d].concat(f)}else return[]},n.exports=l},function(n,r){var i=function(){function o(v,b){return b!=null&&v instanceof b}var s;try{s=Map}catch{s=function(){}}var l;try{l=Set}catch{l=function(){}}var a;try{a=Promise}catch{a=function(){}}function u(v,b,m,y,w){typeof b=="object"&&(m=b.depth,y=b.prototype,w=b.includeNonEnumerable,b=b.circular);var g=[],S=[],E=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof m>"u"&&(m=1/0);function O(k,_){if(k===null)return null;if(_===0)return k;var T,x;if(typeof k!="object")return k;if(o(k,s))T=new s;else if(o(k,l))T=new l;else if(o(k,a))T=new a(function(L,C){k.then(function(R){L(O(R,_-1))},function(R){C(O(R,_-1))})});else if(u.__isArray(k))T=[];else if(u.__isRegExp(k))T=new RegExp(k.source,p(k)),k.lastIndex&&(T.lastIndex=k.lastIndex);else if(u.__isDate(k))T=new Date(k.getTime());else{if(E&&Buffer.isBuffer(k))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(k.length):T=new Buffer(k.length),k.copy(T),T;o(k,Error)?T=Object.create(k):typeof y>"u"?(x=Object.getPrototypeOf(k),T=Object.create(x)):(T=Object.create(y),x=y)}if(b){var A=g.indexOf(k);if(A!=-1)return S[A];g.push(k),S.push(T)}o(k,s)&&k.forEach(function(L,C){var R=O(C,_-1),D=O(L,_-1);T.set(R,D)}),o(k,l)&&k.forEach(function(L){var C=O(L,_-1);T.add(C)});for(var N in k){var M;x&&(M=Object.getOwnPropertyDescriptor(x,N)),!(M&&M.set==null)&&(T[N]=O(k[N],_-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(k),N=0;N<I.length;N++){var F=I[N],q=Object.getOwnPropertyDescriptor(k,F);q&&!q.enumerable&&!w||(T[F]=O(k[F],_-1),q.enumerable||Object.defineProperty(T,F,{enumerable:!1}))}if(w)for(var U=Object.getOwnPropertyNames(k),N=0;N<U.length;N++){var j=U[N],q=Object.getOwnPropertyDescriptor(k,j);q&&q.enumerable||(T[j]=O(k[j],_-1),Object.defineProperty(T,j,{enumerable:!1}))}return T}return O(v,m)}u.clonePrototype=function(b){if(b===null)return null;var m=function(){};return m.prototype=b,new m};function c(v){return Object.prototype.toString.call(v)}u.__objToStr=c;function d(v){return typeof v=="object"&&c(v)==="[object Date]"}u.__isDate=d;function f(v){return typeof v=="object"&&c(v)==="[object Array]"}u.__isArray=f;function h(v){return typeof v=="object"&&c(v)==="[object RegExp]"}u.__isRegExp=h;function p(v){var b="";return v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),b}return u.__getRegExpFlags=p,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(x,A){var N=[],M=!0,I=!1,F=void 0;try{for(var q=x[Symbol.iterator](),U;!(M=(U=q.next()).done)&&(N.push(U.value),!(A&&N.length===A));M=!0);}catch(j){I=!0,F=j}finally{try{!M&&q.return&&q.return()}finally{if(I)throw F}}return N}return function(x,A){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return T(x,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(x,A){for(var N=0;N<A.length;N++){var M=A[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}return function(x,A,N){return A&&T(x.prototype,A),N&&T(x,N),x}}(),l=function T(x,A,N){x===null&&(x=Function.prototype);var M=Object.getOwnPropertyDescriptor(x,A);if(M===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:T(I,A,N)}else{if("value"in M)return M.value;var F=M.get;return F===void 0?void 0:F.call(N)}},a=i(0),u=g(a),c=i(8),d=g(c),f=i(4),h=g(f),p=i(16),v=g(p),b=i(13),m=g(b),y=i(25),w=g(y);function g(T){return T&&T.__esModule?T:{default:T}}function S(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}function E(T,x){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:T}function O(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);T.prototype=Object.create(x&&x.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(T,x):T.__proto__=x)}function k(T){return T instanceof h.default||T instanceof f.BlockEmbed}var _=function(T){O(x,T);function x(A,N){S(this,x);var M=E(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,A));return M.emitter=N.emitter,Array.isArray(N.whitelist)&&(M.whitelist=N.whitelist.reduce(function(I,F){return I[F]=!0,I},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return s(x,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,M){var I=this.line(N),F=o(I,2),q=F[0],U=F[1],j=this.line(N+M),L=o(j,1),C=L[0];if(l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,N,M),C!=null&&q!==C&&U>0){if(q instanceof f.BlockEmbed||C instanceof f.BlockEmbed){this.optimize();return}if(q instanceof m.default){var R=q.newlineIndex(q.length(),!0);if(R>-1&&(q=q.split(R+1),q===C)){this.optimize();return}}else if(C instanceof m.default){var D=C.newlineIndex(0);D>-1&&C.split(D+1)}var V=C.children.head instanceof v.default?null:C.children.head;q.moveChildren(C,V),q.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,M,I,F){this.whitelist!=null&&!this.whitelist[I]||(l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,N,M,I,F),this.optimize())}},{key:"insertAt",value:function(N,M,I){if(!(I!=null&&this.whitelist!=null&&!this.whitelist[M])){if(N>=this.length())if(I==null||u.default.query(M,u.default.Scope.BLOCK)==null){var F=u.default.create(this.statics.defaultChild);this.appendChild(F),I==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),F.insertAt(0,M,I)}else{var q=u.default.create(M,I);this.appendChild(q)}else l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,N,M,I);this.optimize()}}},{key:"insertBefore",value:function(N,M){if(N.statics.scope===u.default.Scope.INLINE_BLOT){var I=u.default.create(this.statics.defaultChild);I.appendChild(N),N=I}l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,N,M)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(k,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,I=function F(q,U,j){var L=[],C=j;return q.children.forEachAt(U,j,function(R,D,V){k(R)?L.push(R):R instanceof u.default.Container&&(L=L.concat(F(R,D,C))),C-=V}),L};return I(this,N,M)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,N,M),N.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,N,M))}},{key:"path",value:function(N){return l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var M=d.default.sources.USER;typeof N=="string"&&(M=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,M,N),l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,M,N)}}}]),x}(u.default.Scroll);_.blotName="scroll",_.className="ql-editor",_.tagName="DIV",_.defaultChild="block",_.allowedChildren=[h.default,f.BlockEmbed,w.default],r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},s=function(){function P(B,H){var W=[],Q=!0,se=!1,he=void 0;try{for(var pe=B[Symbol.iterator](),be;!(Q=(be=pe.next()).done)&&(W.push(be.value),!(H&&W.length===H));Q=!0);}catch(Oe){se=!0,he=Oe}finally{try{!Q&&pe.return&&pe.return()}finally{if(se)throw he}}return W}return function(B,H){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return P(B,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function P(B,H){for(var W=0;W<H.length;W++){var Q=H[W];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(B,Q.key,Q)}}return function(B,H,W){return H&&P(B.prototype,H),W&&P(B,W),B}}(),a=i(21),u=T(a),c=i(11),d=T(c),f=i(3),h=T(f),p=i(2),v=T(p),b=i(20),m=T(b),y=i(0),w=T(y),g=i(5),S=T(g),E=i(10),O=T(E),k=i(9),_=T(k);function T(P){return P&&P.__esModule?P:{default:P}}function x(P,B,H){return B in P?Object.defineProperty(P,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):P[B]=H,P}function A(P,B){if(!(P instanceof B))throw new TypeError("Cannot call a class as a function")}function N(P,B){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:P}function M(P,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);P.prototype=Object.create(B&&B.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(P,B):P.__proto__=B)}var I=(0,O.default)("quill:keyboard"),F=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(P){M(B,P),l(B,null,[{key:"match",value:function(W,Q){return Q=z(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(se){return!!Q[se]!==W[se]&&Q[se]!==null})?!1:Q.key===(W.which||W.keyCode)}}]);function B(H,W){A(this,B);var Q=N(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,H,W));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(se){se==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||Q.options.bindings[se]&&Q.addBinding(Q.options.bindings[se])}),Q.addBinding({key:B.keys.ENTER,shiftKey:null},R),Q.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},j),Q.addBinding({key:B.keys.DELETE},{collapsed:!0},L)):(Q.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),Q.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Q.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},C),Q.addBinding({key:B.keys.DELETE},{collapsed:!1},C),Q.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),Q.listen(),Q}return l(B,[{key:"addBinding",value:function(W){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},he=z(W);if(he==null||he.key==null)return I.warn("Attempted to add invalid keyboard binding",he);typeof Q=="function"&&(Q={handler:Q}),typeof se=="function"&&(se={handler:se}),he=(0,h.default)(he,Q,se),this.bindings[he.key]=this.bindings[he.key]||[],this.bindings[he.key].push(he)}},{key:"listen",value:function(){var W=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var se=Q.which||Q.keyCode,he=(W.bindings[se]||[]).filter(function(Re){return B.match(Q,Re)});if(he.length!==0){var pe=W.quill.getSelection();if(!(pe==null||!W.quill.hasFocus())){var be=W.quill.getLine(pe.index),Oe=s(be,2),Ve=Oe[0],Pe=Oe[1],K=W.quill.getLeaf(pe.index),J=s(K,2),ie=J[0],oe=J[1],$=pe.length===0?[ie,oe]:W.quill.getLeaf(pe.index+pe.length),Z=s($,2),ee=Z[0],ne=Z[1],de=ie instanceof w.default.Text?ie.value().slice(0,oe):"",ve=ee instanceof w.default.Text?ee.value().slice(ne):"",ge={collapsed:pe.length===0,empty:pe.length===0&&Ve.length()<=1,format:W.quill.getFormat(pe),offset:Pe,prefix:de,suffix:ve},qt=he.some(function(Re){if(Re.collapsed!=null&&Re.collapsed!==ge.collapsed||Re.empty!=null&&Re.empty!==ge.empty||Re.offset!=null&&Re.offset!==ge.offset)return!1;if(Array.isArray(Re.format)){if(Re.format.every(function(Mt){return ge.format[Mt]==null}))return!1}else if(o(Re.format)==="object"&&!Object.keys(Re.format).every(function(Mt){return Re.format[Mt]===!0?ge.format[Mt]!=null:Re.format[Mt]===!1?ge.format[Mt]==null:(0,d.default)(Re.format[Mt],ge.format[Mt])}))return!1;return Re.prefix!=null&&!Re.prefix.test(ge.prefix)||Re.suffix!=null&&!Re.suffix.test(ge.suffix)?!1:Re.handler.call(W,pe,ge)!==!0});qt&&Q.preventDefault()}}}})}}]),B}(_.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:V("bold"),italic:V("italic"),underline:V("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(B,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,H){H.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":D(!0),"outdent code-block":D(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,S.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(B){this.quill.history.cutoff();var H=new v.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(H,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,S.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,H){this.quill.format("list",!1,S.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var H=this.quill.getLine(B.index),W=s(H,2),Q=W[0],se=W[1],he=(0,h.default)({},Q.formats(),{list:"checked"}),pe=new v.default().retain(B.index).insert(`
`,he).retain(Q.length()-se-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,S.default.sources.USER),this.quill.setSelection(B.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,H){var W=this.quill.getLine(B.index),Q=s(W,2),se=Q[0],he=Q[1],pe=new v.default().retain(B.index).insert(`
`,H.format).retain(se.length()-he-1).retain(1,{header:null});this.quill.updateContents(pe,S.default.sources.USER),this.quill.setSelection(B.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,H){var W=H.prefix.length,Q=this.quill.getLine(B.index),se=s(Q,2),he=se[0],pe=se[1];if(pe>W)return!0;var be=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":be="unchecked";break;case"[x]":be="checked";break;case"-":case"*":be="bullet";break;default:be="ordered"}this.quill.insertText(B.index," ",S.default.sources.USER),this.quill.history.cutoff();var Oe=new v.default().retain(B.index-pe).delete(W+1).retain(he.length()-2-pe).retain(1,{list:be});this.quill.updateContents(Oe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-W,S.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var H=this.quill.getLine(B.index),W=s(H,2),Q=W[0],se=W[1],he=new v.default().retain(B.index+Q.length()-se-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(he,S.default.sources.USER)}},"embed left":U(q.keys.LEFT,!1),"embed left shift":U(q.keys.LEFT,!0),"embed right":U(q.keys.RIGHT,!1),"embed right shift":U(q.keys.RIGHT,!0)}};function U(P,B){var H,W=P===q.keys.LEFT?"prefix":"suffix";return H={key:P,shiftKey:B,altKey:null},x(H,W,/^$/),x(H,"handler",function(se){var he=se.index;P===q.keys.RIGHT&&(he+=se.length+1);var pe=this.quill.getLeaf(he),be=s(pe,1),Oe=be[0];return Oe instanceof w.default.Embed?(P===q.keys.LEFT?B?this.quill.setSelection(se.index-1,se.length+1,S.default.sources.USER):this.quill.setSelection(se.index-1,S.default.sources.USER):B?this.quill.setSelection(se.index,se.length+1,S.default.sources.USER):this.quill.setSelection(se.index+se.length+1,S.default.sources.USER),!1):!0}),H}function j(P,B){if(!(P.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(P.index),W=s(H,1),Q=W[0],se={};if(B.offset===0){var he=this.quill.getLine(P.index-1),pe=s(he,1),be=pe[0];if(be!=null&&be.length()>1){var Oe=Q.formats(),Ve=this.quill.getFormat(P.index-1,1);se=m.default.attributes.diff(Oe,Ve)||{}}}var Pe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(P.index-Pe,Pe,S.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(P.index-Pe,Pe,se,S.default.sources.USER),this.quill.focus()}}function L(P,B){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(P.index>=this.quill.getLength()-H)){var W={},Q=0,se=this.quill.getLine(P.index),he=s(se,1),pe=he[0];if(B.offset>=pe.length()-1){var be=this.quill.getLine(P.index+1),Oe=s(be,1),Ve=Oe[0];if(Ve){var Pe=pe.formats(),K=this.quill.getFormat(P.index,1);W=m.default.attributes.diff(Pe,K)||{},Q=Ve.length()}}this.quill.deleteText(P.index,H,S.default.sources.USER),Object.keys(W).length>0&&this.quill.formatLine(P.index+Q-1,H,W,S.default.sources.USER)}}function C(P){var B=this.quill.getLines(P),H={};if(B.length>1){var W=B[0].formats(),Q=B[B.length-1].formats();H=m.default.attributes.diff(Q,W)||{}}this.quill.deleteText(P,S.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(P.index,1,H,S.default.sources.USER),this.quill.setSelection(P.index,S.default.sources.SILENT),this.quill.focus()}function R(P,B){var H=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var W=Object.keys(B.format).reduce(function(Q,se){return w.default.query(se,w.default.Scope.BLOCK)&&!Array.isArray(B.format[se])&&(Q[se]=B.format[se]),Q},{});this.quill.insertText(P.index,`
`,W,S.default.sources.USER),this.quill.setSelection(P.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function(Q){W[Q]==null&&(Array.isArray(B.format[Q])||Q!=="link"&&H.quill.format(Q,B.format[Q],S.default.sources.USER))})}function D(P){return{key:q.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(H){var W=w.default.query("code-block"),Q=H.index,se=H.length,he=this.quill.scroll.descendant(W,Q),pe=s(he,2),be=pe[0],Oe=pe[1];if(be!=null){var Ve=this.quill.getIndex(be),Pe=be.newlineIndex(Oe,!0)+1,K=be.newlineIndex(Ve+Oe+se),J=be.domNode.textContent.slice(Pe,K).split(`
`);Oe=0,J.forEach(function(ie,oe){P?(be.insertAt(Pe+Oe,W.TAB),Oe+=W.TAB.length,oe===0?Q+=W.TAB.length:se+=W.TAB.length):ie.startsWith(W.TAB)&&(be.deleteAt(Pe+Oe,W.TAB.length),Oe-=W.TAB.length,oe===0?Q-=W.TAB.length:se-=W.TAB.length),Oe+=ie.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(Q,se,S.default.sources.SILENT)}}}}function V(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(H,W){this.quill.format(P,!W.format[P],S.default.sources.USER)}}}function z(P){if(typeof P=="string"||typeof P=="number")return z({key:P});if((typeof P>"u"?"undefined":o(P))==="object"&&(P=(0,u.default)(P,!1)),typeof P.key=="string")if(q.keys[P.key.toUpperCase()]!=null)P.key=q.keys[P.key.toUpperCase()];else if(P.key.length===1)P.key=P.key.toUpperCase().charCodeAt(0);else return null;return P.shortKey&&(P[F]=P.shortKey,delete P.shortKey),P}r.default=q,r.SHORTKEY=F},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,w){var g=[],S=!0,E=!1,O=void 0;try{for(var k=y[Symbol.iterator](),_;!(S=(_=k.next()).done)&&(g.push(_.value),!(w&&g.length===w));S=!0);}catch(T){E=!0,O=T}finally{try{!S&&k.return&&k.return()}finally{if(E)throw O}}return g}return function(y,w){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return m(y,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(y,w,g){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,w);if(S===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:m(E,w,g)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(g)}},l=function(){function m(y,w){for(var g=0;g<w.length;g++){var S=w[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,w,g){return w&&m(y.prototype,w),g&&m(y,g),y}}(),a=i(0),u=f(a),c=i(7),d=f(c);function f(m){return m&&m.__esModule?m:{default:m}}function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function v(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var b=function(m){v(y,m),l(y,null,[{key:"value",value:function(){}}]);function y(w,g){h(this,y);var S=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return S.selection=g,S.textNode=document.createTextNode(y.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return l(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,S){if(this._length!==0)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,g,S);for(var E=this,O=0;E!=null&&E.statics.scope!==u.default.Scope.BLOCK_BLOT;)O+=E.offset(E.parent),E=E.parent;E!=null&&(this._length=y.CONTENTS.length,E.optimize(),E.formatAt(O,y.CONTENTS.length,g,S),this._length=0)}},{key:"index",value:function(g,S){return g===this.textNode?0:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,g,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,S=this.selection.getNativeRange(),E=void 0,O=void 0,k=void 0;if(S!=null&&S.start.node===g&&S.end.node===g){var _=[g,S.start.offset,S.end.offset];E=_[0],O=_[1],k=_[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var T=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof d.default?(E=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=y.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var x=[O,k].map(function(N){return Math.max(0,Math.min(E.data.length,N-1))}),A=o(x,2);return O=A[0],k=A[1],{startNode:E,startOffset:O,endNode:E,endOffset:k}}}}},{key:"update",value:function(g,S){var E=this;if(g.some(function(k){return k.type==="characterData"&&k.target===E.textNode})){var O=this.restore();O&&(S.range=O)}}},{key:"value",value:function(){return""}}]),y}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),l=i(4),a=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){f(v,p);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);h.allowedChildren=[a.default,l.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function b(m,y){for(var w=0;w<y.length;w++){var g=y[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,w){return y&&b(m.prototype,y),w&&b(m,w),m}}(),s=function b(m,y,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:b(S,y,w)}else{if("value"in g)return g.value;var E=g.get;return E===void 0?void 0:E.call(w)}},l=i(0),a=u(l);function u(b){return b&&b.__esModule?b:{default:b}}function c(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function d(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function f(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var h=function(b){f(m,b);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(w){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,w);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):g}}]),m}(a.default.Attributor.Style),p=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),v=new h("color","color",{scope:a.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=p,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(b,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,m,y){return m&&v(b.prototype,m),y&&v(b,y),b}}(),s=function v(b,m,y){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,m);if(w===void 0){var g=Object.getPrototypeOf(b);return g===null?void 0:v(g,m,y)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(y)}},l=i(6),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function d(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function f(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var h=function(v){f(b,v);function b(){return c(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(y,w){if(y!==this.statics.blotName||!w)return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(y){var w=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,y);return y=this.sanitize(y),w.setAttribute("href",y),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return p(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),b}(a.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(v,b){var m=document.createElement("a");m.href=v;var y=m.href.slice(0,m.href.indexOf(":"));return b.indexOf(y)>-1}r.default=h,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s=function(){function b(m,y){for(var w=0;w<y.length;w++){var g=y[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,w){return y&&b(m.prototype,y),w&&b(m,w),m}}(),l=i(23),a=d(l),u=i(107),c=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}var h=0;function p(b,m){b.setAttribute(m,b.getAttribute(m)!=="true")}var v=function(){function b(m){var y=this;f(this,b),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case a.default.keys.ENTER:y.togglePicker();break;case a.default.keys.ESCAPE:y.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var w=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),y.hasAttribute("value")&&g.setAttribute("data-value",y.getAttribute("value")),y.textContent&&g.setAttribute("data-label",y.textContent),g.addEventListener("click",function(){w.selectItem(g,!0)}),g.addEventListener("keydown",function(S){switch(S.keyCode){case a.default.keys.ENTER:w.selectItem(g,!0),S.preventDefault();break;case a.default.keys.ESCAPE:w.escape(),S.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=c.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(g){var S=y.buildItem(g);w.appendChild(S),g.selected===!0&&y.selectItem(S)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(w){y.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(y!==g&&(g!=null&&g.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var g=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),b}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=I(o),l=i(5),a=I(l),u=i(4),c=I(u),d=i(16),f=I(d),h=i(25),p=I(h),v=i(24),b=I(v),m=i(35),y=I(m),w=i(6),g=I(w),S=i(22),E=I(S),O=i(7),k=I(O),_=i(55),T=I(_),x=i(42),A=I(x),N=i(23),M=I(N);function I(F){return F&&F.__esModule?F:{default:F}}a.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":p.default,"blots/cursor":b.default,"blots/embed":y.default,"blots/inline":g.default,"blots/scroll":E.default,"blots/text":k.default,"modules/clipboard":T.default,"modules/history":A.default,"modules/keyboard":M.default}),s.default.register(c.default,f.default,b.default,g.default,E.default,k.default),r.default=a.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function l(a){this.domNode=a,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(a){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof a=="string"&&(a=a.toUpperCase(),parseInt(a).toString()===a&&(a=parseInt(a))),typeof a=="number"?u=document.createElement(this.tagName[a-1]):this.tagName.indexOf(a)>-1?u=document.createElement(a):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var a=this.domNode.cloneNode(!1);return o.create(a)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},l.prototype.deleteAt=function(a,u){var c=this.isolate(a,u);c.remove()},l.prototype.formatAt=function(a,u,c,d){var f=this.isolate(a,u);if(o.query(c,o.Scope.BLOT)!=null&&d)f.wrap(c,d);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);f.wrap(h),h.format(c,d)}},l.prototype.insertAt=function(a,u,c){var d=c==null?o.create("text",u):o.create(u,c),f=this.split(a);this.parent.insertBefore(d,f)},l.prototype.insertInto=function(a,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;a.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=a.domNode||this.domNode.nextSibling!=c)&&a.domNode.insertBefore(this.domNode,c),this.parent=a,this.attach()},l.prototype.isolate=function(a,u){var c=this.split(a);return c.split(u),c},l.prototype.length=function(){return 1},l.prototype.offset=function(a){return a===void 0&&(a=this.parent),this.parent==null||this==a?0:this.parent.children.offset(this)+this.parent.offset(a)},l.prototype.optimize=function(a){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(a){a.parent!=null&&(a.parent.insertBefore(this,a.next),a.remove())},l.prototype.replaceWith=function(a,u){var c=typeof a=="string"?o.create(a,u):a;return c.replace(this),c},l.prototype.split=function(a,u){return a===0?this:this.next},l.prototype.update=function(a,u){},l.prototype.wrap=function(a,u){var c=typeof a=="string"?o.create(a,u):a;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},l.blotName="abstract",l}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),l=i(33),a=i(1),u=function(){function c(d){this.attributes={},this.domNode=d,this.build()}return c.prototype.attribute=function(d,f){f?d.add(this.domNode,f)&&(d.value(this.domNode)!=null?this.attributes[d.attrName]=d:delete this.attributes[d.attrName]):(d.remove(this.domNode),delete this.attributes[d.attrName])},c.prototype.build=function(){var d=this;this.attributes={};var f=o.default.keys(this.domNode),h=s.default.keys(this.domNode),p=l.default.keys(this.domNode);f.concat(h).concat(p).forEach(function(v){var b=a.query(v,a.Scope.ATTRIBUTE);b instanceof o.default&&(d.attributes[b.attrName]=b)})},c.prototype.copy=function(d){var f=this;Object.keys(this.attributes).forEach(function(h){var p=f.attributes[h].value(f.domNode);d.format(h,p)})},c.prototype.move=function(d){var f=this;this.copy(d),Object.keys(this.attributes).forEach(function(h){f.attributes[h].remove(f.domNode)}),this.attributes={}},c.prototype.values=function(){var d=this;return Object.keys(this.attributes).reduce(function(f,h){return f[h]=d.attributes[h].value(d.domNode),f},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function l(u,c){var d=u.getAttribute("class")||"";return d.split(/\s+/).filter(function(f){return f.indexOf(c+"-")===0})}var a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(this.remove(d),d.classList.add(this.keyName+"-"+f),!0):!1},c.prototype.remove=function(d){var f=l(d,this.keyName);f.forEach(function(h){d.classList.remove(h)}),d.classList.length===0&&d.removeAttribute("class")},c.prototype.value=function(d){var f=l(d,this.keyName)[0]||"",h=f.slice(this.keyName.length+1);return this.canAdd(d,h)?h:""},c}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function l(u){var c=u.split("-"),d=c.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return c[0]+d}var a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(d){return(d.getAttribute("style")||"").split(";").map(function(f){var h=f.split(":");return h[0].trim()})},c.prototype.add=function(d,f){return this.canAdd(d,f)?(d.style[l(this.keyName)]=f,!0):!1},c.prototype.remove=function(d){d.style[l(this.keyName)]="",d.getAttribute("style")||d.removeAttribute("style")},c.prototype.value=function(d){var f=d.style[l(this.keyName)];return this.canAdd(d,f)?f:""},c}(s.default);r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function a(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&a(u.prototype,c),d&&a(u,d),u}}();function s(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function a(u,c){s(this,a),this.quill=u,this.options=c,this.modules={}}return o(a,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(d){c.modules[d]==null&&c.addModule(d)})}},{key:"addModule",value:function(c){var d=this.quill.constructor.import("modules/"+c);return this.modules[c]=new d(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),a}();l.DEFAULTS={modules:{}},l.themes={default:l},r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,w){for(var g=0;g<w.length;g++){var S=w[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,w,g){return w&&m(y.prototype,w),g&&m(y,g),y}}(),s=function m(y,w,g){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,w);if(S===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:m(E,w,g)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(g)}},l=i(0),a=d(l),u=i(7),c=d(u);function d(m){return m&&m.__esModule?m:{default:m}}function f(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function h(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function p(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v="\uFEFF",b=function(m){p(y,m);function y(w){f(this,y);var g=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,w));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(S){g.contentNode.appendChild(S)}),g.leftGuard=document.createTextNode(v),g.rightGuard=document.createTextNode(v),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(y,[{key:"index",value:function(g,S){return g===this.leftGuard?0:g===this.rightGuard?1:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,g,S)}},{key:"restore",value:function(g){var S=void 0,E=void 0,O=g.data.split(v).join("");if(g===this.leftGuard)if(this.prev instanceof c.default){var k=this.prev.length();this.prev.insertAt(k,O),S={startNode:this.prev.domNode,startOffset:k+O.length}}else E=document.createTextNode(O),this.parent.insertBefore(a.default.create(E),this),S={startNode:E,startOffset:O.length};else g===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,O),S={startNode:this.next.domNode,startOffset:O.length}):(E=document.createTextNode(O),this.parent.insertBefore(a.default.create(E),this.next),S={startNode:E,startOffset:O.length}));return g.data=v,S}},{key:"update",value:function(g,S){var E=this;g.forEach(function(O){if(O.type==="characterData"&&(O.target===E.leftGuard||O.target===E.rightGuard)){var k=E.restore(O.target);k&&(S.range=k)}})}}]),y}(a.default.Embed);r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}var a={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",a),c=new s.default.Attributor.Class("align","ql-align",a),d=new s.default.Attributor.Style("align","text-align",a);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=a(o),l=i(26);function a(d){return d&&d.__esModule?d:{default:d}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new l.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}var a={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",a),c=new s.default.Attributor.Class("direction","ql-direction",a),d=new s.default.Attributor.Style("direction","direction",a);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(y,w){for(var g=0;g<w.length;g++){var S=w[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,w,g){return w&&m(y.prototype,w),g&&m(y,g),y}}(),s=function m(y,w,g){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,w);if(S===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:m(E,w,g)}else{if("value"in S)return S.value;var O=S.get;return O===void 0?void 0:O.call(g)}},l=i(0),a=u(l);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function d(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new a.default.Attributor.Class("font","ql-font",h),v=function(m){f(y,m);function y(){return c(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"value",value:function(g){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),y}(a.default.Attributor.Style),b=new v("font","font-family",h);r.FontStyle=b,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}var a=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=a,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function w(g,S){for(var E=0;E<S.length;E++){var O=S[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,S,E){return S&&w(g.prototype,S),E&&w(g,E),g}}(),s=i(0),l=f(s),a=i(5),u=f(a),c=i(9),d=f(c);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function p(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function v(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var b=function(w){v(g,w);function g(S,E){h(this,g);var O=p(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S,E));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(u.default.events.EDITOR_CHANGE,function(k,_,T,x){k!==u.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||x===u.default.sources.USER?O.record(_,T):O.transform(_))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return o(g,[{key:"change",value:function(E,O){if(this.stack[E].length!==0){var k=this.stack[E].pop();this.stack[O].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[E],u.default.sources.USER),this.ignoreChange=!1;var _=y(k[E]);this.quill.setSelection(_)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(E,O){if(E.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(O),_=Date.now();if(this.lastRecorded+this.options.delay>_&&this.stack.undo.length>0){var T=this.stack.undo.pop();k=k.compose(T.undo),E=T.redo.compose(E)}else this.lastRecorded=_;this.stack.undo.push({redo:E,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(E){this.stack.undo.forEach(function(O){O.undo=E.transform(O.undo,!0),O.redo=E.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=E.transform(O.undo,!0),O.redo=E.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(d.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(w){var g=w.ops[w.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(S){return l.default.query(S,l.default.Scope.BLOCK)!=null}):!1}function y(w){var g=w.reduce(function(E,O){return E+=O.delete||0,E},0),S=w.length()-g;return m(w)&&(S-=1),S}r.default=b,r.getLastChangeIndex=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function R(D,V){for(var z=0;z<V.length;z++){var P=V[z];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,V,z){return V&&R(D.prototype,V),z&&R(D,z),D}}(),s=function R(D,V,z){D===null&&(D=Function.prototype);var P=Object.getOwnPropertyDescriptor(D,V);if(P===void 0){var B=Object.getPrototypeOf(D);return B===null?void 0:R(B,V,z)}else{if("value"in P)return P.value;var H=P.get;return H===void 0?void 0:H.call(z)}},l=i(3),a=_(l),u=i(2),c=_(u),d=i(8),f=_(d),h=i(23),p=_(h),v=i(34),b=_(v),m=i(59),y=_(m),w=i(60),g=_(w),S=i(28),E=_(S),O=i(61),k=_(O);function _(R){return R&&R.__esModule?R:{default:R}}function T(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function x(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function A(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var N=[!1,"center","right","justify"],M=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],F=["1","2","3",!1],q=["small",!1,"large","huge"],U=function(R){A(D,R);function D(V,z){T(this,D);var P=x(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,V,z)),B=function H(W){if(!document.body.contains(V.root))return document.body.removeEventListener("click",H);P.tooltip!=null&&!P.tooltip.root.contains(W.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),P.pickers!=null&&P.pickers.forEach(function(Q){Q.container.contains(W.target)||Q.close()})};return V.emitter.listenDOM("click",document.body,B),P}return o(D,[{key:"addModule",value:function(z){var P=s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(z,P){z.forEach(function(B){var H=B.getAttribute("class")||"";H.split(/\s+/).forEach(function(W){if(W.startsWith("ql-")&&(W=W.slice(3),P[W]!=null))if(W==="direction")B.innerHTML=P[W][""]+P[W].rtl;else if(typeof P[W]=="string")B.innerHTML=P[W];else{var Q=B.value||"";Q!=null&&P[W][Q]&&(B.innerHTML=P[W][Q])}})})}},{key:"buildPickers",value:function(z,P){var B=this;this.pickers=z.map(function(W){if(W.classList.contains("ql-align"))return W.querySelector("option")==null&&C(W,N),new g.default(W,P.align);if(W.classList.contains("ql-background")||W.classList.contains("ql-color")){var Q=W.classList.contains("ql-background")?"background":"color";return W.querySelector("option")==null&&C(W,M,Q==="background"?"#ffffff":"#000000"),new y.default(W,P[Q])}else return W.querySelector("option")==null&&(W.classList.contains("ql-font")?C(W,I):W.classList.contains("ql-header")?C(W,F):W.classList.contains("ql-size")&&C(W,q)),new E.default(W)});var H=function(){B.pickers.forEach(function(Q){Q.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,H)}}]),D}(b.default);U.DEFAULTS=(0,a.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var D=this,V=this.container.querySelector("input.ql-image[type=file]");V==null&&(V=document.createElement("input"),V.setAttribute("type","file"),V.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),V.classList.add("ql-image"),V.addEventListener("change",function(){if(V.files!=null&&V.files[0]!=null){var z=new FileReader;z.onload=function(P){var B=D.quill.getSelection(!0);D.quill.updateContents(new c.default().retain(B.index).delete(B.length).insert({image:P.target.result}),f.default.sources.USER),D.quill.setSelection(B.index+1,f.default.sources.SILENT),V.value=""},z.readAsDataURL(V.files[0])}}),this.container.appendChild(V)),V.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(R){A(D,R);function D(V,z){T(this,D);var P=x(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,V,z));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return o(D,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(P){p.default.match(P,"enter")?(z.save(),P.preventDefault()):p.default.match(P,"escape")&&(z.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),P!=null?this.textbox.value=P:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,f.default.sources.USER)),this.quill.root.scrollTop=P;break}case"video":z=L(z);case"formula":{if(!z)break;var B=this.quill.getSelection(!0);if(B!=null){var H=B.index+B.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),z,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",f.default.sources.USER),this.quill.setSelection(H+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),D}(k.default);function L(R){var D=R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?(D[1]||"https")+"://www.youtube.com/embed/"+D[2]+"?showinfo=0":(D=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(D[1]||"https")+"://player.vimeo.com/video/"+D[2]+"/":R}function C(R,D){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D.forEach(function(z){var P=document.createElement("option");z===V?P.setAttribute("selected","selected"):P.setAttribute("value",z),R.appendChild(P)})}r.BaseTooltip=j,r.default=U},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},s.prototype.contains=function(l){for(var a,u=this.iterator();a=u();)if(a===l)return!0;return!1},s.prototype.insertBefore=function(l,a){l&&(l.next=a,a!=null?(l.prev=a.prev,a.prev!=null&&(a.prev.next=l),a.prev=l,a===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},s.prototype.offset=function(l){for(var a=0,u=this.head;u!=null;){if(u===l)return a;a+=u.length(),u=u.next}return-1},s.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},s.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var a=l;return l!=null&&(l=l.next),a}},s.prototype.find=function(l,a){a===void 0&&(a=!1);for(var u,c=this.iterator();u=c();){var d=u.length();if(l<d||a&&l===d&&(u.next==null||u.next.length()!==0))return[u,l];l-=d}return[null,0]},s.prototype.forEach=function(l){for(var a,u=this.iterator();a=u();)l(a)},s.prototype.forEachAt=function(l,a,u){if(!(a<=0))for(var c=this.find(l),d=c[0],f=c[1],h,p=l-f,v=this.iterator(d);(h=v())&&p<l+a;){var b=h.length();l>p?u(h,l-p,Math.min(a,p+b-l)):u(h,0,Math.min(b,l+a-p)),p+=b}},s.prototype.map=function(l){return this.reduce(function(a,u){return a.push(l(u)),a},[])},s.prototype.reduce=function(l,a){for(var u,c=this.iterator();u=c();)a=l(a,u);return a},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){d(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),l=i(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(d){o(f,d);function f(h){var p=d.call(this,h)||this;return p.scroll=p,p.observer=new MutationObserver(function(v){p.update(v)}),p.observer.observe(p.domNode,a),p.attach(),p}return f.prototype.detach=function(){d.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(h,p){this.update(),h===0&&p===this.length()?this.children.forEach(function(v){v.remove()}):d.prototype.deleteAt.call(this,h,p)},f.prototype.formatAt=function(h,p,v,b){this.update(),d.prototype.formatAt.call(this,h,p,v,b)},f.prototype.insertAt=function(h,p,v){this.update(),d.prototype.insertAt.call(this,h,p,v)},f.prototype.optimize=function(h,p){var v=this;h===void 0&&(h=[]),p===void 0&&(p={}),d.prototype.optimize.call(this,p);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)h.push(b.pop());for(var m=function(S,E){E===void 0&&(E=!0),!(S==null||S===v)&&S.domNode.parentNode!=null&&(S.domNode[l.DATA_KEY].mutations==null&&(S.domNode[l.DATA_KEY].mutations=[]),E&&m(S.parent))},y=function(S){S.domNode[l.DATA_KEY]==null||S.domNode[l.DATA_KEY].mutations==null||(S instanceof s.default&&S.children.forEach(y),S.optimize(p))},w=h,g=0;w.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(S){var E=l.find(S.target,!0);E!=null&&(E.domNode===S.target&&(S.type==="childList"?(m(l.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(O){var k=l.find(O,!1);m(k,!1),k instanceof s.default&&k.children.forEach(function(_){m(_,!1)})})):S.type==="attributes"&&m(E.prev)),m(E))}),this.children.forEach(y),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)h.push(b.pop())}},f.prototype.update=function(h,p){var v=this;p===void 0&&(p={}),h=h||this.observer.takeRecords(),h.map(function(b){var m=l.find(b.target,!0);return m==null?null:m.domNode[l.DATA_KEY].mutations==null?(m.domNode[l.DATA_KEY].mutations=[b],m):(m.domNode[l.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===v||b.domNode[l.DATA_KEY]==null||b.update(b.domNode[l.DATA_KEY].mutations||[],p)}),this.domNode[l.DATA_KEY].mutations!=null&&d.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,p),this.optimize(h,p)},f.blotName="scroll",f.defaultChild="block",f.scope=l.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){c(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),l=i(1);function a(c,d){if(Object.keys(c).length!==Object.keys(d).length)return!1;for(var f in c)if(c[f]!==d[f])return!1;return!0}var u=function(c){o(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(f){if(f.tagName!==d.tagName)return c.formats.call(this,f)},d.prototype.format=function(f,h){var p=this;f===this.statics.blotName&&!h?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(d.blotName,!0)),p.attributes.copy(v)}),this.unwrap()):c.prototype.format.call(this,f,h)},d.prototype.formatAt=function(f,h,p,v){if(this.formats()[p]!=null||l.query(p,l.Scope.ATTRIBUTE)){var b=this.isolate(f,h);b.format(p,v)}else c.prototype.formatAt.call(this,f,h,p,v)},d.prototype.optimize=function(f){c.prototype.optimize.call(this,f);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var p=this.next;p instanceof d&&p.prev===this&&a(h,p.formats())&&(p.moveChildren(this),p.remove())},d.blotName="inline",d.scope=l.Scope.INLINE_BLOT,d.tagName="SPAN",d}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),l=i(1),a=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(d){var f=l.query(c.blotName).tagName;if(d.tagName!==f)return u.formats.call(this,d)},c.prototype.format=function(d,f){l.query(d,l.Scope.BLOCK)!=null&&(d===this.statics.blotName&&!f?this.replaceWith(c.blotName):u.prototype.format.call(this,d,f))},c.prototype.formatAt=function(d,f,h,p){l.query(h,l.Scope.BLOCK)!=null?this.format(h,p):u.prototype.formatAt.call(this,d,f,h,p)},c.prototype.insertAt=function(d,f,h){if(h==null||l.query(f,l.Scope.INLINE)!=null)u.prototype.insertAt.call(this,d,f,h);else{var p=this.split(d),v=l.create(f,h);p.parent.insertBefore(v,p)}},c.prototype.update=function(d,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,d,f)},c.blotName="block",c.scope=l.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])};return function(u,c){a(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),l=function(a){o(u,a);function u(){return a!==null&&a.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,d){a.prototype.formatAt.call(this,0,this.length(),c,d)},u.prototype.formatAt=function(c,d,f,h){c===0&&d===this.length()?this.format(f,h):a.prototype.formatAt.call(this,c,d,f,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])};return function(c,d){u(c,d);function f(){this.constructor=c}c.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),l=i(1),a=function(u){o(c,u);function c(d){var f=u.call(this,d)||this;return f.text=f.statics.value(f.domNode),f}return c.create=function(d){return document.createTextNode(d)},c.value=function(d){var f=d.data;return f.normalize&&(f=f.normalize()),f},c.prototype.deleteAt=function(d,f){this.domNode.data=this.text=this.text.slice(0,d)+this.text.slice(d+f)},c.prototype.index=function(d,f){return this.domNode===d?f:-1},c.prototype.insertAt=function(d,f,h){h==null?(this.text=this.text.slice(0,d)+f+this.text.slice(d),this.domNode.data=this.text):u.prototype.insertAt.call(this,d,f,h)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(d){u.prototype.optimize.call(this,d),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(d,f){return[this.domNode,d]},c.prototype.split=function(d,f){if(f===void 0&&(f=!1),!f){if(d===0)return this;if(d===this.length())return this.next}var h=l.create(this.domNode.splitText(d));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},c.prototype.update=function(d,f){var h=this;d.some(function(p){return p.type==="characterData"&&p.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=l.Scope.INLINE_BLOT,c}(s.default);r.default=a},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,a){return arguments.length>1&&!this.contains(l)==!a?a:s.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,a){return a=a||0,this.substr(a,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,a){var u=this.toString();(typeof a!="number"||!isFinite(a)||Math.floor(a)!==a||a>u.length)&&(a=u.length),a-=l.length;var c=u.indexOf(l,a);return c!==-1&&c===a}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,d=arguments[1],f,h=0;h<c;h++)if(f=u[h],a.call(d,f,h,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function l(g,S,E){if(g==S)return g?[[s,g]]:[];(E<0||g.length<E)&&(E=null);var O=d(g,S),k=g.substring(0,O);g=g.substring(O),S=S.substring(O),O=f(g,S);var _=g.substring(g.length-O);g=g.substring(0,g.length-O),S=S.substring(0,S.length-O);var T=a(g,S);return k&&T.unshift([s,k]),_&&T.push([s,_]),p(T),E!=null&&(T=m(T,E)),T=y(T),T}function a(g,S){var E;if(!g)return[[o,S]];if(!S)return[[i,g]];var O=g.length>S.length?g:S,k=g.length>S.length?S:g,_=O.indexOf(k);if(_!=-1)return E=[[o,O.substring(0,_)],[s,k],[o,O.substring(_+k.length)]],g.length>S.length&&(E[0][0]=E[2][0]=i),E;if(k.length==1)return[[i,g],[o,S]];var T=h(g,S);if(T){var x=T[0],A=T[1],N=T[2],M=T[3],I=T[4],F=l(x,N),q=l(A,M);return F.concat([[s,I]],q)}return u(g,S)}function u(g,S){for(var E=g.length,O=S.length,k=Math.ceil((E+O)/2),_=k,T=2*k,x=new Array(T),A=new Array(T),N=0;N<T;N++)x[N]=-1,A[N]=-1;x[_+1]=0,A[_+1]=0;for(var M=E-O,I=M%2!=0,F=0,q=0,U=0,j=0,L=0;L<k;L++){for(var C=-L+F;C<=L-q;C+=2){var R=_+C,D;C==-L||C!=L&&x[R-1]<x[R+1]?D=x[R+1]:D=x[R-1]+1;for(var V=D-C;D<E&&V<O&&g.charAt(D)==S.charAt(V);)D++,V++;if(x[R]=D,D>E)q+=2;else if(V>O)F+=2;else if(I){var z=_+M-C;if(z>=0&&z<T&&A[z]!=-1){var P=E-A[z];if(D>=P)return c(g,S,D,V)}}}for(var B=-L+U;B<=L-j;B+=2){var z=_+B,P;B==-L||B!=L&&A[z-1]<A[z+1]?P=A[z+1]:P=A[z-1]+1;for(var H=P-B;P<E&&H<O&&g.charAt(E-P-1)==S.charAt(O-H-1);)P++,H++;if(A[z]=P,P>E)j+=2;else if(H>O)U+=2;else if(!I){var R=_+M-B;if(R>=0&&R<T&&x[R]!=-1){var D=x[R],V=_+D-R;if(P=E-P,D>=P)return c(g,S,D,V)}}}}return[[i,g],[o,S]]}function c(g,S,E,O){var k=g.substring(0,E),_=S.substring(0,O),T=g.substring(E),x=S.substring(O),A=l(k,_),N=l(T,x);return A.concat(N)}function d(g,S){if(!g||!S||g.charAt(0)!=S.charAt(0))return 0;for(var E=0,O=Math.min(g.length,S.length),k=O,_=0;E<k;)g.substring(_,k)==S.substring(_,k)?(E=k,_=E):O=k,k=Math.floor((O-E)/2+E);return k}function f(g,S){if(!g||!S||g.charAt(g.length-1)!=S.charAt(S.length-1))return 0;for(var E=0,O=Math.min(g.length,S.length),k=O,_=0;E<k;)g.substring(g.length-k,g.length-_)==S.substring(S.length-k,S.length-_)?(E=k,_=E):O=k,k=Math.floor((O-E)/2+E);return k}function h(g,S){var E=g.length>S.length?g:S,O=g.length>S.length?S:g;if(E.length<4||O.length*2<E.length)return null;function k(q,U,j){for(var L=q.substring(j,j+Math.floor(q.length/4)),C=-1,R="",D,V,z,P;(C=U.indexOf(L,C+1))!=-1;){var B=d(q.substring(j),U.substring(C)),H=f(q.substring(0,j),U.substring(0,C));R.length<H+B&&(R=U.substring(C-H,C)+U.substring(C,C+B),D=q.substring(0,j-H),V=q.substring(j+B),z=U.substring(0,C-H),P=U.substring(C+B))}return R.length*2>=q.length?[D,V,z,P,R]:null}var _=k(E,O,Math.ceil(E.length/4)),T=k(E,O,Math.ceil(E.length/2)),x;if(!_&&!T)return null;T?_?x=_[4].length>T[4].length?_:T:x=T:x=_;var A,N,M,I;g.length>S.length?(A=x[0],N=x[1],M=x[2],I=x[3]):(M=x[0],I=x[1],A=x[2],N=x[3]);var F=x[4];return[A,N,M,I,F]}function p(g){g.push([s,""]);for(var S=0,E=0,O=0,k="",_="",T;S<g.length;)switch(g[S][0]){case o:O++,_+=g[S][1],S++;break;case i:E++,k+=g[S][1],S++;break;case s:E+O>1?(E!==0&&O!==0&&(T=d(_,k),T!==0&&(S-E-O>0&&g[S-E-O-1][0]==s?g[S-E-O-1][1]+=_.substring(0,T):(g.splice(0,0,[s,_.substring(0,T)]),S++),_=_.substring(T),k=k.substring(T)),T=f(_,k),T!==0&&(g[S][1]=_.substring(_.length-T)+g[S][1],_=_.substring(0,_.length-T),k=k.substring(0,k.length-T))),E===0?g.splice(S-O,E+O,[o,_]):O===0?g.splice(S-E,E+O,[i,k]):g.splice(S-E-O,E+O,[i,k],[o,_]),S=S-E-O+(E?1:0)+(O?1:0)+1):S!==0&&g[S-1][0]==s?(g[S-1][1]+=g[S][1],g.splice(S,1)):S++,O=0,E=0,k="",_="";break}g[g.length-1][1]===""&&g.pop();var x=!1;for(S=1;S<g.length-1;)g[S-1][0]==s&&g[S+1][0]==s&&(g[S][1].substring(g[S][1].length-g[S-1][1].length)==g[S-1][1]?(g[S][1]=g[S-1][1]+g[S][1].substring(0,g[S][1].length-g[S-1][1].length),g[S+1][1]=g[S-1][1]+g[S+1][1],g.splice(S-1,1),x=!0):g[S][1].substring(0,g[S+1][1].length)==g[S+1][1]&&(g[S-1][1]+=g[S+1][1],g[S][1]=g[S][1].substring(g[S+1][1].length)+g[S+1][1],g.splice(S+1,1),x=!0)),S++;x&&p(g)}var v=l;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function b(g,S){if(S===0)return[s,g];for(var E=0,O=0;O<g.length;O++){var k=g[O];if(k[0]===i||k[0]===s){var _=E+k[1].length;if(S===_)return[O+1,g];if(S<_){g=g.slice();var T=S-E,x=[k[0],k[1].slice(0,T)],A=[k[0],k[1].slice(T)];return g.splice(O,1,x,A),[O+1,g]}else E=_}}throw new Error("cursor_pos is out of bounds!")}function m(g,S){var E=b(g,S),O=E[1],k=E[0],_=O[k],T=O[k+1];if(_==null)return g;if(_[0]!==s)return g;if(T!=null&&_[1]+T[1]===T[1]+_[1])return O.splice(k,2,T,_),w(O,k,2);if(T!=null&&T[1].indexOf(_[1])===0){O.splice(k,2,[T[0],_[1]],[0,_[1]]);var x=T[1].slice(_[1].length);return x.length>0&&O.splice(k+2,0,[T[0],x]),w(O,k,3)}else return g}function y(g){for(var S=!1,E=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},O=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},k=2;k<g.length;k+=1)g[k-2][0]===s&&O(g[k-2][1])&&g[k-1][0]===i&&E(g[k-1][1])&&g[k][0]===o&&E(g[k][1])&&(S=!0,g[k-1][1]=g[k-2][1].slice(-1)+g[k-1][1],g[k][1]=g[k-2][1].slice(-1)+g[k][1],g[k-2][1]=g[k-2][1].slice(0,-1));if(!S)return g;for(var _=[],k=0;k<g.length;k+=1)g[k][1].length>0&&_.push(g[k]);return _}function w(g,S,E){for(var O=S+E-1;O>=0&&O>=S-1;O--)if(O+1<g.length){var k=g[O],_=g[O+1];k[0]===_[1]&&g.splice(O,2,[k[0],k[1]+_[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var l in o)s.push(l);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(l){return Object.prototype.toString.call(l)=="[object Arguments]"}r.unsupported=s;function s(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function l(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function a(){this._events=new s,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)i.call(d,f)&&c.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c,d){var f=o?o+c:c,h=this._events[f];if(d)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var p=0,v=h.length,b=new Array(v);p<v;p++)b[p]=h[p].fn;return b},a.prototype.emit=function(c,d,f,h,p,v){var b=o?o+c:c;if(!this._events[b])return!1;var m=this._events[b],y=arguments.length,w,g;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,f),!0;case 4:return m.fn.call(m.context,d,f,h),!0;case 5:return m.fn.call(m.context,d,f,h,p),!0;case 6:return m.fn.call(m.context,d,f,h,p,v),!0}for(g=1,w=new Array(y-1);g<y;g++)w[g-1]=arguments[g];m.fn.apply(m.context,w)}else{var S=m.length,E;for(g=0;g<S;g++)switch(m[g].once&&this.removeListener(c,m[g].fn,void 0,!0),y){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,d);break;case 3:m[g].fn.call(m[g].context,d,f);break;case 4:m[g].fn.call(m[g].context,d,f,h);break;default:if(!w)for(E=1,w=new Array(y-1);E<y;E++)w[E-1]=arguments[E];m[g].fn.apply(m[g].context,w)}}return!0},a.prototype.on=function(c,d,f){var h=new l(d,f||this),p=o?o+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},a.prototype.once=function(c,d,f){var h=new l(d,f||this,!0),p=o?o+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],h]:this._events[p].push(h):(this._events[p]=h,this._eventsCount++),this},a.prototype.removeListener=function(c,d,f,h){var p=o?o+c:c;if(!this._events[p])return this;if(!d)return--this._eventsCount===0?this._events=new s:delete this._events[p],this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[p]);else{for(var b=0,m=[],y=v.length;b<y;b++)(v[b].fn!==d||h&&!v[b].once||f&&v[b].context!==f)&&m.push(v[b]);m.length?this._events[p]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[p]}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=o?o+c:c,this._events[d]&&(--this._eventsCount===0?this._events=new s:delete this._events[d])):(this._events=new s,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,typeof n<"u"&&(n.exports=a)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},s=function(){function K(J,ie){var oe=[],$=!0,Z=!1,ee=void 0;try{for(var ne=J[Symbol.iterator](),de;!($=(de=ne.next()).done)&&(oe.push(de.value),!(ie&&oe.length===ie));$=!0);}catch(ve){Z=!0,ee=ve}finally{try{!$&&ne.return&&ne.return()}finally{if(Z)throw ee}}return oe}return function(J,ie){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return K(J,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function K(J,ie){for(var oe=0;oe<ie.length;oe++){var $=ie[oe];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(J,$.key,$)}}return function(J,ie,oe){return ie&&K(J.prototype,ie),oe&&K(J,oe),J}}(),a=i(3),u=A(a),c=i(2),d=A(c),f=i(0),h=A(f),p=i(5),v=A(p),b=i(10),m=A(b),y=i(9),w=A(y),g=i(36),S=i(37),E=i(13),O=A(E),k=i(26),_=i(38),T=i(39),x=i(40);function A(K){return K&&K.__esModule?K:{default:K}}function N(K,J,ie){return J in K?Object.defineProperty(K,J,{value:ie,enumerable:!0,configurable:!0,writable:!0}):K[J]=ie,K}function M(K,J){if(!(K instanceof J))throw new TypeError("Cannot call a class as a function")}function I(K,J){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:K}function F(K,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);K.prototype=Object.create(J&&J.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(K,J):K.__proto__=J)}var q=(0,m.default)("quill:clipboard"),U="__ql-matcher",j=[[Node.TEXT_NODE,Pe],[Node.TEXT_NODE,be],["br",se],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,Ve],["li",pe],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",he]],L=[g.AlignAttribute,_.DirectionAttribute].reduce(function(K,J){return K[J.keyName]=J,K},{}),C=[g.AlignStyle,S.BackgroundStyle,k.ColorStyle,_.DirectionStyle,T.FontStyle,x.SizeStyle].reduce(function(K,J){return K[J.keyName]=J,K},{}),R=function(K){F(J,K);function J(ie,oe){M(this,J);var $=I(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ie,oe));return $.quill.root.addEventListener("paste",$.onPaste.bind($)),$.container=$.quill.addContainer("ql-clipboard"),$.container.setAttribute("contenteditable",!0),$.container.setAttribute("tabindex",-1),$.matchers=[],j.concat($.options.matchers).forEach(function(Z){var ee=s(Z,2),ne=ee[0],de=ee[1];!oe.matchVisual&&de===Oe||$.addMatcher(ne,de)}),$}return l(J,[{key:"addMatcher",value:function(oe,$){this.matchers.push([oe,$])}},{key:"convert",value:function(oe){if(typeof oe=="string")return this.container.innerHTML=oe.replace(/\>\r?\n +\</g,"><"),this.convert();var $=this.quill.getFormat(this.quill.selection.savedRange.index);if($[O.default.blotName]){var Z=this.container.innerText;return this.container.innerHTML="",new d.default().insert(Z,N({},O.default.blotName,$[O.default.blotName]))}var ee=this.prepareMatching(),ne=s(ee,2),de=ne[0],ve=ne[1],ge=B(this.container,de,ve);return z(ge,`
`)&&ge.ops[ge.ops.length-1].attributes==null&&(ge=ge.compose(new d.default().retain(ge.length()-1).delete(1))),q.log("convert",this.container.innerHTML,ge),this.container.innerHTML="",ge}},{key:"dangerouslyPasteHTML",value:function(oe,$){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof oe=="string")this.quill.setContents(this.convert(oe),$),this.quill.setSelection(0,v.default.sources.SILENT);else{var ee=this.convert($);this.quill.updateContents(new d.default().retain(oe).concat(ee),Z),this.quill.setSelection(oe+ee.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(oe){var $=this;if(!(oe.defaultPrevented||!this.quill.isEnabled())){var Z=this.quill.getSelection(),ee=new d.default().retain(Z.index),ne=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){ee=ee.concat($.convert()).delete(Z.length),$.quill.updateContents(ee,v.default.sources.USER),$.quill.setSelection(ee.length()-Z.length,v.default.sources.SILENT),$.quill.scrollingContainer.scrollTop=ne,$.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var oe=this,$=[],Z=[];return this.matchers.forEach(function(ee){var ne=s(ee,2),de=ne[0],ve=ne[1];switch(de){case Node.TEXT_NODE:Z.push(ve);break;case Node.ELEMENT_NODE:$.push(ve);break;default:[].forEach.call(oe.container.querySelectorAll(de),function(ge){ge[U]=ge[U]||[],ge[U].push(ve)});break}}),[$,Z]}}]),J}(w.default);R.DEFAULTS={matchers:[],matchVisual:!0};function D(K,J,ie){return(typeof J>"u"?"undefined":o(J))==="object"?Object.keys(J).reduce(function(oe,$){return D(oe,$,J[$])},K):K.reduce(function(oe,$){return $.attributes&&$.attributes[J]?oe.push($):oe.insert($.insert,(0,u.default)({},N({},J,ie),$.attributes))},new d.default)}function V(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var J="__ql-computed-style";return K[J]||(K[J]=window.getComputedStyle(K))}function z(K,J){for(var ie="",oe=K.ops.length-1;oe>=0&&ie.length<J.length;--oe){var $=K.ops[oe];if(typeof $.insert!="string")break;ie=$.insert+ie}return ie.slice(-1*J.length)===J}function P(K){if(K.childNodes.length===0)return!1;var J=V(K);return["block","list-item"].indexOf(J.display)>-1}function B(K,J,ie){return K.nodeType===K.TEXT_NODE?ie.reduce(function(oe,$){return $(K,oe)},new d.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(oe,$){var Z=B($,J,ie);return $.nodeType===K.ELEMENT_NODE&&(Z=J.reduce(function(ee,ne){return ne($,ee)},Z),Z=($[U]||[]).reduce(function(ee,ne){return ne($,ee)},Z)),oe.concat(Z)},new d.default):new d.default}function H(K,J,ie){return D(ie,K,!0)}function W(K,J){var ie=h.default.Attributor.Attribute.keys(K),oe=h.default.Attributor.Class.keys(K),$=h.default.Attributor.Style.keys(K),Z={};return ie.concat(oe).concat($).forEach(function(ee){var ne=h.default.query(ee,h.default.Scope.ATTRIBUTE);ne!=null&&(Z[ne.attrName]=ne.value(K),Z[ne.attrName])||(ne=L[ee],ne!=null&&(ne.attrName===ee||ne.keyName===ee)&&(Z[ne.attrName]=ne.value(K)||void 0),ne=C[ee],ne!=null&&(ne.attrName===ee||ne.keyName===ee)&&(ne=C[ee],Z[ne.attrName]=ne.value(K)||void 0))}),Object.keys(Z).length>0&&(J=D(J,Z)),J}function Q(K,J){var ie=h.default.query(K);if(ie==null)return J;if(ie.prototype instanceof h.default.Embed){var oe={},$=ie.value(K);$!=null&&(oe[ie.blotName]=$,J=new d.default().insert(oe,ie.formats(K)))}else typeof ie.formats=="function"&&(J=D(J,ie.blotName,ie.formats(K)));return J}function se(K,J){return z(J,`
`)||J.insert(`
`),J}function he(){return new d.default}function pe(K,J){var ie=h.default.query(K);if(ie==null||ie.blotName!=="list-item"||!z(J,`
`))return J;for(var oe=-1,$=K.parentNode;!$.classList.contains("ql-clipboard");)(h.default.query($)||{}).blotName==="list"&&(oe+=1),$=$.parentNode;return oe<=0?J:J.compose(new d.default().retain(J.length()-1).retain(1,{indent:oe}))}function be(K,J){return z(J,`
`)||(P(K)||J.length()>0&&K.nextSibling&&P(K.nextSibling))&&J.insert(`
`),J}function Oe(K,J){if(P(K)&&K.nextElementSibling!=null&&!z(J,`

`)){var ie=K.offsetHeight+parseFloat(V(K).marginTop)+parseFloat(V(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+ie*1.5&&J.insert(`
`)}return J}function Ve(K,J){var ie={},oe=K.style||{};return oe.fontStyle&&V(K).fontStyle==="italic"&&(ie.italic=!0),oe.fontWeight&&(V(K).fontWeight.startsWith("bold")||parseInt(V(K).fontWeight)>=700)&&(ie.bold=!0),Object.keys(ie).length>0&&(J=D(J,ie)),parseFloat(oe.textIndent||0)>0&&(J=new d.default().insert("	").concat(J)),J}function Pe(K,J){var ie=K.data;if(K.parentNode.tagName==="O:P")return J.insert(ie.trim());if(ie.trim().length===0&&K.parentNode.classList.contains("ql-clipboard"))return J;if(!V(K.parentNode).whiteSpace.startsWith("pre")){var oe=function(Z,ee){return ee=ee.replace(/[^\u00a0]/g,""),ee.length<1&&Z?" ":ee};ie=ie.replace(/\r\n/g," ").replace(/\n/g," "),ie=ie.replace(/\s\s+/g,oe.bind(oe,!0)),(K.previousSibling==null&&P(K.parentNode)||K.previousSibling!=null&&P(K.previousSibling))&&(ie=ie.replace(/^\s+/,oe.bind(oe,!1))),(K.nextSibling==null&&P(K.parentNode)||K.nextSibling!=null&&P(K.nextSibling))&&(ie=ie.replace(/\s+$/,oe.bind(oe,!1)))}return J.insert(ie)}r.default=R,r.matchAttributor=W,r.matchBlot=Q,r.matchNewline=be,r.matchSpacing=Oe,r.matchText=Pe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,m){return b&&p(v.prototype,b),m&&p(v,m),v}}(),s=function p(v,b,m){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,m)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(m)}},l=i(6),a=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){f(v,p);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(m){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(a.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function x(A,N){var M=[],I=!0,F=!1,q=void 0;try{for(var U=A[Symbol.iterator](),j;!(I=(j=U.next()).done)&&(M.push(j.value),!(N&&M.length===N));I=!0);}catch(L){F=!0,q=L}finally{try{!I&&U.return&&U.return()}finally{if(F)throw q}}return M}return function(A,N){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return x(A,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function x(A,N){for(var M=0;M<N.length;M++){var I=N[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,N,M){return N&&x(A.prototype,N),M&&x(A,M),A}}(),l=i(2),a=m(l),u=i(0),c=m(u),d=i(5),f=m(d),h=i(10),p=m(h),v=i(9),b=m(v);function m(x){return x&&x.__esModule?x:{default:x}}function y(x,A,N){return A in x?Object.defineProperty(x,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):x[A]=N,x}function w(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function g(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function S(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var E=(0,p.default)("quill:toolbar"),O=function(x){S(A,x);function A(N,M){w(this,A);var I=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N,M));if(Array.isArray(I.options.container)){var F=document.createElement("div");_(F,I.options.container),N.container.parentNode.insertBefore(F,N.container),I.container=F}else typeof I.options.container=="string"?I.container=document.querySelector(I.options.container):I.container=I.options.container;if(!(I.container instanceof HTMLElement)){var q;return q=E.error("Container required for toolbar",I.options),g(I,q)}return I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(U){I.addHandler(U,I.options.handlers[U])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(U){I.attach(U)}),I.quill.on(f.default.events.EDITOR_CHANGE,function(U,j){U===f.default.events.SELECTION_CHANGE&&I.update(j)}),I.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var U=I.quill.selection.getRange(),j=o(U,1),L=j[0];I.update(L)}),I}return s(A,[{key:"addHandler",value:function(M,I){this.handlers[M]=I}},{key:"attach",value:function(M){var I=this,F=[].find.call(M.classList,function(U){return U.indexOf("ql-")===0});if(F){if(F=F.slice(3),M.tagName==="BUTTON"&&M.setAttribute("type","button"),this.handlers[F]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[F]==null){E.warn("ignoring attaching to disabled format",F,M);return}if(c.default.query(F)==null){E.warn("ignoring attaching to nonexistent format",F,M);return}}var q=M.tagName==="SELECT"?"change":"click";M.addEventListener(q,function(U){var j=void 0;if(M.tagName==="SELECT"){if(M.selectedIndex<0)return;var L=M.options[M.selectedIndex];L.hasAttribute("selected")?j=!1:j=L.value||!1}else M.classList.contains("ql-active")?j=!1:j=M.value||!M.hasAttribute("value"),U.preventDefault();I.quill.focus();var C=I.quill.selection.getRange(),R=o(C,1),D=R[0];if(I.handlers[F]!=null)I.handlers[F].call(I,j);else if(c.default.query(F).prototype instanceof c.default.Embed){if(j=prompt("Enter "+F),!j)return;I.quill.updateContents(new a.default().retain(D.index).delete(D.length).insert(y({},F,j)),f.default.sources.USER)}else I.quill.format(F,j,f.default.sources.USER);I.update(D)}),this.controls.push([F,M])}}},{key:"update",value:function(M){var I=M==null?{}:this.quill.getFormat(M);this.controls.forEach(function(F){var q=o(F,2),U=q[0],j=q[1];if(j.tagName==="SELECT"){var L=void 0;if(M==null)L=null;else if(I[U]==null)L=j.querySelector("option[selected]");else if(!Array.isArray(I[U])){var C=I[U];typeof C=="string"&&(C=C.replace(/\"/g,'\\"')),L=j.querySelector('option[value="'+C+'"]')}L==null?(j.value="",j.selectedIndex=-1):L.selected=!0}else if(M==null)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var R=I[U]===j.getAttribute("value")||I[U]!=null&&I[U].toString()===j.getAttribute("value")||I[U]==null&&!j.getAttribute("value");j.classList.toggle("ql-active",R)}else j.classList.toggle("ql-active",I[U]!=null)})}}]),A}(b.default);O.DEFAULTS={};function k(x,A,N){var M=document.createElement("button");M.setAttribute("type","button"),M.classList.add("ql-"+A),N!=null&&(M.value=N),x.appendChild(M)}function _(x,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(N){var M=document.createElement("span");M.classList.add("ql-formats"),N.forEach(function(I){if(typeof I=="string")k(M,I);else{var F=Object.keys(I)[0],q=I[F];Array.isArray(q)?T(M,F,q):k(M,F,q)}}),x.appendChild(M)})}function T(x,A,N){var M=document.createElement("select");M.classList.add("ql-"+A),N.forEach(function(I){var F=document.createElement("option");I!==!1?F.setAttribute("value",I):F.setAttribute("selected","selected"),M.appendChild(F)}),x.appendChild(M)}O.DEFAULTS={container:null,handlers:{clean:function(){var A=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var M=this.quill.getFormat();Object.keys(M).forEach(function(I){c.default.query(I,c.default.Scope.INLINE)!=null&&A.quill.format(I,!1)})}else this.quill.removeFormat(N,f.default.sources.USER)},direction:function(A){var N=this.quill.getFormat().align;A==="rtl"&&N==null?this.quill.format("align","right",f.default.sources.USER):!A&&N==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",A,f.default.sources.USER)},indent:function(A){var N=this.quill.getSelection(),M=this.quill.getFormat(N),I=parseInt(M.indent||0);if(A==="+1"||A==="-1"){var F=A==="+1"?1:-1;M.direction==="rtl"&&(F*=-1),this.quill.format("indent",I+F,f.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,f.default.sources.USER)},list:function(A){var N=this.quill.getSelection(),M=this.quill.getFormat(N);A==="check"?M.list==="checked"||M.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",A,f.default.sources.USER)}}},r.default=O,r.addControls=_},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,m){return b&&p(v.prototype,b),m&&p(v,m),v}}(),s=function p(v,b,m){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,m)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(m)}},l=i(28),a=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){f(v,p);function v(b,m){c(this,v);var y=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return y.label.innerHTML=m,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),y}return o(v,[{key:"buildItem",value:function(m){var y=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,m);return y.style.backgroundColor=m.getAttribute("value")||"",y}},{key:"selectItem",value:function(m,y){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,y);var w=this.label.querySelector(".ql-color-label"),g=m&&m.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=g:w.style.fill=g)}}]),v}(a.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,m){return b&&p(v.prototype,b),m&&p(v,m),v}}(),s=function p(v,b,m){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,m)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(m)}},l=i(28),a=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){f(v,p);function v(b,m){c(this,v);var y=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=m[w.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return o(v,[{key:"selectItem",value:function(m,y){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,y),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),v}(a.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function a(u,c){for(var d=0;d<c.length;d++){var f=c[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,d){return c&&a(u.prototype,c),d&&a(u,d),u}}();function s(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var l=function(){function a(u,c){var d=this;s(this,a),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){d.root.style.marginTop=-1*d.quill.root.scrollTop+"px"}),this.hide()}return o(a,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var d=c.left+c.width/2-this.root.offsetWidth/2,f=c.bottom+this.quill.root.scrollTop;this.root.style.left=d+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),v=0;if(p.right>h.right&&(v=h.right-p.right,this.root.style.left=d+v+"px"),p.left<h.left&&(v=h.left-p.left,this.root.style.left=d+v+"px"),p.bottom>h.bottom){var b=p.bottom-p.top,m=c.bottom-c.top+b;this.root.style.top=f-m+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),a}();r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(x,A){var N=[],M=!0,I=!1,F=void 0;try{for(var q=x[Symbol.iterator](),U;!(M=(U=q.next()).done)&&(N.push(U.value),!(A&&N.length===A));M=!0);}catch(j){I=!0,F=j}finally{try{!M&&q.return&&q.return()}finally{if(I)throw F}}return N}return function(x,A){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return T(x,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(x,A,N){x===null&&(x=Function.prototype);var M=Object.getOwnPropertyDescriptor(x,A);if(M===void 0){var I=Object.getPrototypeOf(x);return I===null?void 0:T(I,A,N)}else{if("value"in M)return M.value;var F=M.get;return F===void 0?void 0:F.call(N)}},l=function(){function T(x,A){for(var N=0;N<A.length;N++){var M=A[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}return function(x,A,N){return A&&T(x.prototype,A),N&&T(x,N),x}}(),a=i(3),u=w(a),c=i(8),d=w(c),f=i(43),h=w(f),p=i(27),v=w(p),b=i(15),m=i(41),y=w(m);function w(T){return T&&T.__esModule?T:{default:T}}function g(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}function S(T,x){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:T}function E(T,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);T.prototype=Object.create(x&&x.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(T,x):T.__proto__=x)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(T){E(x,T);function x(A,N){g(this,x),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=O);var M=S(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,A,N));return M.quill.container.classList.add("ql-snow"),M}return l(x,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),y.default),this.tooltip=new _(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(M,I){N.handlers.link.call(N,!I.format.link)})}}]),x}(h.default);k.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){if(x){var A=this.quill.getSelection();if(A==null||A.length==0)return;var N=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var M=this.quill.theme.tooltip;M.edit("link",N)}else this.quill.format("link",!1)}}}}});var _=function(T){E(x,T);function x(A,N){g(this,x);var M=S(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,A,N));return M.preview=M.root.querySelector("a.ql-preview"),M}return l(x,[{key:"listen",value:function(){var N=this;s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(M){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),M.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(M){if(N.linkRange!=null){var I=N.linkRange;N.restoreFocus(),N.quill.formatText(I,"link",!1,d.default.sources.USER),delete N.linkRange}M.preventDefault(),N.hide()}),this.quill.on(d.default.events.SELECTION_CHANGE,function(M,I,F){if(M!=null){if(M.length===0&&F===d.default.sources.USER){var q=N.quill.scroll.descendant(v.default,M.index),U=o(q,2),j=U[0],L=U[1];if(j!=null){N.linkRange=new b.Range(M.index-L,j.length());var C=v.default.formats(j.domNode);N.preview.textContent=C,N.preview.setAttribute("href",C),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),x}(f.BaseTooltip);_.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=$(o),l=i(36),a=i(38),u=i(64),c=i(65),d=$(c),f=i(66),h=$(f),p=i(67),v=$(p),b=i(37),m=i(26),y=i(39),w=i(40),g=i(56),S=$(g),E=i(68),O=$(E),k=i(27),_=$(k),T=i(69),x=$(T),A=i(70),N=$(A),M=i(71),I=$(M),F=i(72),q=$(F),U=i(73),j=$(U),L=i(13),C=$(L),R=i(74),D=$(R),V=i(75),z=$(V),P=i(57),B=$(P),H=i(41),W=$(H),Q=i(28),se=$(Q),he=i(59),pe=$(he),be=i(60),Oe=$(be),Ve=i(61),Pe=$(Ve),K=i(108),J=$(K),ie=i(62),oe=$(ie);function $(Z){return Z&&Z.__esModule?Z:{default:Z}}s.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":l.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":y.FontClass,"formats/size":w.SizeClass,"formats/blockquote":d.default,"formats/code-block":C.default,"formats/header":h.default,"formats/list":v.default,"formats/bold":S.default,"formats/code":L.Code,"formats/italic":O.default,"formats/link":_.default,"formats/script":x.default,"formats/strike":N.default,"formats/underline":I.default,"formats/image":q.default,"formats/video":j.default,"formats/list/item":p.ListItem,"modules/formula":D.default,"modules/syntax":z.default,"modules/toolbar":B.default,"themes/bubble":J.default,"themes/snow":oe.default,"ui/icons":W.default,"ui/picker":se.default,"ui/icon-picker":Oe.default,"ui/color-picker":pe.default,"ui/tooltip":Pe.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(b,m){for(var y=0;y<m.length;y++){var w=m[y];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,m,y){return m&&v(b.prototype,m),y&&v(b,y),b}}(),s=function v(b,m,y){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,m);if(w===void 0){var g=Object.getPrototypeOf(b);return g===null?void 0:v(g,m,y)}else{if("value"in w)return w.value;var S=w.get;return S===void 0?void 0:S.call(y)}},l=i(0),a=u(l);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function d(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function f(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var h=function(v){f(b,v);function b(){return c(this,b),d(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"add",value:function(y,w){if(w==="+1"||w==="-1"){var g=this.value(y)||0;w=w==="+1"?g+1:g-1}return w===0?(this.remove(y),!0):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,y,w)}},{key:"canAdd",value:function(y,w){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,w)||s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,parseInt(w))}},{key:"value",value:function(y){return parseInt(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y))||void 0}}]),b}(a.default.Attributor.Class),p=new h("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="blockquote",d.tagName="blockquote",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(p,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,v,b){return v&&h(p.prototype,v),b&&h(p,b),p}}(),s=i(4),l=a(s);function a(h){return h&&h.__esModule?h:{default:h}}function u(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function d(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){d(p,h);function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),p}(l.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(S,E){for(var O=0;O<E.length;O++){var k=E[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,E,O){return E&&g(S.prototype,E),O&&g(S,O),S}}(),s=function g(S,E,O){S===null&&(S=Function.prototype);var k=Object.getOwnPropertyDescriptor(S,E);if(k===void 0){var _=Object.getPrototypeOf(S);return _===null?void 0:g(_,E,O)}else{if("value"in k)return k.value;var T=k.get;return T===void 0?void 0:T.call(O)}},l=i(0),a=h(l),u=i(4),c=h(u),d=i(25),f=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function p(g,S,E){return S in g?Object.defineProperty(g,S,{value:E,enumerable:!0,configurable:!0,writable:!0}):g[S]=E,g}function v(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}function b(g,S){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:g}function m(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(g,S):g.__proto__=S)}var y=function(g){m(S,g);function S(){return v(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"format",value:function(O,k){O===w.blotName&&!k?this.replaceWith(a.default.create(this.statics.scope)):s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,O,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,k){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,k),this):(this.parent.unwrap(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,O,k))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:s(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,O)}}]),S}(c.default);y.blotName="list-item",y.tagName="LI";var w=function(g){m(S,g),o(S,null,[{key:"create",value:function(O){var k=O==="ordered"?"OL":"UL",_=s(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,k);return(O==="checked"||O==="unchecked")&&_.setAttribute("data-checked",O==="checked"),_}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(E){v(this,S);var O=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E)),k=function(T){if(T.target.parentNode===E){var x=O.statics.formats(E),A=a.default.find(T.target);x==="checked"?A.format("list","unchecked"):x==="unchecked"&&A.format("list","checked")}};return E.addEventListener("touchstart",k),E.addEventListener("mousedown",k),O}return o(S,[{key:"format",value:function(O,k){this.children.length>0&&this.children.tail.format(O,k)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,k){if(O instanceof y)s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,O,k);else{var _=k==null?this.length():k.offset(this),T=this.split(_);T.parent.insertBefore(O,T)}}},{key:"optimize",value:function(O){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,O);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var k=a.default.create(this.statics.defaultChild);O.moveChildren(k),this.appendChild(k)}s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,O)}}]),S}(f.default);w.blotName="list",w.scope=a.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[y],r.ListItem=y,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="italic",d.tagName=["EM","I"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,m){return b&&p(v.prototype,b),m&&p(v,m),v}}(),s=function p(v,b,m){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:p(w,b,m)}else{if("value"in y)return y.value;var g=y.get;return g===void 0?void 0:g.call(m)}},l=i(6),a=u(l);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){f(v,p);function v(){return c(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),v}(a.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="strike",d.tagName="S",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=l(o);function l(f){return f&&f.__esModule?f:{default:f}}function a(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}function u(f,h){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:f}function c(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);f.prototype=Object.create(h&&h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(f,h):f.__proto__=h)}var d=function(f){c(h,f);function h(){return a(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);d.blotName="underline",d.tagName="U",r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(m,y){for(var w=0;w<y.length;w++){var g=y[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,w){return y&&b(m.prototype,y),w&&b(m,w),m}}(),s=function b(m,y,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:b(S,y,w)}else{if("value"in g)return g.value;var E=g.get;return E===void 0?void 0:E.call(w)}},l=i(0),a=c(l),u=i(27);function c(b){return b&&b.__esModule?b:{default:b}}function d(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function f(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function h(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var p=["alt","height","width"],v=function(b){h(m,b);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(w,g){p.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,w);return typeof w=="string"&&g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return p.reduce(function(g,S){return w.hasAttribute(S)&&(g[S]=w.getAttribute(S)),g},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),m}(a.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(m,y){for(var w=0;w<y.length;w++){var g=y[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,y,w){return y&&b(m.prototype,y),w&&b(m,w),m}}(),s=function b(m,y,w){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,y);if(g===void 0){var S=Object.getPrototypeOf(m);return S===null?void 0:b(S,y,w)}else{if("value"in g)return g.value;var E=g.get;return E===void 0?void 0:E.call(w)}},l=i(4),a=i(27),u=c(a);function c(b){return b&&b.__esModule?b:{default:b}}function d(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function f(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function h(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var p=["height","width"],v=function(b){h(m,b);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(w,g){p.indexOf(w)>-1?g?this.domNode.setAttribute(w,g):this.domNode.removeAttribute(w):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,w,g)}}],[{key:"create",value:function(w){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,w);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(w)),g}},{key:"formats",value:function(w){return p.reduce(function(g,S){return w.hasAttribute(S)&&(g[S]=w.getAttribute(S)),g},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),m}(l.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function w(g,S){for(var E=0;E<S.length;E++){var O=S[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(g,O.key,O)}}return function(g,S,E){return S&&w(g.prototype,S),E&&w(g,E),g}}(),s=function w(g,S,E){g===null&&(g=Function.prototype);var O=Object.getOwnPropertyDescriptor(g,S);if(O===void 0){var k=Object.getPrototypeOf(g);return k===null?void 0:w(k,S,E)}else{if("value"in O)return O.value;var _=O.get;return _===void 0?void 0:_.call(E)}},l=i(35),a=h(l),u=i(5),c=h(u),d=i(9),f=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function p(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function v(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function b(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var m=function(w){b(g,w);function g(){return p(this,g),v(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(E){var O=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return typeof E=="string"&&(window.katex.render(E,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",E)),O}},{key:"value",value:function(E){return E.getAttribute("data-value")}}]),g}(a.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var y=function(w){b(g,w),o(g,null,[{key:"register",value:function(){c.default.register(m,!0)}}]);function g(){p(this,g);var S=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return g}(f.default);r.FormulaBlot=m,r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function E(O,k){for(var _=0;_<k.length;_++){var T=k[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(O,T.key,T)}}return function(O,k,_){return k&&E(O.prototype,k),_&&E(O,_),O}}(),s=function E(O,k,_){O===null&&(O=Function.prototype);var T=Object.getOwnPropertyDescriptor(O,k);if(T===void 0){var x=Object.getPrototypeOf(O);return x===null?void 0:E(x,k,_)}else{if("value"in T)return T.value;var A=T.get;return A===void 0?void 0:A.call(_)}},l=i(0),a=v(l),u=i(5),c=v(u),d=i(9),f=v(d),h=i(13),p=v(h);function v(E){return E&&E.__esModule?E:{default:E}}function b(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function m(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function y(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var w=function(E){y(O,E);function O(){return b(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"replaceWith",value:function(_){this.domNode.textContent=this.domNode.textContent,this.attach(),s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,_)}},{key:"highlight",value:function(_){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=_(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),O}(p.default);w.className="ql-syntax";var g=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),S=function(E){y(O,E),o(O,null,[{key:"register",value:function(){c.default.register(g,!0),c.default.register(w,!0)}}]);function O(k,_){b(this,O);var T=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,_));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var x=null;return T.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(x),x=setTimeout(function(){T.highlight(),x=null},T.options.interval)}),T.highlight(),T}return o(O,[{key:"highlight",value:function(){var _=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(x){x.highlight(_.options.highlight)}),this.quill.update(c.default.sources.SILENT),T!=null&&this.quill.setSelection(T,c.default.sources.SILENT)}}}]),O}(f.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(E){var O=window.hljs.highlightAuto(E);return O.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=g,r.default=S},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function O(k,_,T){k===null&&(k=Function.prototype);var x=Object.getOwnPropertyDescriptor(k,_);if(x===void 0){var A=Object.getPrototypeOf(k);return A===null?void 0:O(A,_,T)}else{if("value"in x)return x.value;var N=x.get;return N===void 0?void 0:N.call(T)}},s=function(){function O(k,_){for(var T=0;T<_.length;T++){var x=_[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(k,x.key,x)}}return function(k,_,T){return _&&O(k.prototype,_),T&&O(k,T),k}}(),l=i(3),a=b(l),u=i(8),c=b(u),d=i(43),f=b(d),h=i(15),p=i(41),v=b(p);function b(O){return O&&O.__esModule?O:{default:O}}function m(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function y(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function w(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(O){w(k,O);function k(_,T){m(this,k),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=g);var x=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,_,T));return x.quill.container.classList.add("ql-bubble"),x}return s(k,[{key:"extendToolbar",value:function(T){this.tooltip=new E(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),k}(f.default);S.DEFAULTS=(0,a.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var E=function(O){w(k,O);function k(_,T){m(this,k);var x=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,_,T));return x.quill.on(c.default.events.EDITOR_CHANGE,function(A,N,M,I){if(A===c.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&I===c.default.sources.USER){x.show(),x.root.style.left="0px",x.root.style.width="",x.root.style.width=x.root.offsetWidth+"px";var F=x.quill.getLines(N.index,N.length);if(F.length===1)x.position(x.quill.getBounds(N));else{var q=F[F.length-1],U=x.quill.getIndex(q),j=Math.min(q.length()-1,N.index+N.length-U),L=x.quill.getBounds(new h.Range(U,j));x.position(L)}}else document.activeElement!==x.textbox&&x.quill.hasFocus()&&x.hide()}),x}return s(k,[{key:"listen",value:function(){var T=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var x=T.quill.getSelection();x!=null&&T.position(T.quill.getBounds(x))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var x=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,T),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",x===0)return x;A.style.marginLeft=-1*x-A.offsetWidth/2+"px"}}]),k}(d.BaseTooltip);E.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=E,r.default=S},function(n,r,i){n.exports=i(63)}]).default})})(Cw);var wR=Cw.exports,SR=Ht&&Ht.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nu=Ht&&Ht.__assign||function(){return nu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nu.apply(this,arguments)},ER=Ht&&Ht.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,l=o.length;s<l;s++,i++)r[i]=o[s];return r},Zu=Ht&&Ht.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},In=Zu(G),OR=Zu(ju),ps=Zu(bR),Ey=Zu(wR),kR=function(t){SR(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,l,a){var u,c,d,f;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,s,a,r.unprivilegedEditor):o==="selection-change"&&((f=(d=r).onEditorChangeSelection)===null||f===void 0||f.call(d,s,a,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(In.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(In.default.Children.count(n.children)){var i=In.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),l=(o=n.value,o??"");this.isEqualValue(l,s)||this.setEditorContents(this.editor,l)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),ER(this.cleanProps,this.dirtyProps).some(function(a){return!ps.default(n[a],i.props[a])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!ps.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var l=this.regenerationSnapshot,o=l.delta,a=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),Oy(function(){return i.setEditorSelection(u,a)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new Ey.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?ps.default(n.ops,r.ops):ps.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),Oy(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=OR.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,l={key:s,ref:function(a){n.editingArea=a}};return In.default.Children.count(i)?In.default.cloneElement(In.default.Children.only(i),l):o?In.default.createElement("pre",nu({},l)):In.default.createElement("div",nu({},l))},e.prototype.render=function(){var n;return In.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,l;if(this.editor){var a=this.isDelta(this.value)?o.getContents():o.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=a,(l=(s=this.props).onChange)===null||l===void 0||l.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,l,a,u,c;if(this.editor){var d=this.getEditorSelection(),f=!d&&n,h=d&&!n;ps.default(n,d)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),f?(a=(l=this.props).onFocus)===null||a===void 0||a.call(l,n,r,i):h&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,d,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=Ey.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(In.default.Component);function Oy(t){Promise.resolve().then(t)}var xR=kR;const TR=Su(xR),AR=({textValue:t,setTextValue:e,...n})=>{const[r,i]=G.useState(!1),o=s=>{s.key=="@"?i(!0):s.key==" "&&i(!1)};return ae.jsxs(ae.Fragment,{children:[ae.jsx(TR,{onKeyUp:o,theme:"snow",value:t,onChange:s=>e(s),...n}),r&&ae.jsx("div",{className:"h-20 w-40 bg-pink-200 mt-20",children:"Is Open"})]})},_R=()=>{const t=Hb(),[e,n]=G.useState({title:"",content:""}),r=()=>{pw(e).then(i=>{t("/")})};return ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"w-2/3 mx-auto mt-[100px]",children:ae.jsxs(kp,{children:[ae.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Create Post"}),ae.jsxs("div",{className:"mt-6",children:[ae.jsx("div",{className:"relative w-2/3",children:ae.jsx("input",{type:"text",value:e.title,className:"w-full py-2 px-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",placeholder:"Enter title",onChange:i=>n({...e,title:i.target.value})})}),ae.jsx("div",{className:"relative w-2/3 mt-4",children:ae.jsx(AR,{className:"h-[200px]",textValue:e.content,setTextValue:i=>n({...e,content:i})})}),ae.jsx("div",{className:"relative mt-20",children:ae.jsx("button",{onClick:r,className:"bg-blue-500 text-white px-3 py-2 rounded-xl border border-blue-400",children:"Submit"})})]})]})})})};var CR=function(e){return NR(e)&&!MR(e)};function NR(t){return!!t&&typeof t=="object"}function MR(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||LR(t)}var PR=typeof Symbol=="function"&&Symbol.for,RR=PR?Symbol.for("react.element"):60103;function LR(t){return t.$$typeof===RR}function IR(t){return Array.isArray(t)?[]:{}}function ru(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ll(IR(t),t,e):t}function DR(t,e,n){return t.concat(e).map(function(r){return ru(r,n)})}function $R(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=ru(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=ru(e[i],n):r[i]=ll(t[i],e[i],n)}),r}function ll(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||DR,n.isMergeableObject=n.isMergeableObject||CR;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):$R(t,e,n):ru(e,n)}ll.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return ll(r,i,n)},{})};var Yd=ll,jR=typeof global=="object"&&global&&global.Object===Object&&global;const Nw=jR;var BR=typeof self=="object"&&self&&self.Object===Object&&self,FR=Nw||BR||Function("return this")();const Qn=FR;var zR=Qn.Symbol;const Hr=zR;var Mw=Object.prototype,qR=Mw.hasOwnProperty,UR=Mw.toString,ms=Hr?Hr.toStringTag:void 0;function VR(t){var e=qR.call(t,ms),n=t[ms];try{t[ms]=void 0;var r=!0}catch{}var i=UR.call(t);return r&&(e?t[ms]=n:delete t[ms]),i}var HR=Object.prototype,WR=HR.toString;function KR(t){return WR.call(t)}var GR="[object Null]",JR="[object Undefined]",ky=Hr?Hr.toStringTag:void 0;function Bi(t){return t==null?t===void 0?JR:GR:ky&&ky in Object(t)?VR(t):KR(t)}function Pw(t,e){return function(n){return t(e(n))}}var YR=Pw(Object.getPrototypeOf,Object);const Lp=YR;function Fi(t){return t!=null&&typeof t=="object"}var QR="[object Object]",XR=Function.prototype,ZR=Object.prototype,Rw=XR.toString,eL=ZR.hasOwnProperty,tL=Rw.call(Object);function xy(t){if(!Fi(t)||Bi(t)!=QR)return!1;var e=Lp(t);if(e===null)return!0;var n=eL.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Rw.call(n)==tL}var Ty=Array.isArray,Ay=Object.keys,nL=Object.prototype.hasOwnProperty,rL=typeof Element<"u";function Qd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Ty(t),r=Ty(e),i,o,s;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!Qd(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var l=t instanceof Date,a=e instanceof Date;if(l!=a)return!1;if(l&&a)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var d=Ay(t);if(o=d.length,o!==Ay(e).length)return!1;for(i=o;i--!==0;)if(!nL.call(e,d[i]))return!1;if(rL&&t instanceof Element&&e instanceof Element)return t===e;for(i=o;i--!==0;)if(s=d[i],!(s==="_owner"&&t.$$typeof)&&!Qd(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}var iL=function(e,n){try{return Qd(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const si=Su(iL);var oL=!0;function sL(t,e){if(!oL){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function lL(){this.__data__=[],this.size=0}function Lw(t,e){return t===e||t!==t&&e!==e}function ec(t,e){for(var n=t.length;n--;)if(Lw(t[n][0],e))return n;return-1}var aL=Array.prototype,uL=aL.splice;function cL(t){var e=this.__data__,n=ec(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():uL.call(e,n,1),--this.size,!0}function fL(t){var e=this.__data__,n=ec(e,t);return n<0?void 0:e[n][1]}function dL(t){return ec(this.__data__,t)>-1}function hL(t,e){var n=this.__data__,r=ec(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function mr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mr.prototype.clear=lL;mr.prototype.delete=cL;mr.prototype.get=fL;mr.prototype.has=dL;mr.prototype.set=hL;function pL(){this.__data__=new mr,this.size=0}function mL(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function gL(t){return this.__data__.get(t)}function yL(t){return this.__data__.has(t)}function xl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var vL="[object AsyncFunction]",bL="[object Function]",wL="[object GeneratorFunction]",SL="[object Proxy]";function Iw(t){if(!xl(t))return!1;var e=Bi(t);return e==bL||e==wL||e==vL||e==SL}var EL=Qn["__core-js_shared__"];const mf=EL;var _y=function(){var t=/[^.]+$/.exec(mf&&mf.keys&&mf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function OL(t){return!!_y&&_y in t}var kL=Function.prototype,xL=kL.toString;function zi(t){if(t!=null){try{return xL.call(t)}catch{}try{return t+""}catch{}}return""}var TL=/[\\^$.*+?()[\]{}|]/g,AL=/^\[object .+?Constructor\]$/,_L=Function.prototype,CL=Object.prototype,NL=_L.toString,ML=CL.hasOwnProperty,PL=RegExp("^"+NL.call(ML).replace(TL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function RL(t){if(!xl(t)||OL(t))return!1;var e=Iw(t)?PL:AL;return e.test(zi(t))}function LL(t,e){return t==null?void 0:t[e]}function qi(t,e){var n=LL(t,e);return RL(n)?n:void 0}var IL=qi(Qn,"Map");const al=IL;var DL=qi(Object,"create");const ul=DL;function $L(){this.__data__=ul?ul(null):{},this.size=0}function jL(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var BL="__lodash_hash_undefined__",FL=Object.prototype,zL=FL.hasOwnProperty;function qL(t){var e=this.__data__;if(ul){var n=e[t];return n===BL?void 0:n}return zL.call(e,t)?e[t]:void 0}var UL=Object.prototype,VL=UL.hasOwnProperty;function HL(t){var e=this.__data__;return ul?e[t]!==void 0:VL.call(e,t)}var WL="__lodash_hash_undefined__";function KL(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ul&&e===void 0?WL:e,this}function Pi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pi.prototype.clear=$L;Pi.prototype.delete=jL;Pi.prototype.get=qL;Pi.prototype.has=HL;Pi.prototype.set=KL;function GL(){this.size=0,this.__data__={hash:new Pi,map:new(al||mr),string:new Pi}}function JL(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function tc(t,e){var n=t.__data__;return JL(e)?n[typeof e=="string"?"string":"hash"]:n.map}function YL(t){var e=tc(this,t).delete(t);return this.size-=e?1:0,e}function QL(t){return tc(this,t).get(t)}function XL(t){return tc(this,t).has(t)}function ZL(t,e){var n=tc(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Yr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yr.prototype.clear=GL;Yr.prototype.delete=YL;Yr.prototype.get=QL;Yr.prototype.has=XL;Yr.prototype.set=ZL;var eI=200;function tI(t,e){var n=this.__data__;if(n instanceof mr){var r=n.__data__;if(!al||r.length<eI-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yr(r)}return n.set(t,e),this.size=n.size,this}function ts(t){var e=this.__data__=new mr(t);this.size=e.size}ts.prototype.clear=pL;ts.prototype.delete=mL;ts.prototype.get=gL;ts.prototype.has=yL;ts.prototype.set=tI;function nI(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var rI=function(){try{var t=qi(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Cy=rI;function Dw(t,e,n){e=="__proto__"&&Cy?Cy(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var iI=Object.prototype,oI=iI.hasOwnProperty;function $w(t,e,n){var r=t[e];(!(oI.call(t,e)&&Lw(r,n))||n===void 0&&!(e in t))&&Dw(t,e,n)}function nc(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],a=r?r(n[l],t[l],l,n,t):void 0;a===void 0&&(a=t[l]),i?Dw(n,l,a):$w(n,l,a)}return n}function sI(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var lI="[object Arguments]";function Ny(t){return Fi(t)&&Bi(t)==lI}var jw=Object.prototype,aI=jw.hasOwnProperty,uI=jw.propertyIsEnumerable,cI=Ny(function(){return arguments}())?Ny:function(t){return Fi(t)&&aI.call(t,"callee")&&!uI.call(t,"callee")};const fI=cI;var dI=Array.isArray;const Tl=dI;function hI(){return!1}var Bw=typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,My=Bw&&typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,pI=My&&My.exports===Bw,Py=pI?Qn.Buffer:void 0,mI=Py?Py.isBuffer:void 0,gI=mI||hI;const Fw=gI;var yI=9007199254740991,vI=/^(?:0|[1-9]\d*)$/;function bI(t,e){var n=typeof t;return e=e??yI,!!e&&(n=="number"||n!="symbol"&&vI.test(t))&&t>-1&&t%1==0&&t<e}var wI=9007199254740991;function zw(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wI}var SI="[object Arguments]",EI="[object Array]",OI="[object Boolean]",kI="[object Date]",xI="[object Error]",TI="[object Function]",AI="[object Map]",_I="[object Number]",CI="[object Object]",NI="[object RegExp]",MI="[object Set]",PI="[object String]",RI="[object WeakMap]",LI="[object ArrayBuffer]",II="[object DataView]",DI="[object Float32Array]",$I="[object Float64Array]",jI="[object Int8Array]",BI="[object Int16Array]",FI="[object Int32Array]",zI="[object Uint8Array]",qI="[object Uint8ClampedArray]",UI="[object Uint16Array]",VI="[object Uint32Array]",je={};je[DI]=je[$I]=je[jI]=je[BI]=je[FI]=je[zI]=je[qI]=je[UI]=je[VI]=!0;je[SI]=je[EI]=je[LI]=je[OI]=je[II]=je[kI]=je[xI]=je[TI]=je[AI]=je[_I]=je[CI]=je[NI]=je[MI]=je[PI]=je[RI]=!1;function HI(t){return Fi(t)&&zw(t.length)&&!!je[Bi(t)]}function Ip(t){return function(e){return t(e)}}var qw=typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,Ls=qw&&typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,WI=Ls&&Ls.exports===qw,gf=WI&&Nw.process,KI=function(){try{var t=Ls&&Ls.require&&Ls.require("util").types;return t||gf&&gf.binding&&gf.binding("util")}catch{}}();const No=KI;var Ry=No&&No.isTypedArray,GI=Ry?Ip(Ry):HI;const JI=GI;var YI=Object.prototype,QI=YI.hasOwnProperty;function Uw(t,e){var n=Tl(t),r=!n&&fI(t),i=!n&&!r&&Fw(t),o=!n&&!r&&!i&&JI(t),s=n||r||i||o,l=s?sI(t.length,String):[],a=l.length;for(var u in t)(e||QI.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bI(u,a)))&&l.push(u);return l}var XI=Object.prototype;function Dp(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||XI;return t===n}var ZI=Pw(Object.keys,Object);const eD=ZI;var tD=Object.prototype,nD=tD.hasOwnProperty;function rD(t){if(!Dp(t))return eD(t);var e=[];for(var n in Object(t))nD.call(t,n)&&n!="constructor"&&e.push(n);return e}function Vw(t){return t!=null&&zw(t.length)&&!Iw(t)}function $p(t){return Vw(t)?Uw(t):rD(t)}function iD(t,e){return t&&nc(e,$p(e),t)}function oD(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var sD=Object.prototype,lD=sD.hasOwnProperty;function aD(t){if(!xl(t))return oD(t);var e=Dp(t),n=[];for(var r in t)r=="constructor"&&(e||!lD.call(t,r))||n.push(r);return n}function jp(t){return Vw(t)?Uw(t,!0):aD(t)}function uD(t,e){return t&&nc(e,jp(e),t)}var Hw=typeof Gt=="object"&&Gt&&!Gt.nodeType&&Gt,Ly=Hw&&typeof Jt=="object"&&Jt&&!Jt.nodeType&&Jt,cD=Ly&&Ly.exports===Hw,Iy=cD?Qn.Buffer:void 0,Dy=Iy?Iy.allocUnsafe:void 0;function fD(t,e){if(e)return t.slice();var n=t.length,r=Dy?Dy(n):new t.constructor(n);return t.copy(r),r}function Ww(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function dD(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Kw(){return[]}var hD=Object.prototype,pD=hD.propertyIsEnumerable,$y=Object.getOwnPropertySymbols,mD=$y?function(t){return t==null?[]:(t=Object(t),dD($y(t),function(e){return pD.call(t,e)}))}:Kw;const Bp=mD;function gD(t,e){return nc(t,Bp(t),e)}function Gw(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var yD=Object.getOwnPropertySymbols,vD=yD?function(t){for(var e=[];t;)Gw(e,Bp(t)),t=Lp(t);return e}:Kw;const Jw=vD;function bD(t,e){return nc(t,Jw(t),e)}function Yw(t,e,n){var r=e(t);return Tl(t)?r:Gw(r,n(t))}function wD(t){return Yw(t,$p,Bp)}function SD(t){return Yw(t,jp,Jw)}var ED=qi(Qn,"DataView");const Xd=ED;var OD=qi(Qn,"Promise");const Zd=OD;var kD=qi(Qn,"Set");const eh=kD;var xD=qi(Qn,"WeakMap");const th=xD;var jy="[object Map]",TD="[object Object]",By="[object Promise]",Fy="[object Set]",zy="[object WeakMap]",qy="[object DataView]",AD=zi(Xd),_D=zi(al),CD=zi(Zd),ND=zi(eh),MD=zi(th),li=Bi;(Xd&&li(new Xd(new ArrayBuffer(1)))!=qy||al&&li(new al)!=jy||Zd&&li(Zd.resolve())!=By||eh&&li(new eh)!=Fy||th&&li(new th)!=zy)&&(li=function(t){var e=Bi(t),n=e==TD?t.constructor:void 0,r=n?zi(n):"";if(r)switch(r){case AD:return qy;case _D:return jy;case CD:return By;case ND:return Fy;case MD:return zy}return e});const Fp=li;var PD=Object.prototype,RD=PD.hasOwnProperty;function LD(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&RD.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ID=Qn.Uint8Array;const Uy=ID;function zp(t){var e=new t.constructor(t.byteLength);return new Uy(e).set(new Uy(t)),e}function DD(t,e){var n=e?zp(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var $D=/\w*$/;function jD(t){var e=new t.constructor(t.source,$D.exec(t));return e.lastIndex=t.lastIndex,e}var Vy=Hr?Hr.prototype:void 0,Hy=Vy?Vy.valueOf:void 0;function BD(t){return Hy?Object(Hy.call(t)):{}}function FD(t,e){var n=e?zp(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var zD="[object Boolean]",qD="[object Date]",UD="[object Map]",VD="[object Number]",HD="[object RegExp]",WD="[object Set]",KD="[object String]",GD="[object Symbol]",JD="[object ArrayBuffer]",YD="[object DataView]",QD="[object Float32Array]",XD="[object Float64Array]",ZD="[object Int8Array]",e3="[object Int16Array]",t3="[object Int32Array]",n3="[object Uint8Array]",r3="[object Uint8ClampedArray]",i3="[object Uint16Array]",o3="[object Uint32Array]";function s3(t,e,n){var r=t.constructor;switch(e){case JD:return zp(t);case zD:case qD:return new r(+t);case YD:return DD(t,n);case QD:case XD:case ZD:case e3:case t3:case n3:case r3:case i3:case o3:return FD(t,n);case UD:return new r;case VD:case KD:return new r(t);case HD:return jD(t);case WD:return new r;case GD:return BD(t)}}var Wy=Object.create,l3=function(){function t(){}return function(e){if(!xl(e))return{};if(Wy)return Wy(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const a3=l3;function u3(t){return typeof t.constructor=="function"&&!Dp(t)?a3(Lp(t)):{}}var c3="[object Map]";function f3(t){return Fi(t)&&Fp(t)==c3}var Ky=No&&No.isMap,d3=Ky?Ip(Ky):f3;const h3=d3;var p3="[object Set]";function m3(t){return Fi(t)&&Fp(t)==p3}var Gy=No&&No.isSet,g3=Gy?Ip(Gy):m3;const y3=g3;var v3=1,b3=2,w3=4,Qw="[object Arguments]",S3="[object Array]",E3="[object Boolean]",O3="[object Date]",k3="[object Error]",Xw="[object Function]",x3="[object GeneratorFunction]",T3="[object Map]",A3="[object Number]",Zw="[object Object]",_3="[object RegExp]",C3="[object Set]",N3="[object String]",M3="[object Symbol]",P3="[object WeakMap]",R3="[object ArrayBuffer]",L3="[object DataView]",I3="[object Float32Array]",D3="[object Float64Array]",$3="[object Int8Array]",j3="[object Int16Array]",B3="[object Int32Array]",F3="[object Uint8Array]",z3="[object Uint8ClampedArray]",q3="[object Uint16Array]",U3="[object Uint32Array]",Le={};Le[Qw]=Le[S3]=Le[R3]=Le[L3]=Le[E3]=Le[O3]=Le[I3]=Le[D3]=Le[$3]=Le[j3]=Le[B3]=Le[T3]=Le[A3]=Le[Zw]=Le[_3]=Le[C3]=Le[N3]=Le[M3]=Le[F3]=Le[z3]=Le[q3]=Le[U3]=!0;Le[k3]=Le[Xw]=Le[P3]=!1;function Sa(t,e,n,r,i,o){var s,l=e&v3,a=e&b3,u=e&w3;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!xl(t))return t;var c=Tl(t);if(c){if(s=LD(t),!l)return Ww(t,s)}else{var d=Fp(t),f=d==Xw||d==x3;if(Fw(t))return fD(t,l);if(d==Zw||d==Qw||f&&!i){if(s=a||f?{}:u3(t),!l)return a?bD(t,uD(s,t)):gD(t,iD(s,t))}else{if(!Le[d])return i?t:{};s=s3(t,d,l)}}o||(o=new ts);var h=o.get(t);if(h)return h;o.set(t,s),y3(t)?t.forEach(function(b){s.add(Sa(b,e,n,b,t,o))}):h3(t)&&t.forEach(function(b,m){s.set(m,Sa(b,e,n,m,t,o))});var p=u?a?SD:wD:a?jp:$p,v=c?void 0:p(t);return nI(v||t,function(b,m){v&&(m=b,b=t[m]),$w(s,m,Sa(b,e,n,m,t,o))}),s}var V3=4;function Jy(t){return Sa(t,V3)}function eS(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var H3="[object Symbol]";function qp(t){return typeof t=="symbol"||Fi(t)&&Bi(t)==H3}var W3="Expected a function";function Up(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(W3);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Up.Cache||Yr),n}Up.Cache=Yr;var K3=500;function G3(t){var e=Up(t,function(r){return n.size===K3&&n.clear(),r}),n=e.cache;return e}var J3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y3=/\\(\\)?/g,Q3=G3(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(J3,function(n,r,i,o){e.push(i?o.replace(Y3,"$1"):r||n)}),e});const X3=Q3;var Z3=1/0;function e$(t){if(typeof t=="string"||qp(t))return t;var e=t+"";return e=="0"&&1/t==-Z3?"-0":e}var t$=1/0,Yy=Hr?Hr.prototype:void 0,Qy=Yy?Yy.toString:void 0;function tS(t){if(typeof t=="string")return t;if(Tl(t))return eS(t,tS)+"";if(qp(t))return Qy?Qy.call(t):"";var e=t+"";return e=="0"&&1/t==-t$?"-0":e}function n$(t){return t==null?"":tS(t)}function nS(t){return Tl(t)?eS(t,e$):qp(t)?[t]:Ww(X3(n$(t)))}var rS={exports:{}},Ne={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=typeof Symbol=="function"&&Symbol.for,Vp=ut?Symbol.for("react.element"):60103,Hp=ut?Symbol.for("react.portal"):60106,rc=ut?Symbol.for("react.fragment"):60107,ic=ut?Symbol.for("react.strict_mode"):60108,oc=ut?Symbol.for("react.profiler"):60114,sc=ut?Symbol.for("react.provider"):60109,lc=ut?Symbol.for("react.context"):60110,Wp=ut?Symbol.for("react.async_mode"):60111,ac=ut?Symbol.for("react.concurrent_mode"):60111,uc=ut?Symbol.for("react.forward_ref"):60112,cc=ut?Symbol.for("react.suspense"):60113,r$=ut?Symbol.for("react.suspense_list"):60120,fc=ut?Symbol.for("react.memo"):60115,dc=ut?Symbol.for("react.lazy"):60116,i$=ut?Symbol.for("react.block"):60121,o$=ut?Symbol.for("react.fundamental"):60117,s$=ut?Symbol.for("react.responder"):60118,l$=ut?Symbol.for("react.scope"):60119;function nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Vp:switch(t=t.type,t){case Wp:case ac:case rc:case oc:case ic:case cc:return t;default:switch(t=t&&t.$$typeof,t){case lc:case uc:case dc:case fc:case sc:return t;default:return e}}case Hp:return e}}}function iS(t){return nn(t)===ac}Ne.AsyncMode=Wp;Ne.ConcurrentMode=ac;Ne.ContextConsumer=lc;Ne.ContextProvider=sc;Ne.Element=Vp;Ne.ForwardRef=uc;Ne.Fragment=rc;Ne.Lazy=dc;Ne.Memo=fc;Ne.Portal=Hp;Ne.Profiler=oc;Ne.StrictMode=ic;Ne.Suspense=cc;Ne.isAsyncMode=function(t){return iS(t)||nn(t)===Wp};Ne.isConcurrentMode=iS;Ne.isContextConsumer=function(t){return nn(t)===lc};Ne.isContextProvider=function(t){return nn(t)===sc};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vp};Ne.isForwardRef=function(t){return nn(t)===uc};Ne.isFragment=function(t){return nn(t)===rc};Ne.isLazy=function(t){return nn(t)===dc};Ne.isMemo=function(t){return nn(t)===fc};Ne.isPortal=function(t){return nn(t)===Hp};Ne.isProfiler=function(t){return nn(t)===oc};Ne.isStrictMode=function(t){return nn(t)===ic};Ne.isSuspense=function(t){return nn(t)===cc};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rc||t===ac||t===oc||t===ic||t===cc||t===r$||typeof t=="object"&&t!==null&&(t.$$typeof===dc||t.$$typeof===fc||t.$$typeof===sc||t.$$typeof===lc||t.$$typeof===uc||t.$$typeof===o$||t.$$typeof===s$||t.$$typeof===l$||t.$$typeof===i$)};Ne.typeOf=nn;rS.exports=Ne;var a$=rS.exports,oS=a$,u$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sS={};sS[oS.ForwardRef]=u$;sS[oS.Memo]=c$;function nt(){return nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(this,arguments)}function lS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hc=G.createContext(void 0);hc.displayName="FormikContext";var f$=hc.Provider;hc.Consumer;function d$(){var t=G.useContext(hc);return t||sL(!1),t}var ln=function(e){return typeof e=="function"},pc=function(e){return e!==null&&typeof e=="object"},h$=function(e){return String(Math.floor(Number(e)))===e},yf=function(e){return Object.prototype.toString.call(e)==="[object String]"},p$=function(e){return G.Children.count(e)===0},vf=function(e){return pc(e)&&ln(e.then)};function Ut(t,e,n,r){r===void 0&&(r=0);for(var i=nS(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function wi(t,e,n){for(var r=Jy(t),i=r,o=0,s=nS(e);o<s.length-1;o++){var l=s[o],a=Ut(t,s.slice(0,o+1));if(a&&(pc(a)||Array.isArray(a)))i=i[l]=Jy(a);else{var u=s[o+1];i=i[l]=h$(u)&&Number(u)>=0?[]:{}}}return(o===0?t:i)[s[o]]===n?t:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function aS(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(t);i<o.length;i++){var s=o[i],l=t[s];pc(l)?n.get(l)||(n.set(l,!0),r[s]=Array.isArray(l)?[]:{},aS(l,e,n,r[s])):r[s]=e}return r}function m$(t,e){switch(e.type){case"SET_VALUES":return nt({},t,{values:e.payload});case"SET_TOUCHED":return nt({},t,{touched:e.payload});case"SET_ERRORS":return si(t.errors,e.payload)?t:nt({},t,{errors:e.payload});case"SET_STATUS":return nt({},t,{status:e.payload});case"SET_ISSUBMITTING":return nt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return nt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return nt({},t,{values:wi(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return nt({},t,{touched:wi(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return nt({},t,{errors:wi(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return nt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return nt({},t,{touched:aS(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return nt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return nt({},t,{isSubmitting:!1});default:return t}}var ni={},Ql={};function g$(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,o=t.validateOnMount,s=o===void 0?!1:o,l=t.isInitialValid,a=t.enableReinitialize,u=a===void 0?!1:a,c=t.onSubmit,d=lS(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=nt({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:c},d),h=G.useRef(f.initialValues),p=G.useRef(f.initialErrors||ni),v=G.useRef(f.initialTouched||Ql),b=G.useRef(f.initialStatus),m=G.useRef(!1),y=G.useRef({});G.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var w=G.useState(0),g=w[1],S=G.useRef({values:f.initialValues,errors:f.initialErrors||ni,touched:f.initialTouched||Ql,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=S.current,O=G.useCallback(function($){var Z=S.current;S.current=m$(Z,$),Z!==S.current&&g(function(ee){return ee+1})},[]),k=G.useCallback(function($,Z){return new Promise(function(ee,ne){var de=f.validate($,Z);de==null?ee(ni):vf(de)?de.then(function(ve){ee(ve||ni)},function(ve){ne(ve)}):ee(de)})},[f.validate]),_=G.useCallback(function($,Z){var ee=f.validationSchema,ne=ln(ee)?ee(Z):ee,de=Z&&ne.validateAt?ne.validateAt(Z,$):b$($,ne);return new Promise(function(ve,ge){de.then(function(){ve(ni)},function(qt){qt.name==="ValidationError"?ve(v$(qt)):ge(qt)})})},[f.validationSchema]),T=G.useCallback(function($,Z){return new Promise(function(ee){return ee(y.current[$].validate(Z))})},[]),x=G.useCallback(function($){var Z=Object.keys(y.current).filter(function(ne){return ln(y.current[ne].validate)}),ee=Z.length>0?Z.map(function(ne){return T(ne,Ut($,ne))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ee).then(function(ne){return ne.reduce(function(de,ve,ge){return ve==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ve&&(de=wi(de,Z[ge],ve)),de},{})})},[T]),A=G.useCallback(function($){return Promise.all([x($),f.validationSchema?_($):{},f.validate?k($):{}]).then(function(Z){var ee=Z[0],ne=Z[1],de=Z[2],ve=Yd.all([ee,ne,de],{arrayMerge:w$});return ve})},[f.validate,f.validationSchema,x,k,_]),N=sn(function($){return $===void 0&&($=E.values),O({type:"SET_ISVALIDATING",payload:!0}),A($).then(function(Z){return m.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:Z})),Z})});G.useEffect(function(){s&&m.current===!0&&si(h.current,f.initialValues)&&N(h.current)},[s,N]);var M=G.useCallback(function($){var Z=$&&$.values?$.values:h.current,ee=$&&$.errors?$.errors:p.current?p.current:f.initialErrors||{},ne=$&&$.touched?$.touched:v.current?v.current:f.initialTouched||{},de=$&&$.status?$.status:b.current?b.current:f.initialStatus;h.current=Z,p.current=ee,v.current=ne,b.current=de;var ve=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!$&&!!$.isSubmitting,errors:ee,touched:ne,status:de,values:Z,isValidating:!!$&&!!$.isValidating,submitCount:$&&$.submitCount&&typeof $.submitCount=="number"?$.submitCount:0}})};if(f.onReset){var ge=f.onReset(E.values,pe);vf(ge)?ge.then(ve):ve()}else ve()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);G.useEffect(function(){m.current===!0&&!si(h.current,f.initialValues)&&u&&(h.current=f.initialValues,M(),s&&N(h.current))},[u,f.initialValues,M,s,N]),G.useEffect(function(){u&&m.current===!0&&!si(p.current,f.initialErrors)&&(p.current=f.initialErrors||ni,O({type:"SET_ERRORS",payload:f.initialErrors||ni}))},[u,f.initialErrors]),G.useEffect(function(){u&&m.current===!0&&!si(v.current,f.initialTouched)&&(v.current=f.initialTouched||Ql,O({type:"SET_TOUCHED",payload:f.initialTouched||Ql}))},[u,f.initialTouched]),G.useEffect(function(){u&&m.current===!0&&!si(b.current,f.initialStatus)&&(b.current=f.initialStatus,O({type:"SET_STATUS",payload:f.initialStatus}))},[u,f.initialStatus,f.initialTouched]);var I=sn(function($){if(y.current[$]&&ln(y.current[$].validate)){var Z=Ut(E.values,$),ee=y.current[$].validate(Z);return vf(ee)?(O({type:"SET_ISVALIDATING",payload:!0}),ee.then(function(ne){return ne}).then(function(ne){O({type:"SET_FIELD_ERROR",payload:{field:$,value:ne}}),O({type:"SET_ISVALIDATING",payload:!1})})):(O({type:"SET_FIELD_ERROR",payload:{field:$,value:ee}}),Promise.resolve(ee))}else if(f.validationSchema)return O({type:"SET_ISVALIDATING",payload:!0}),_(E.values,$).then(function(ne){return ne}).then(function(ne){O({type:"SET_FIELD_ERROR",payload:{field:$,value:Ut(ne,$)}}),O({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),F=G.useCallback(function($,Z){var ee=Z.validate;y.current[$]={validate:ee}},[]),q=G.useCallback(function($){delete y.current[$]},[]),U=sn(function($,Z){O({type:"SET_TOUCHED",payload:$});var ee=Z===void 0?i:Z;return ee?N(E.values):Promise.resolve()}),j=G.useCallback(function($){O({type:"SET_ERRORS",payload:$})},[]),L=sn(function($,Z){var ee=ln($)?$(E.values):$;O({type:"SET_VALUES",payload:ee});var ne=Z===void 0?n:Z;return ne?N(ee):Promise.resolve()}),C=G.useCallback(function($,Z){O({type:"SET_FIELD_ERROR",payload:{field:$,value:Z}})},[]),R=sn(function($,Z,ee){O({type:"SET_FIELD_VALUE",payload:{field:$,value:Z}});var ne=ee===void 0?n:ee;return ne?N(wi(E.values,$,Z)):Promise.resolve()}),D=G.useCallback(function($,Z){var ee=Z,ne=$,de;if(!yf($)){$.persist&&$.persist();var ve=$.target?$.target:$.currentTarget,ge=ve.type,qt=ve.name,Re=ve.id,Mt=ve.value,Mc=ve.checked,Sm=ve.outerHTML,Y=ve.options,fe=ve.multiple;ee=Z||qt||Re,ne=/number|range/.test(ge)?(de=parseFloat(Mt),isNaN(de)?"":de):/checkbox/.test(ge)?E$(Ut(E.values,ee),Mc,Mt):Y&&fe?S$(Y):Mt}ee&&R(ee,ne)},[R,E.values]),V=sn(function($){if(yf($))return function(Z){return D(Z,$)};D($)}),z=sn(function($,Z,ee){Z===void 0&&(Z=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:$,value:Z}});var ne=ee===void 0?i:ee;return ne?N(E.values):Promise.resolve()}),P=G.useCallback(function($,Z){$.persist&&$.persist();var ee=$.target,ne=ee.name,de=ee.id,ve=ee.outerHTML,ge=Z||ne||de;z(ge,!0)},[z]),B=sn(function($){if(yf($))return function(Z){return P(Z,$)};P($)}),H=G.useCallback(function($){ln($)?O({type:"SET_FORMIK_STATE",payload:$}):O({type:"SET_FORMIK_STATE",payload:function(){return $}})},[]),W=G.useCallback(function($){O({type:"SET_STATUS",payload:$})},[]),Q=G.useCallback(function($){O({type:"SET_ISSUBMITTING",payload:$})},[]),se=sn(function(){return O({type:"SUBMIT_ATTEMPT"}),N().then(function($){var Z=$ instanceof Error,ee=!Z&&Object.keys($).length===0;if(ee){var ne;try{if(ne=be(),ne===void 0)return}catch(de){throw de}return Promise.resolve(ne).then(function(de){return m.current&&O({type:"SUBMIT_SUCCESS"}),de}).catch(function(de){if(m.current)throw O({type:"SUBMIT_FAILURE"}),de})}else if(m.current&&(O({type:"SUBMIT_FAILURE"}),Z))throw $})}),he=sn(function($){$&&$.preventDefault&&ln($.preventDefault)&&$.preventDefault(),$&&$.stopPropagation&&ln($.stopPropagation)&&$.stopPropagation(),se().catch(function(Z){console.warn("Warning: An unhandled error was caught from submitForm()",Z)})}),pe={resetForm:M,validateForm:N,validateField:I,setErrors:j,setFieldError:C,setFieldTouched:z,setFieldValue:R,setStatus:W,setSubmitting:Q,setTouched:U,setValues:L,setFormikState:H,submitForm:se},be=sn(function(){return c(E.values,pe)}),Oe=sn(function($){$&&$.preventDefault&&ln($.preventDefault)&&$.preventDefault(),$&&$.stopPropagation&&ln($.stopPropagation)&&$.stopPropagation(),M()}),Ve=G.useCallback(function($){return{value:Ut(E.values,$),error:Ut(E.errors,$),touched:!!Ut(E.touched,$),initialValue:Ut(h.current,$),initialTouched:!!Ut(v.current,$),initialError:Ut(p.current,$)}},[E.errors,E.touched,E.values]),Pe=G.useCallback(function($){return{setValue:function(ee,ne){return R($,ee,ne)},setTouched:function(ee,ne){return z($,ee,ne)},setError:function(ee){return C($,ee)}}},[R,z,C]),K=G.useCallback(function($){var Z=pc($),ee=Z?$.name:$,ne=Ut(E.values,ee),de={name:ee,value:ne,onChange:V,onBlur:B};if(Z){var ve=$.type,ge=$.value,qt=$.as,Re=$.multiple;ve==="checkbox"?ge===void 0?de.checked=!!ne:(de.checked=!!(Array.isArray(ne)&&~ne.indexOf(ge)),de.value=ge):ve==="radio"?(de.checked=ne===ge,de.value=ge):qt==="select"&&Re&&(de.value=de.value||[],de.multiple=!0)}return de},[B,V,E.values]),J=G.useMemo(function(){return!si(h.current,E.values)},[h.current,E.values]),ie=G.useMemo(function(){return typeof l<"u"?J?E.errors&&Object.keys(E.errors).length===0:l!==!1&&ln(l)?l(f):l:E.errors&&Object.keys(E.errors).length===0},[l,J,E.errors,f]),oe=nt({},E,{initialValues:h.current,initialErrors:p.current,initialTouched:v.current,initialStatus:b.current,handleBlur:B,handleChange:V,handleReset:Oe,handleSubmit:he,resetForm:M,setErrors:j,setFormikState:H,setFieldTouched:z,setFieldValue:R,setFieldError:C,setStatus:W,setSubmitting:Q,setTouched:U,setValues:L,submitForm:se,validateForm:N,validateField:I,isValid:ie,dirty:J,unregisterField:q,registerField:F,getFieldProps:K,getFieldMeta:Ve,getFieldHelpers:Pe,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return oe}function y$(t){var e=g$(t),n=t.component,r=t.children,i=t.render,o=t.innerRef;return G.useImperativeHandle(o,function(){return e}),G.createElement(f$,{value:e},n?G.createElement(n,e):i?i(e):r?ln(r)?r(e):p$(r)?null:G.Children.only(r):null)}function v$(t){var e={};if(t.inner){if(t.inner.length===0)return wi(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;Ut(e,s.path)||(e=wi(e,s.path,s.message))}}return e}function b$(t,e,n,r){n===void 0&&(n=!1);var i=nh(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function nh(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||xy(i)?nh(i):i!==""?i:void 0}):xy(t[r])?e[r]=nh(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function w$(t,e,n){var r=t.slice();return e.forEach(function(o,s){if(typeof r[s]>"u"){var l=n.clone!==!1,a=l&&n.isMergeableObject(o);r[s]=a?Yd(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=Yd(t[s],o,n):t.indexOf(o)===-1&&r.push(o)}),r}function S$(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function E$(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,o=-1;if(Array.isArray(t))r=t,o=t.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var O$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?G.useLayoutEffect:G.useEffect;function sn(t){var e=G.useRef(t);return O$(function(){e.current=t}),G.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var uS=G.forwardRef(function(t,e){var n=t.action,r=lS(t,["action"]),i=n??"#",o=d$(),s=o.handleReset,l=o.handleSubmit;return G.createElement("form",nt({onSubmit:l,ref:e,onReset:s,action:i},r))});uS.displayName="Form";function ft(t){this.content=t}ft.prototype={constructor:ft,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new ft(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ft(n)},addToStart:function(t,e){return new ft([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ft(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new ft(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ft.from(t),t.size?new ft(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ft.from(t),t.size?new ft(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ft.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};ft.from=function(t){if(t instanceof ft)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ft(e)};function cS(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=cS(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function fS(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=fS(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class te{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{l.isText?(o+=l.text.slice(Math.max(e,a)-a,n-a),s=!r):l.isLeaf?(i?o+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new te(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new te(r,i)}cutByIndex(e,n){return e==n?te.empty:e==0&&n==this.content.length?this:new te(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new te(i,o)}addToStart(e){return new te([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new te(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return cS(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return fS(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Xl(0,e);if(e==this.size)return Xl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Xl(r+1,s):Xl(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return te.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new te(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return te.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new te(n||e,r)}static from(e){if(!e)return te.empty;if(e instanceof te)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new te([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}te.empty=new te([],0);const bf={index:0,offset:0};function Xl(t,e){return bf.index=t,bf.offset=e,bf}function iu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!iu(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!iu(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Me=class rh{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&iu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return rh.none;if(e instanceof rh)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Me.none=[];class ou extends Error{}class le{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=hS(this.content,e+this.openStart,n);return r&&new le(r,this.openStart,this.openEnd)}removeBetween(e,n){return new le(dS(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return le.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new le(te.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new le(e,r,i)}}le.empty=new le(te.empty,0,0);function dS(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(dS(o.content,e-i-1,n-i-1)))}function hS(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=hS(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function k$(t,e,n){if(n.openStart>t.depth)throw new ou("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ou("Inconsistent open depths");return pS(t,e,n,0)}function pS(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=pS(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return Ei(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=x$(n,t);return Ei(o,gS(t,s,l,e,r))}else return Ei(o,su(t,e,r))}function mS(t,e){if(!e.type.compatibleContent(t.type))throw new ou("Cannot join "+e.type.name+" onto "+t.type.name)}function ih(t,e,n){let r=t.node(n);return mS(r,e.node(n)),r}function Si(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Is(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Si(t.nodeAfter,r),o++));for(let l=o;l<s;l++)Si(i.child(l),r);e&&e.depth==n&&e.textOffset&&Si(e.nodeBefore,r)}function Ei(t,e){return t.type.checkContent(e),t.copy(e)}function gS(t,e,n,r,i){let o=t.depth>i&&ih(t,e,i+1),s=r.depth>i&&ih(n,r,i+1),l=[];return Is(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(mS(o,s),Si(Ei(o,gS(t,e,n,r,i+1)),l)):(o&&Si(Ei(o,su(t,e,i+1)),l),Is(e,n,i,l),s&&Si(Ei(s,su(n,r,i+1)),l)),Is(r,null,i,l),new te(l)}function su(t,e,n){let r=[];if(Is(null,t,n,r),t.depth>n){let i=ih(t,e,n+1);Si(Ei(i,su(t,e,n+1)),r)}return Is(e,null,n,r),new te(r)}function x$(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(te.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class cl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Me.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new lu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new cl(n,r,o)}static resolveCached(e,n){for(let i=0;i<wf.length;i++){let o=wf[i];if(o.pos==n&&o.doc==e)return o}let r=wf[Sf]=cl.resolve(e,n);return Sf=(Sf+1)%T$,r}}let wf=[],Sf=0,T$=12;class lu{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const A$=Object.create(null);let Oi=class oh{constructor(e,n,r,i=Me.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||te.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&iu(this.attrs,n||e.defaultAttrs||A$)&&Me.sameSet(this.marks,r||Me.none)}copy(e=null){return e==this.content?this:new oh(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new oh(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return le.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new le(u,i.depth-s,o.depth-s)}replace(e,n,r){return k$(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return cl.resolveCached(this,e)}resolveNoCache(e){return cl.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),yS(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=te.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Me.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Me.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=te.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};Oi.prototype.text=void 0;class au extends Oi{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):yS(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new au(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new au(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function yS(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ri{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new _$(e,n);if(r.next==null)return Ri.empty;let i=vS(r);r.next&&r.err("Unexpected trailing text");let o=I$(L$(i));return D$(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return te.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:d}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,l.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Ri.empty=new Ri(!0);class _${constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function vS(t){let e=[];do e.push(C$(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function C$(t){let e=[];do e.push(N$(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function N$(t){let e=R$(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=M$(t,e);else break;return e}function Xy(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function M$(t,e){let n=Xy(t),r=n;return t.eat(",")&&(t.next!="}"?r=Xy(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function P$(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function R$(t){if(t.eat("(")){let e=vS(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=P$(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function L$(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function bS(t,e){return e-t}function Zy(t,e){let n=[];return r(e),n.sort(bS);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function I$(t){let e=Object.create(null);return n(Zy(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);Zy(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Ri(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(bS);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function D$(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wS(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function SS(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function ES(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new $$(t[n]);return e}let ev=class OS{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=ES(r.attrs),this.defaultAttrs=wS(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ri.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:SS(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Oi(this,this.computeAttrs(e),te.from(n),Me.setFrom(r))}createChecked(e=null,n,r){return n=te.from(n),this.checkContent(n),new Oi(this,this.computeAttrs(e),n,Me.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=te.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(te.empty,!0);return o?new Oi(this,e,n.append(o),Me.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Me.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new OS(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class $${constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class mc{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=ES(i.attrs),this.excluded=null;let o=wS(this.attrs);this.instance=o?new Me(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Me(this,SS(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new mc(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class j${constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=ft.from(e.nodes),n.marks=ft.from(e.marks||{}),this.nodes=ev.compile(this.spec.nodes,this),this.marks=mc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=Ri.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?tv(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:tv(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ev){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new au(r,r.defaultAttrs,e,Me.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Oi.fromJSON(this,e)}markFromJSON(e){return Me.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function tv(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}let Kp=class sh{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new rv(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new rv(this,n,!0);return r.addAll(e,n.from,n.to),le.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(z$(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=iv(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=iv(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new sh(e,sh.schemaRules(e)))}};const kS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},B$={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},xS={ol:!0,ul:!0},uu=1,cu=2,Ds=4;function nv(t,e,n){return e!=null?(e?uu:0)|(e==="full"?cu:0):t&&t.whitespace=="pre"?uu|cu:n&~Ds}class Zl{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=Me.none,this.stashMarks=[],this.match=s||(l&Ds?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(te.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&uu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=te.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(te.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):U$(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class rv{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=nv(null,n.preserveWhitespace,0)|(r?Ds:0);i?o=new Zl(i.type,i.attrs,Me.none,Me.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Zl(null,null,Me.none,Me.none,!0,null,s):o=new Zl(e.schema.topNodeType,null,Me.none,Me.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(q$(r));if(!i)return;let[o,s]=i,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a]);n();for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&cu||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&uu)r.options&cu?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;xS.hasOwnProperty(r)&&this.parser.normalizeLists&&F$(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:B$.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(kS.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Me.none,r=Me.none;for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{s.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=nv(e,i,o.options);o.options&Ds&&o.content.length==0&&(s|=Ds),this.nodes.push(new Zl(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=V$(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function F$(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&xS.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function z$(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function q$(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function iv(t){let e={};for(let n in t)e[n]=t[n];return e}function U$(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function V$(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class zn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Ef(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=zn.renderSpec(Ef(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&zn.renderSpec(Ef(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let d=c.indexOf(" ");d>0?l.setAttributeNS(c.slice(0,d),c.slice(d+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let d=n[c];if(d===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:h}=zn.renderSpec(e,d,r);if(l.appendChild(f),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=ov(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return ov(e.marks)}}function ov(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Ef(t){return t.document||window.document}const TS=65535,AS=Math.pow(2,16);function H$(t,e){return t+e*AS}function sv(t){return t&TS}function W$(t){return(t-(t&TS))/AS}const _S=1,CS=2,Ea=4,NS=8;class lh{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&NS)>0}get deletedBefore(){return(this.delInfo&(_S|Ea))>0}get deletedAfter(){return(this.delInfo&(CS|Ea))>0}get deletedAcross(){return(this.delInfo&Ea)>0}}class fn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&fn.empty)return fn.empty}recover(e){let n=0,r=sv(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+W$(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],d=a+u;if(e<=d){let f=u?e==a?-1:e==d?1:n:n,h=a+i+(f<0?0:c);if(r)return h;let p=e==(n<0?a:d)?null:H$(l/3,e-a),v=e==a?CS:e==d?_S:Ea;return(n<0?e!=a:e!=d)&&(v|=NS),new lh(h,v,p)}i+=c-u}return r?e+i:new lh(e+i,0,null)}touches(e,n){let r=0,i=sv(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new fn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?fn.empty:new fn(e<0?[0,-e,0]:[0,0,e])}}fn.empty=new fn([]);class vo{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new vo(this.maps,this.mirror,e,n)}copy(){return new vo(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new vo;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new lh(e,i,null)}}const Of=Object.create(null);class Ft{getMap(){return fn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Of[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Of)throw new RangeError("Duplicate use of step JSON ID "+e);return Of[e]=n,n.prototype.jsonID=e,n}}class et{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new et(e,null)}static fail(e){return new et(null,e)}static fromReplace(e,n,r,i){try{return et.ok(e.replace(n,r,i))}catch(o){if(o instanceof ou)return et.fail(o.message);throw o}}}function Gp(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Gp(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return te.fromArray(r)}class _r extends Ft{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new le(Gp(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return et.fromReplace(e,this.from,this.to,o)}invert(){return new qn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _r(n.pos,r.pos,this.mark)}merge(e){return e instanceof _r&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _r(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _r(n.from,n.to,e.markFromJSON(n.mark))}}Ft.jsonID("addMark",_r);class qn extends Ft{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new le(Gp(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return et.fromReplace(e,this.from,this.to,r)}invert(){return new _r(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new qn(n.pos,r.pos,this.mark)}merge(e){return e instanceof qn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qn(n.from,n.to,e.markFromJSON(n.mark))}}Ft.jsonID("removeMark",qn);class Cr extends Ft{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return et.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return et.fromReplace(e,this.pos,this.pos+1,new le(te.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Cr(this.pos,n.marks[i]);return new Cr(this.pos,this.mark)}}return new Mo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Cr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Cr(n.pos,e.markFromJSON(n.mark))}}Ft.jsonID("addNodeMark",Cr);class Mo extends Ft{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return et.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return et.fromReplace(e,this.pos,this.pos+1,new le(te.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Cr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Mo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mo(n.pos,e.markFromJSON(n.mark))}}Ft.jsonID("removeNodeMark",Mo);class dt extends Ft{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&ah(e,this.from,this.to)?et.fail("Structure replace would overwrite content"):et.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new fn([this.from,this.to-this.from,this.slice.size])}invert(e){return new dt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new dt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof dt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?le.empty:new le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new dt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?le.empty:new le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new dt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new dt(n.from,n.to,le.fromJSON(e,n.slice),!!n.structure)}}Ft.jsonID("replace",dt);class st extends Ft{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(ah(e,this.from,this.gapFrom)||ah(e,this.gapTo,this.to)))return et.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return et.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?et.fromReplace(e,this.from,this.to,r):et.fail("Content does not fit in gap")}getMap(){return new fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new st(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new st(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new st(n.from,n.to,n.gapFrom,n.gapTo,le.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ft.jsonID("replaceAround",st);function ah(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function K$(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),h=Math.min(u+a.nodeSize,n),p=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[v])?s.to=h:i.push(s=new qn(f,h,d[v])));l&&l.to==f?l.to=h:o.push(l=new _r(f,h,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function G$(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof mc){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let d=a[c],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new qn(s.from,s.to,s.style)))}function J$(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let a=i.child(l),u=s+a.nodeSize,c=r.matchType(a.type);if(!c)o.push(new dt(s,u,le.empty));else{r=c;for(let d=0;d<a.marks.length;d++)n.allowsMarkType(a.marks[d].type)||t.step(new qn(s,u,a.marks[d]));if(a.isText&&!n.spec.code){let d,f=/\r?\n|\r/g,h;for(;d=f.exec(a.text);)h||(h=new le(te.from(n.schema.text(" ",n.allowedMarks(a.marks))),0,0)),o.push(new dt(s+d.index,s+d.index+d[0].length,h))}}s=u}if(!r.validEnd){let l=r.fillBefore(te.empty,!0);t.replace(s,s,new le(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function Y$(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ns(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!Y$(i,o,s))break}return null}function Q$(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=te.empty,d=0;for(let p=o,v=!1;p>n;p--)v||r.index(p)>0?(v=!0,c=te.from(r.node(p).copy(c)),d++):a--;let f=te.empty,h=0;for(let p=o,v=!1;p>n;p--)v||i.after(p+1)<i.end(p)?(v=!0,f=te.from(i.node(p).copy(f)),h++):u++;t.step(new st(a,u,s,l,new le(c.append(f),d,h),c.size-d,!0))}function Jp(t,e,n=null,r=t){let i=X$(t,e),o=i&&Z$(r,e);return o?i.map(lv).concat({type:e,attrs:n}).concat(o.map(lv)):null}function lv(t){return{type:t,attrs:null}}function X$(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function Z$(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function ej(t,e,n){let r=te.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=te.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new st(i,o,i,o,new le(r,0,0),n.length,!0))}function tj(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&nj(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let a=t.mapping.slice(o),u=a.map(l,1),c=a.map(l+s.nodeSize,1);return t.step(new st(u,c,u+1,c-1,new le(te.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function nj(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function rj(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new st(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new le(te.from(s),0,0),1,!0))}function bo(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let v=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!v.type.validContent(h))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function ij(t,e,n=1,r){let i=t.doc.resolve(e),o=te.empty,s=te.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=te.from(i.node(l).copy(o));let c=r&&r[u];s=te.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new dt(e,e,new le(o.append(s),n,n),!0))}function Qr(t,e){let n=t.resolve(e),r=n.index();return MS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function MS(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function gc(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&MS(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function oj(t,e,n){let r=new dt(e-n,e+n,le.empty,!0);t.step(r)}function sj(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function PS(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let d=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(a,a,d[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Yp(t,e,n=e,r=le.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return RS(i,o,r)?new dt(e,n,r):new lj(i,o,r).fit()}function RS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class lj{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=te.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=te.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new le(o,s,l);return e>-1?new st(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new dt(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=kf(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,d=null;if(n==1&&(s?u.matchType(s.type)||(d=u.fillBefore(te.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:d};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=kf(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new le(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=kf(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new le(Es(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new le(Es(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));d=d.matchFragment(i)}let h=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let v=l.child(u),b=d.matchType(v.type);if(!b)break;u++,(u>1||a==0||v.content.size)&&(d=b,c.push(LS(v.mark(f.allowedMarks(v.marks)),u==1?a:0,u==l.childCount?h:-1)))}let p=u==l.childCount;p||(h=-1),this.placed=Os(this.placed,n,te.from(c)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=l;v<h;v++){let m=b.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),b=m.content}this.unplaced=p?e==0?le.empty:new le(Es(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new le(Es(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!xf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=xf(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=xf(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Os(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Os(this.placed,this.depth,te.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(te.empty,!0);n.childCount&&(this.placed=Os(this.placed,this.frontier.length,n))}}function Es(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Es(t.firstChild.content,e-1,n)))}function Os(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Os(t.lastChild.content,e-1,n)))}function kf(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function LS(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,LS(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(te.empty,!0)))),t.copy(r)}function xf(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!aj(n,o.content,s)?l:null}function aj(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function uj(t){return t.spec.defining||t.spec.definingForContent}function cj(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(RS(i,o,r))return t.step(new dt(e,n,r));let s=DS(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?l=f:i.before(f)==h&&s.splice(1,0,-f)}let a=s.indexOf(l),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f],p=uj(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(l)-1)))c=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),p=u[h];if(p)for(let v=0;v<s.length;v++){let b=s[(v+a)%s.length],m=!0;b<0&&(m=!1,b=-b);let y=i.node(b-1),w=i.index(b-1);if(y.canReplaceWith(w,w,p.type,p.marks))return t.replace(i.before(b),m?o.after(b):n,new le(IS(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function IS(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(IS(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(te.empty,!0))}return t}function fj(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=sj(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new le(te.from(r),0,0))}function dj(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=DS(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function DS(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class wo extends Ft{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return et.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return et.fromReplace(e,this.pos,this.pos+1,new le(te.from(i),0,n.isLeaf?0:1))}getMap(){return fn.empty}invert(e){return new wo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wo(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wo(n.pos,n.attr,n.value)}}Ft.jsonID("attr",wo);let Po=class extends Error{};Po=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Po.prototype=Object.create(Error.prototype);Po.prototype.constructor=Po;Po.prototype.name="TransformError";class hj{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Po(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=le.empty){let i=Yp(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new le(te.from(r),0,0))}delete(e,n){return this.replace(e,n,le.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return cj(this,e,n,r),this}replaceRangeWith(e,n,r){return fj(this,e,n,r),this}deleteRange(e,n){return dj(this,e,n),this}lift(e,n){return Q$(this,e,n),this}join(e,n=1){return oj(this,e,n),this}wrap(e,n){return ej(this,e,n),this}setBlockType(e,n=e,r,i=null){return tj(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return rj(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new wo(e,n,r)),this}addNodeMark(e,n){return this.step(new Cr(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Me)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Mo(e,n)),this}split(e,n=1,r){return ij(this,e,n,r),this}addMark(e,n,r){return K$(this,e,n,r),this}removeMark(e,n,r){return G$(this,e,n,r),this}clearIncompatible(e,n,r){return J$(this,e,n,r),this}}const Tf=Object.create(null);class Ee{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new pj(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=le.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?le.empty:n),l==0&&cv(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),cv(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new we(e):Gi(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Gi(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Gi(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Mn(e.node(0))}static atStart(e){return Gi(e,e,0,0,1)||new Mn(e)}static atEnd(e){return Gi(e,e,e.content.size,e.childCount,-1)||new Mn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Tf[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Tf)throw new RangeError("Duplicate use of selection JSON ID "+e);return Tf[e]=n,n.prototype.jsonID=e,n}getBookmark(){return we.between(this.$anchor,this.$head).getBookmark()}}Ee.prototype.visible=!0;class pj{constructor(e,n){this.$from=e,this.$to=n}}let av=!1;function uv(t){!av&&!t.parent.inlineContent&&(av=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class we extends Ee{constructor(e,n=e){uv(e),uv(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ee.near(r);let i=e.resolve(n.map(this.anchor));return new we(i.parent.inlineContent?i:r,r)}replace(e,n=le.empty){if(super.replace(e,n),n==le.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof we&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new we(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Ee.findFrom(n,r,!0)||Ee.findFrom(n,-r,!0);if(o)n=o.$head;else return Ee.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ee.findFrom(e,-r,!0)||Ee.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new we(e,n)}}Ee.jsonID("text",we);class yc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new yc(e.map(this.anchor),e.map(this.head))}resolve(e){return we.between(e.resolve(this.anchor),e.resolve(this.head))}}class me extends Ee{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Ee.near(o):new me(o)}content(){return new le(te.from(this.node),0,0)}eq(e){return e instanceof me&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Qp(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new me(e.resolve(n.anchor))}static create(e,n){return new me(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}me.prototype.visible=!1;Ee.jsonID("node",me);class Qp{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new yc(r,r):new Qp(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&me.isSelectable(r)?new me(n):Ee.near(n)}}class Mn extends Ee{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=le.empty){if(n==le.empty){e.delete(0,e.doc.content.size);let r=Ee.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Mn(e)}map(e){return new Mn(e)}eq(e){return e instanceof Mn}getBookmark(){return mj}}Ee.jsonID("all",Mn);const mj={map(){return this},resolve(t){return new Mn(t)}};function Gi(t,e,n,r,i,o=!1){if(e.inlineContent)return we.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&me.isSelectable(l))return me.create(t,n-(i<0?l.nodeSize:0))}else{let a=Gi(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function cv(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof dt||i instanceof st))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(Ee.near(t.doc.resolve(s),n))}const fv=1,ea=2,dv=4;class gj extends hj{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|fv)&~ea,this.storedMarks=null,this}get selectionSet(){return(this.updated&fv)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ea,this}ensureMarks(e){return Me.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ea)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ea,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Me.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Ee.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=dv,this}get scrolledIntoView(){return(this.updated&dv)>0}}function hv(t,e){return!e||!t?t:t.bind(e)}class ks{constructor(e,n,r){this.name=e,this.init=hv(n.init,r),this.apply=hv(n.apply,r)}}const yj=[new ks("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ks("selection",{init(t,e){return t.selection||Ee.atStart(e.doc)},apply(t){return t.selection}}),new ks("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ks("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Af{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=yj.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ks(r.key,r.spec.state,r))})}}class uo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new uo(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new gj(this)}static create(e){let n=new Af(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new uo(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Af(this.schema,e.plugins),r=n.fields,i=new uo(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Af(e.schema,e.plugins),o=new uo(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Oi.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Ee.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function $S(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=$S(i,e,{})),n[r]=i}return n}class rn{constructor(e){this.spec=e,this.props={},e.props&&$S(e.props,this,this.props),this.key=e.key?e.key.key:jS("plugin")}getState(e){return e[this.key]}}const _f=Object.create(null);function jS(t){return t in _f?t+"$"+ ++_f[t]:(_f[t]=0,t+"$")}class Xn{constructor(e="key"){this.key=jS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const kt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},fl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let pv=null;const tr=function(t,e,n){let r=pv||(pv=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Li=function(t,e,n,r){return n&&(mv(t,e,n,r,-1)||mv(t,e,n,r,1))},vj=/^(img|br|input|textarea|hr)$/i;function mv(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Fn(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Xp(t)||vj.test(t.nodeName)||t.contentEditable=="false")return!1;e=kt(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Fn(t):0}else return!1}}function Fn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bj(t,e,n){for(let r=e==0,i=e==Fn(t);r||i;){if(t==n)return!0;let o=kt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Fn(t)}}function Xp(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const vc=function(t){return t.focusNode&&Li(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ui(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function wj(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Sj(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Wn=typeof navigator<"u"?navigator:null,gv=typeof document<"u"?document:null,Xr=Wn&&Wn.userAgent||"",uh=/Edge\/(\d+)/.exec(Xr),BS=/MSIE \d/.exec(Xr),ch=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xr),$t=!!(BS||ch||uh),Br=BS?document.documentMode:ch?+ch[1]:uh?+uh[1]:0,Rn=!$t&&/gecko\/(\d+)/i.test(Xr);Rn&&+(/Firefox\/(\d+)/.exec(Xr)||[0,0])[1];const fh=!$t&&/Chrome\/(\d+)/.exec(Xr),wt=!!fh,Ej=fh?+fh[1]:0,Tt=!$t&&!!Wn&&/Apple Computer/.test(Wn.vendor),Ro=Tt&&(/Mobile\/\w+/.test(Xr)||!!Wn&&Wn.maxTouchPoints>2),an=Ro||(Wn?/Mac/.test(Wn.platform):!1),Oj=Wn?/Win/.test(Wn.platform):!1,xn=/Android \d/.test(Xr),bc=!!gv&&"webkitFontSmoothing"in gv.documentElement.style,kj=bc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function xj(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Zn(t,e){return typeof t=="number"?t:t[e]}function Tj(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function yv(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=fl(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?xj(o):Tj(l),c=0,d=0;if(e.top<u.top+Zn(r,"top")?d=-(u.top-e.top+Zn(i,"top")):e.bottom>u.bottom-Zn(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+Zn(i,"top")-u.top:e.bottom-u.bottom+Zn(i,"bottom")),e.left<u.left+Zn(r,"left")?c=-(u.left-e.left+Zn(i,"left")):e.right>u.right-Zn(r,"right")&&(c=e.right-u.right+Zn(i,"right")),c||d)if(a)o.defaultView.scrollBy(c,d);else{let f=l.scrollLeft,h=l.scrollTop;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);let p=l.scrollLeft-f,v=l.scrollTop-h;e={left:e.left-p,top:e.top-v,right:e.right-p,bottom:e.bottom-v}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function Aj(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:FS(t.dom)}}function FS(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=fl(r));return e}function _j({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;zS(n,r==0?0:r-e)}function zS(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Wi=null;function Cj(t){if(t.setActive)return t.setActive();if(Wi)return t.focus(Wi);let e=FS(t);t.focus(Wi==null?{get preventScroll(){return Wi={preventScroll:!0},!0}}:void 0),Wi||(Wi=!1,zS(e,0))}function qS(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=tr(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=l){s=Math.max(p.bottom,s),l=Math.min(p.top,l);let v=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(v<r){n=c,r=v,i=v&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,c.nodeType==1&&v&&(o=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!a&&p.left<=e.left&&p.right>=e.left&&(a=c,u={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=d+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?Nj(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:qS(n,i)}function Nj(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=vr(r,1);if(o.top!=o.bottom&&Zp(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Zp(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Mj(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Pj(t,e,n){let{node:r,offset:i}=qS(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function Rj(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,a.left>r.left||a.top>r.top?i=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function US(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Zp(e,u))return US(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function Lj(t,e){let n=t.dom.ownerDocument,r,i=0,o=Sj(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!Zp(e,u)||(s=US(t.dom,e,u),!s))return null}if(Tt)for(let u=s;r&&u;u=fl(u))u.draggable&&(r=void 0);if(s=Mj(s,e),r){if(Rn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],c;u.nodeName=="IMG"&&(c=u.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Rj(t,r,i,e))}l==null&&(l=Pj(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function vv(t){return t.top<t.bottom||t.left<t.right}function vr(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(vv(r))return r}return Array.prototype.find.call(n,vv)||t.getBoundingClientRect()}const Ij=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function VS(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=bc||Rn;if(r.nodeType==3)if(s&&(Ij.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=vr(tr(r,i,i),n);if(Rn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=vr(tr(r,i-1,i-1),-1);if(u.top==a.top){let c=vr(tr(r,i,i+1),-1);if(c.top!=a.top)return gs(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,gs(vr(tr(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Fn(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Cf(a.getBoundingClientRect(),!1)}if(o==null&&i<Fn(r)){let a=r.childNodes[i];if(a.nodeType==1)return Cf(a.getBoundingClientRect(),!0)}return Cf(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Fn(r))){let a=r.childNodes[i-1],u=a.nodeType==3?tr(a,Fn(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return gs(vr(u,1),!1)}if(o==null&&i<Fn(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?tr(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return gs(vr(u,-1),!0)}return gs(vr(r.nodeType==3?tr(r):r,-n),n>=0)}function gs(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Cf(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function HS(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Dj(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return HS(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=VS(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=tr(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const $j=/[\u0590-\u08ac]/;function jj(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!$j.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:HS(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:v}=t.domSelectionRange(),b=p&&!h.contains(p.nodeType==1?p:p.parentNode)||a==p&&u==v;try{l.collapse(c,d),a&&(a!=c||u!=d)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),b})}let bv=null,wv=null,Sv=!1;function Bj(t,e,n){return bv==e&&wv==n?Sv:(bv=e,wv=n,Sv=n=="up"||n=="down"?Dj(t,e,n):jj(t,e,n))}const mn=0,Ev=1,pi=2,Kn=3;class Al{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=mn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>kt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof KS){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof WS&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?kt(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?kt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=kt(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=kt(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],v=h+p.size;if(o>h&&s<v)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=v}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((Rn||Tt)&&e==n){let{node:f,offset:h}=l;if(f.nodeType==3){if(c=!!(h&&f.nodeValue[h-1]==`
`),c&&h==f.nodeValue.length)for(let p=f,v;p;p=p.parentNode){if(v=p.nextSibling){v.nodeName=="BR"&&(l=a={node:v.parentNode,offset:kt(v)+1});break}let b=p.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let p=f.childNodes[h-1];c=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(Rn&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&Tt)&&Li(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Li(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(e>n){let h=l;l=a,a=h}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?pi:Ev,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Kn:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?pi:Kn}r=s}this.dirty=pi}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?pi:Ev;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class WS extends Al{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==mn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Fj extends Al{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ii extends Al{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=zn.renderSpec(document,n.type.spec.toDOM(n,r))),new Ii(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Kn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=mn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=mn}}slice(e,n,r){let i=Ii.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=ph(o,n,s,r)),e>0&&(o=ph(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class Fr extends Al{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=zn.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=YS(c,r,n),u?a=new zj(e,n,r,i,c,d||null,f,u,o,s+1):n.isText?new wc(e,n,r,i,c,f,o):new Fr(e,n,r,i,c,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>te.empty)}return e}matchesNode(e,n,r){return this.dirty==mn&&e.eq(this.node)&&hh(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new Uj(this,s&&s.node,e);Wj(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&a.syncToMarks(c==this.node.childCount?Me.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,d,f)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,c,d,f)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,d,h,e)||a.updateNextNode(u,c,d,e,f,i)||a.addNode(u,c,d,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==pi)&&(s&&this.protectLocalComposition(e,s),GS(this.contentDOM,this.children,e),Ro&&Kj(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof we)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=Gj(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,a=Jj(this.node.content,l,r-n,i-n);return a<0?null:{node:s,pos:a,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Fj(this,o,n,i);e.input.compositionNodes.push(s),this.children=ph(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=mn}updateOuterDeco(e){if(hh(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=JS(this.dom,this.nodeDOM,dh(this.outerDeco,this.node,n),dh(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Ov(t,e,n,r,i){YS(r,e,t);let o=new Fr(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class wc extends Fr{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Kn||this.dirty!=mn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=mn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=mn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new wc(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Kn)}get domAtom(){return!1}}class KS extends Al{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==mn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class zj extends Fr{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Kn)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function GS(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=kv(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof Ii){let a=r?r.previousSibling:t.lastChild;GS(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=kv(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const $s=function(t){t&&(this.nodeName=t)};$s.prototype=Object.create(null);const mi=[new $s];function dh(t,e,n){if(t.length==0)return mi;let r=n?mi[0]:new $s,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new $s(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new $s(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function JS(t,e,n,r){if(n==mi&&r==mi)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=mi[0]),i=a}qj(i,l||mi[0],s)}return i}function qj(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function YS(t,e,n){return JS(t,t,mi,dh(e,n,t.nodeType!=1))}function hh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function kv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Uj{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Vj(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=mn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Ii.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Kn&&s.dom==s.contentDOM&&(s.dirty=pi),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Fr){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,d,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Kn&&hh(n,a.outerDeco));if(!f&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,r,i,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=pi,d.updateChildren(i,s+1),d.dirty=mn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Fr.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=Fr.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new WS(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ii;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof wc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Tt||wt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new KS(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Vj(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Ii)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function Hj(t,e){return t.type.side-e.type.side}function Wj(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,d;for(;s<i.length&&i[s].to==o;){let b=i[s++];b.widget&&(c?(d||(d=[c])).push(b):c=b)}if(c)if(d){d.sort(Hj);for(let b=0;b<d.length;b++)n(d[b],u,!!a)}else n(c,u,!!a);let f,h;if(a)h=-1,f=a,a=null;else if(u<t.childCount)h=u,f=t.child(u++);else break;for(let b=0;b<l.length;b++)l[b].to<=o&&l.splice(b--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let p=o+f.nodeSize;if(f.isText){let b=p;s<i.length&&i[s].from<b&&(b=i[s].from);for(let m=0;m<l.length;m++)l[m].to<b&&(b=l[m].to);b<p&&(a=f.cut(b-o),f=f.cut(0,b-o),p=b,h=-1)}let v=f.isInline&&!f.isLeaf?l.filter(b=>!b.inline):l.slice();r(f,v,e.forChild(o,f),h),o=p}}function Kj(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Gj(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Fn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function Jj(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function ph(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function em(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(vc(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&me.isSelectable(c)&&i.parent&&!(c.isInline&&bj(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;u=new me(s==d?l:r.resolve(d))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=tm(t,a,l,c)}return u}function QS(t){return t.editable?t.hasFocus():ZS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function lr(t,e=!1){let n=t.state.selection;if(XS(t,n),!!QS(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&wt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Li(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Qj(t);else{let{anchor:r,head:i}=n,o,s;xv&&!(n instanceof we)&&(n.$from.parent.inlineContent||(o=Tv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Tv(t,n.to))),t.docView.setSelection(r,i,t.root,e),xv&&(o&&Av(o),s&&Av(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Yj(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const xv=Tt||wt&&Ej<63;function Tv(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Tt&&i&&i.contentEditable=="false")return Nf(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Nf(i);if(o)return Nf(o)}}function Nf(t){return t.contentEditable="true",Tt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Av(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Yj(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!QS(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Qj(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,kt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&$t&&Br<=11&&(r.disabled=!0,r.disabled=!1)}function XS(t,e){if(e instanceof me){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(_v(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else _v(t)}function _v(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function tm(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||we.between(e,n,r)}function Cv(t){return t.editable&&!t.hasFocus()?!1:ZS(t)}function ZS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Xj(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Li(e.node,e.offset,n.anchorNode,n.anchorOffset)}function mh(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ee.findFrom(o,e)}function ci(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Nv(t,e,n){let r=t.state.selection;if(r instanceof we){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let i=mh(t.state,e);return i&&i instanceof me?ci(t,i):!1}else if(!(an&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?me.isSelectable(o)?ci(t,new me(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):bc?ci(t,new we(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof me&&r.node.isInline)return ci(t,new we(e>0?r.$to:r.$from));{let i=mh(t.state,e);return i?ci(t,i):!1}}}function fu(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function js(t,e){if(t.contentEditable=="false")return!0;let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ki(t,e){return e<0?Zj(t):eB(t)}function Zj(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Rn&&n.nodeType==1&&r<fu(n)&&js(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(js(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(eE(n))break;{let l=n.previousSibling;for(;l&&js(l,-1);)i=n.parentNode,o=kt(l),l=l.previousSibling;if(l)n=l,r=fu(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?gh(t,n,r):i&&gh(t,i,o)}function eB(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=fu(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(js(l,1))o=n,s=++r;else break}else{if(eE(n))break;{let l=n.nextSibling;for(;l&&js(l,1);)o=l.parentNode,s=kt(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=fu(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&gh(t,o,s)}function eE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function tB(t,e){for(;t&&e==t.childNodes.length&&!Xp(t);)e=kt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function nB(t,e){for(;t&&!e&&!Xp(t);)e=kt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function gh(t,e,n){if(e.nodeType!=3){let o,s;(s=tB(e,n))?(e=s,n=0):(o=nB(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(vc(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&lr(t)},50)}function Mv(t,e){let n=t.state.doc.resolve(e);if(!(wt||Oj)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Pv(t,e,n){let r=t.state.selection;if(r instanceof we&&!r.empty||n.indexOf("s")>-1||an&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=mh(t.state,e);if(s&&s instanceof me)return ci(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Mn?Ee.near(s,e):Ee.findFrom(s,e);return l?ci(t,l):!1}return!1}function Rv(t,e){if(!(t.state.selection instanceof we))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Lv(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function rB(t){if(!Tt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Lv(t,r,"true"),setTimeout(()=>Lv(t,r,"false"),20)}return!1}function iB(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function oB(t,e){let n=e.keyCode,r=iB(e);if(n==8||an&&n==72&&r=="c")return Rv(t,-1)||Ki(t,-1);if(n==46&&!e.shiftKey||an&&n==68&&r=="c")return Rv(t,1)||Ki(t,1);if(n==13||n==27)return!0;if(n==37||an&&n==66&&r=="c"){let i=n==37?Mv(t,t.state.selection.from)=="ltr"?-1:1:-1;return Nv(t,i,r)||Ki(t,i)}else if(n==39||an&&n==70&&r=="c"){let i=n==39?Mv(t,t.state.selection.from)=="ltr"?1:-1:1;return Nv(t,i,r)||Ki(t,i)}else{if(n==38||an&&n==80&&r=="c")return Pv(t,-1,r)||Ki(t,-1);if(n==40||an&&n==78&&r=="c")return rB(t)||Pv(t,1,r)||Ki(t,1);if(r==(an?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function tE(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||zn.fromSchema(t.state.schema),l=lE(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=sE[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=l.createElement(c[h]);for(;a.firstChild;)p.appendChild(a.firstChild);a.appendChild(p),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f}}function nE(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new le(te.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):le.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)l=d;else{let f=i.marks(),{schema:h}=t.state,p=zn.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=s.appendChild(document.createElement("p"));v&&b.appendChild(p.serializeNode(h.text(v,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=aB(n),bc&&uB(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Kp.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!sB.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=cB(Iv(l,+c[1],+c[2]),c[4]);else if(l=le.maxOpen(lB(l.content,i),!0),l.openStart||l.openEnd){let d=0,f=0;for(let h=l.content.firstChild;d<l.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=l.content.lastChild;f<l.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);l=Iv(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const sB=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function lB(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&iE(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=oE(s[s.length-1],o.length));let c=rE(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return te.from(s)}return t}function rE(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,te.from(t));return t}function iE(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=iE(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(te.from(rE(n,t,i+1))))}}function oE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,oE(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(te.empty,!0);return t.copy(n.append(r))}function yh(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=yh(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(te.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Iv(t,e,n){return e<t.openStart&&(t=new le(yh(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new le(yh(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const sE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Dv=null;function lE(){return Dv||(Dv=document.implementation.createHTMLDocument("title"))}function aB(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=lE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&sE[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function uB(t){let e=t.querySelectorAll(wt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function cB(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=te.from(a.create(r[l+1],i)),o++,s++}return new le(i,o,s)}const At={},_t={},fB={touchstart:!0,touchmove:!0};class dB{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function hB(t){for(let e in At){let n=At[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{mB(t,r)&&!nm(t,r)&&(t.editable||!(r.type in _t))&&n(t,r)},fB[e]?{passive:!0}:void 0)}Tt&&t.dom.addEventListener("input",()=>null),vh(t)}function Nr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function pB(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function vh(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>nm(t,r))})}function nm(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function mB(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function gB(t,e){!nm(t,e)&&At[e.type]&&(t.editable||!(e.type in _t))&&At[e.type](t,e)}_t.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!uE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(xn&&wt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ro&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ui(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||oB(t,n)?n.preventDefault():Nr(t,"key")};_t.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};_t.keypress=(t,e)=>{let n=e;if(uE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||an&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof we)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Sc(t){return{left:t.clientX,top:t.clientY}}function yB(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function rm(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function So(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function vB(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&me.isSelectable(r)?(So(t,new me(n),"pointer"),!0):!1}function bB(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof me&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(me.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(So(t,me.create(t.state.doc,i),"pointer"),!0):!1}function wB(t,e,n,r,i){return rm(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?bB(t,n):vB(t,n))}function SB(t,e,n,r){return rm(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function EB(t,e,n,r){return rm(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||OB(t,n,r)}function OB(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(So(t,we.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)So(t,we.create(r,l+1,l+1+s.content.size),"pointer");else if(me.isSelectable(s))So(t,me.create(r,l),"pointer");else continue;return!0}}function im(t){return du(t)}const aE=an?"metaKey":"ctrlKey";At.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=im(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&yB(n,t.input.lastClick)&&!n[aE]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Sc(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new kB(t,s,n,!!r)):(o=="doubleClick"?SB:EB)(t,s.pos,s.inside,n)?n.preventDefault():Nr(t,"pointer"))};class kB{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[aE],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof me&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Rn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Nr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>lr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Sc(e))),this.updateAllowDefault(e),this.allowDefault||!n?Nr(this.view,"pointer"):wB(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Tt&&this.mightDrag&&!this.mightDrag.node.isAtom||wt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(So(this.view,Ee.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Nr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Nr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}At.touchstart=t=>{t.input.lastTouch=Date.now(),im(t),Nr(t,"pointer")};At.touchmove=t=>{t.input.lastTouch=Date.now(),Nr(t,"pointer")};At.contextmenu=t=>im(t);function uE(t,e){return t.composing?!0:Tt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const xB=xn?5e3:-1;_t.compositionstart=_t.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),du(t,!0),t.markCursor=null;else if(du(t),Rn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}cE(t,xB)};_t.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,cE(t,20))};function cE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>du(t),e))}function fE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=TB());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function TB(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function du(t,e=!1){if(!(xn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),fE(t),e||t.docView&&t.docView.dirty){let n=em(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function AB(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Lo=$t&&Br<15||Ro&&kj<604;At.copy=_t.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Lo?null:n.clipboardData,s=r.content(),{dom:l,text:a}=tE(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):AB(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _B(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function CB(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?dl(t,r.value,null,i,e):dl(t,r.textContent,r.innerHTML,i,e)},50)}function dl(t,e,n,r,i){let o=nE(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||le.empty)))return!0;if(!o)return!1;let s=_B(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}_t.paste=(t,e)=>{let n=e;if(t.composing&&!xn)return;let r=Lo?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&dl(t,r.getData("text/plain"),r.getData("text/html"),i,n)?n.preventDefault():CB(t,n)};class NB{constructor(e,n){this.slice=e,this.move=n}}const dE=an?"altKey":"ctrlKey";At.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Sc(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof me?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(me.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(me.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:a}=tE(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Lo?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lo||n.dataTransfer.setData("text/plain",a),t.dragging=new NB(s,!n[dE])};At.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};_t.dragover=_t.dragenter=(t,e)=>e.preventDefault();_t.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Sc(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=nE(t,n.dataTransfer.getData(Lo?"Text":"text/plain"),Lo?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[dE]);if(t.someProp("handleDrop",p=>p(t,n,s||le.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?PS(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;l&&u.deleteSelection();let c=u.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(f))return;let h=u.doc.resolve(c);if(d&&me.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new me(h));else{let p=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((v,b,m,y)=>p=y),u.setSelection(tm(t,h,u.doc.resolve(p)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};At.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&lr(t)},20))};At.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};At.beforeinput=(t,e)=>{if(wt&&xn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ui(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in _t)At[t]=_t[t];function hl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class hu{constructor(e,n){this.toDOM=e,this.spec=n||ki,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Kt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof hu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&hl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class zr{constructor(e,n){this.attrs=e,this.spec=n||ki}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Kt(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof zr&&hl(this.attrs,e.attrs)&&hl(this.spec,e.spec)}static is(e){return e.type instanceof zr}destroy(){}}class om{constructor(e,n){this.attrs=e,this.spec=n||ki}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Kt(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof om&&hl(this.attrs,e.attrs)&&hl(this.spec,e.spec)}destroy(){}}class Kt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Kt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Kt(e,e,new hu(n,r))}static inline(e,n,r,i){return new Kt(e,n,new zr(r,i))}static node(e,n,r,i){return new Kt(e,n,new om(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof zr}get widget(){return this.type instanceof hu}}const Ji=[],ki={};class Ge{constructor(e,n){this.local=e.length?e:Ji,this.children=n.length?n:Ji}static create(e,n){return n.length?pu(n,e,0,ki):vt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==vt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ki)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?MB(this.children,s||[],e,n,r,i,o):s?new Ge(s.sort(xi),Ji):vt}add(e,n){return n.length?this==vt?Ge.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=pE(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,pu(c,l,u+1,ki)),o+=3}});let s=hE(o?mE(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Ge(s.length?this.local.concat(s).sort(xi):this.local,i||this.children)}remove(e){return e.length==0||this==vt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>l&&d.to<a&&(e[c]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=vt?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Ge(i,r):vt}forChild(e,n){if(this==vt)return this;if(n.isLeaf)return Ge.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof zr){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new Ge(i.sort(xi),Ji);return r?new kr([l,r]):l}return r||vt}eq(e){if(this==e)return!0;if(!(e instanceof Ge)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return sm(this.localsInner(e))}localsInner(e){if(this==vt)return Ji;if(e.inlineContent||!this.local.some(zr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof zr||n.push(this.local[r]);return n}}Ge.empty=new Ge([],[]);Ge.removeOverlap=sm;const vt=Ge.empty;class kr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ki));return kr.from(r)}forChild(e,n){if(n.isLeaf)return Ge.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=vt&&(o instanceof kr?r=r.concat(o.members):r.push(o))}return kr.from(r)}eq(e){if(!(e instanceof kr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?sm(r?n:n.sort(xi)):Ji}static from(e){switch(e.length){case 0:return vt;case 1:return e[0];default:return new kr(e.every(n=>n instanceof Ge)?e:e.reduce((n,r)=>n.concat(r instanceof Ge?r:r.members),[]))}}}function MB(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,h,p,v)=>{let b=v-p-(h-f);for(let m=0;m<l.length;m+=3){let y=l[m+1];if(y<0||f>y+c-d)continue;let w=l[m]+c-d;h>=w?l[m+1]=f<=w?-2:-1:p>=i&&b&&(l[m]+=b,l[m+1]+=b)}d+=b}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),d=c-i;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+o,-1),h=f-i,{index:p,offset:v}=r.content.findIndex(d),b=r.maybeChild(p);if(b&&v==d&&v+b.nodeSize==h){let m=l[u+2].mapInner(n,b,c+1,t[u]+o+1,s);m!=vt?(l[u]=d,l[u+1]=h,l[u+2]=m):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=PB(l,t,e,n,i,o,s),c=pu(u,r,0,s);e=c.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<l.length&&l[f]<h;)f+=3;l.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Ge(e.sort(xi),l)}function hE(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Kt(i.from+e,i.to+e,i.type))}return n}function PB(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let d=a.local[c].map(r,i,u);d?n.push(d):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function pE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function mE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function pu(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=pE(t,l,a+n);if(u){o=!0;let c=pu(u,l,n+a+1,r);c!=vt&&i.push(a,a+l.nodeSize,c)}});let s=hE(o?mE(t):t,-n).sort(xi);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new Ge(s,i):vt}function xi(t,e){return t.from-e.from||t.to-e.to}function sm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),$v(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),$v(e,i,r.copy(o.from,r.to)));break}}}return e}function $v(t,e,n){for(;e<t.length&&xi(n,t[e])>0;)e++;t.splice(e,0,n)}function Mf(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=vt&&e.push(r)}),t.cursorWrapper&&e.push(Ge.create(t.state.doc,[t.cursorWrapper.deco])),kr.from(e)}const RB={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},LB=$t&&Br<=11;class IB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DB{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new IB,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);$t&&Br<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),LB&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,RB)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Cv(this.view)){if(this.suppressingSelectionUpdates)return lr(this.view);if($t&&Br<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Li(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=fl(o))n.add(o);for(let o=e.anchorNode;o;o=fl(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Cv(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],a);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(Rn&&a.length>1){let c=a.filter(d=>d.nodeName=="BR");if(c.length==2){let d=c[0],f=c[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&vc(r)&&(u=em(e))&&u.eq(Ee.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,lr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),$B(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||lr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if($t&&Br<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?kt(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?kt(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let jv=new WeakMap,Bv=!1;function $B(t){if(!jv.has(t)&&(jv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Rn,Bv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Bv=!0}}function jB(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Li(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function BB(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],vc(a)||u.push({node:a.focusNode,offset:a.focusOffset})),wt&&t.input.lastKeyCode===8)for(let b=o;b>i;b--){let m=r.childNodes[b-1],y=m.pmViewDesc;if(m.nodeName=="BR"&&!y){o=b;break}if(!y||y.size)break}let d=t.state.doc,f=t.someProp("domParser")||Kp.fromSchema(t.state.schema),h=d.resolve(s),p=null,v=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:FB,context:h});if(u&&u[0].pos!=null){let b=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=b),p={anchor:b+s,head:m+s}}return{doc:v,sel:p,from:s,to:l}}function FB(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Tt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Tt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const zB=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function qB(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,T=em(t,_);if(T&&!t.state.selection.eq(T)){if(wt&&xn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",A=>A(t,ui(13,"Enter"))))return;let x=t.state.tr.setSelection(T);_=="pointer"?x.setMeta("pointer",!0):_=="key"&&x.scrollIntoView(),o&&x.setMeta("composition",o),t.dispatch(x)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=BB(t,e,n),c=t.state.doc,d=c.slice(u.from,u.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=HB(d.content,u.doc.content,u.from,f,h);if((Ro&&t.input.lastIOSEnter>Date.now()-225||xn)&&i.some(_=>_.nodeType==1&&!zB.test(_.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",_=>_(t,ui(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof we&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let _=Fv(t,t.state.doc,u.sel);if(_&&!_.eq(t.state.selection)){let T=t.state.tr.setSelection(_);o&&T.setMeta("composition",o),t.dispatch(T)}}return}if(wt&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let _=p.endB-p.start;u.sel={anchor:u.sel.anchor+_,head:u.sel.anchor+_}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof we&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),$t&&Br<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let v=u.doc.resolveNoCache(p.start-u.from),b=u.doc.resolveNoCache(p.endB-u.from),m=c.resolve(p.start),y=v.sameParent(b)&&v.parent.inlineContent&&m.end()>=p.endA,w;if((Ro&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!y&&v.pos<u.doc.content.size&&!v.sameParent(b)&&(w=Ee.findFrom(u.doc.resolve(v.pos+1),1,!0))&&w.head==b.pos)&&t.someProp("handleKeyDown",_=>_(t,ui(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&VB(c,p.start,p.endA,v,b)&&t.someProp("handleKeyDown",_=>_(t,ui(8,"Backspace")))){xn&&wt&&t.domObserver.suppressSelectionUpdates();return}wt&&xn&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),xn&&!y&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,b=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,ui(13,"Enter"))})},20));let g=p.start,S=p.endA,E,O,k;if(y){if(v.pos==b.pos)$t&&Br<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>lr(t),20)),E=t.state.tr.delete(g,S),O=c.resolve(p.start).marksAcross(c.resolve(p.endA));else if(p.endA==p.endB&&(k=UB(v.parent.content.cut(v.parentOffset,b.parentOffset),m.parent.content.cut(m.parentOffset,p.endA-m.start()))))E=t.state.tr,k.type=="add"?E.addMark(g,S,k.mark):E.removeMark(g,S,k.mark);else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let _=v.parent.textBetween(v.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",T=>T(t,g,S,_)))return;E=t.state.tr.insertText(_,g,S)}}if(E||(E=t.state.tr.replace(g,S,u.doc.slice(p.start-u.from,p.endB-u.from))),u.sel){let _=Fv(t,E.doc,u.sel);_&&!(wt&&xn&&t.composing&&_.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(_.head==g||_.head==E.mapping.map(S)-1)||$t&&_.empty&&_.head==g)&&E.setSelection(_)}O&&E.ensureMarks(O),o&&E.setMeta("composition",o),t.dispatch(E.scrollIntoView())}function Fv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:tm(t,e.resolve(n.anchor),e.resolve(n.head))}function UB(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(te.from(u).eq(t))return{mark:l,type:s}}function VB(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Pf(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Pf(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Pf(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Pf(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function HB(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}class WB{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new dB,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Hv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Uv(this),qv(this),this.nodeViews=Vv(this),this.docView=Ov(this.state.doc,zv(this),Mf(this),this.dom,this),this.domObserver=new DB(this,(r,i,o,s)=>qB(this,r,i,o,s)),this.domObserver.start(),hB(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&vh(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Hv),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(fE(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=Vv(this);GB(f,this.nodeViews)&&(this.nodeViews=f,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&vh(this),this.editable=Uv(this),qv(this);let l=Mf(this),a=zv(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,a,l);(c||!e.selection.eq(r.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Aj(this);if(o){this.domObserver.stop();let f=c&&($t||wt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&KB(r.selection,e.selection);if(c){let h=wt?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,a,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Ov(e.doc,a,l,this.dom,this)),h&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Xj(this))?lr(this,f):(XS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&_j(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof me){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&yv(this,n.getBoundingClientRect(),e)}else yv(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if($t){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Cj(this.dom),lr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return Lj(this,e)}coordsAtPos(e,n=1){return VS(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Bj(this,n||this.state,e)}pasteHTML(e,n){return dl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return dl(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(pB(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Mf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return gB(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Tt&&this.root.nodeType===11&&wj(this.dom.ownerDocument)==this.dom?jB(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function zv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Kt.node(0,t.state.doc.content.size,e)]}function qv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Kt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Uv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function KB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Vv(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function GB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Hv(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Wr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},mu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},JB=typeof navigator<"u"&&/Mac/.test(navigator.platform),YB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ht=0;ht<10;ht++)Wr[48+ht]=Wr[96+ht]=String(ht);for(var ht=1;ht<=24;ht++)Wr[ht+111]="F"+ht;for(var ht=65;ht<=90;ht++)Wr[ht]=String.fromCharCode(ht+32),mu[ht]=String.fromCharCode(ht);for(var Rf in Wr)mu.hasOwnProperty(Rf)||(mu[Rf]=Wr[Rf]);function QB(t){var e=JB&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||YB&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?mu:Wr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const XB=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function ZB(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))XB?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function e4(t){let e=Object.create(null);for(let n in t)e[ZB(n)]=t[n];return e}function Lf(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function t4(t){return new rn({props:{handleKeyDown:gE(t)}})}function gE(t){let e=e4(t);return function(n,r){let i=QB(r),o,s=e[Lf(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Lf(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Wr[r.keyCode])&&o!=i){let l=e[Lf(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const n4=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function r4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const i4=(t,e,n)=>{let r=r4(t,n);if(!r)return!1;let i=yE(r);if(!i){let s=r.blockRange(),l=s&&ns(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&wE(t,i,e))return!0;if(r.parent.content.size==0&&(Io(o,"end")||me.isSelectable(o))){let s=Yp(t.doc,r.before(),r.after(),le.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Io(o,"end")?Ee.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):me.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Io(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const o4=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=yE(r)}let s=o&&o.nodeBefore;return!s||!me.isSelectable(s)?!1:(e&&e(t.tr.setSelection(me.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function yE(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function s4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const l4=(t,e,n)=>{let r=s4(t,n);if(!r)return!1;let i=vE(r);if(!i)return!1;let o=i.nodeAfter;if(wE(t,i,e))return!0;if(r.parent.content.size==0&&(Io(o,"start")||me.isSelectable(o))){let s=Yp(t.doc,r.before(),r.after(),le.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Io(o,"start")?Ee.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):me.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},a4=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=vE(r)}let s=o&&o.nodeAfter;return!s||!me.isSelectable(s)?!1:(e&&e(t.tr.setSelection(me.create(t.doc,o.pos)).scrollIntoView()),!0)};function vE(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const u4=(t,e)=>{let n=t.selection,r=n instanceof me,i;if(r){if(n.node.isTextblock||!Qr(t.doc,n.from))return!1;i=n.from}else if(i=gc(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(me.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},c4=(t,e)=>{let n=t.selection,r;if(n instanceof me){if(n.node.isTextblock||!Qr(t.doc,n.to))return!1;r=n.to}else if(r=gc(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},f4=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&ns(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},d4=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function bE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const h4=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=bE(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(Ee.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},p4=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Mn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=bE(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(we.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},m4=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(bo(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ns(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},g4=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(me.create(t.doc,i))),!0)};function y4(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Qr(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function wE(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(y4(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=te.empty;for(let v=o.length-1;v>=0;v--)f=te.from(o[v].create(null,f));f=te.from(r.copy(f));let h=t.tr.step(new st(e.pos-1,d,e.pos,d,new le(f,1,0),o.length,!0)),p=d+2*o.length;Qr(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let a=Ee.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&ns(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&Io(i,"start",!0)&&Io(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let v=te.empty;for(let m=f.length-1;m>=0;m--)v=te.from(f[m].copy(v));let b=t.tr.step(new st(e.pos-f.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new le(v,f.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function SE(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(we.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const v4=SE(-1),b4=SE(1);function w4(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&Jp(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function Wv(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];o.setBlockType(l,a,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function S4(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);a=new lu(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new lu(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let u=Jp(a,t,e,s);return u?(r&&r(E4(n.tr,s,u,l,t).scrollIntoView()),!0):!1}}function E4(t,e,n,r,i){let o=te.empty;for(let c=n.length-1;c>=0;c--)o=te.from(n[c].type.create(n[c].attrs,o));t.step(new st(e.start-(r?2:0),e.end,e.start,e.end,new le(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let l=n.length-s,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&bo(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function O4(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?k4(e,n,t,o):x4(e,n,o):!0:!1}}function k4(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new st(o-1,s,o,s,new le(te.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new lu(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=ns(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(o,-1)-1;return Qr(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function x4(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,v=n.startIndex;p>v;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?te.empty:te.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new st(d-(l?1:0),f+(a?1:0),d+1,f-1,new le((l?te.empty:te.from(i.copy(te.empty))).append(a?te.empty:te.from(i.copy(te.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function T4(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=te.from(u?t.create():null),d=new le(te.from(t.create(null,te.from(l.type.create(null,c)))),u?3:1,0),f=o.start,h=o.end;n(e.tr.step(new st(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function Ec(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Oc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const d=a(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],a=!!e,u=e||o.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...v)=>{const b=this.buildProps(u,n),m=h(...v)(b);return l.push(m),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l={tr:e,editor:i,view:s,state:Ec({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class A4{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ce(t,e,n){return t.config[e]===void 0&&t.parent?ce(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ce(t.parent,e,n):null}):t.config[e]}function kc(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function EE(t){const e=[],{nodeExtensions:n,markExtensions:r}=kc(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=ce(s,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...o,...h}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=ce(s,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:c,attribute:f})})}),e}function at(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Qe(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const l=o?o.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(c=>!a.includes(c));r[i]=[...a,...u].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function bh(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Qe(n,r),{})}function OE(t){return typeof t=="function"}function Se(t,e=void 0,...n){return OE(t)?e?t.bind(e)(...n):t(...n):t}function _4(t={}){return Object.keys(t).length===0&&t.constructor===Object}function C4(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Kv(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):C4(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function Gv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&_4(n)?!1:n!=null))}function N4(t,e){var n;const r=EE(t),{nodeExtensions:i,markExtensions:o}=kc(t),s=(n=i.find(u=>ce(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(m=>m.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((m,y)=>{const w=ce(y,"extendNodeSchema",d);return{...m,...w?w(u):{}}},{}),h=Gv({...f,content:Se(ce(u,"content",d)),marks:Se(ce(u,"marks",d)),group:Se(ce(u,"group",d)),inline:Se(ce(u,"inline",d)),atom:Se(ce(u,"atom",d)),selectable:Se(ce(u,"selectable",d)),draggable:Se(ce(u,"draggable",d)),code:Se(ce(u,"code",d)),defining:Se(ce(u,"defining",d)),isolating:Se(ce(u,"isolating",d)),attrs:Object.fromEntries(c.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Se(ce(u,"parseHTML",d));p&&(h.parseDOM=p.map(m=>Kv(m,c)));const v=ce(u,"renderHTML",d);v&&(h.toDOM=m=>v({node:m,HTMLAttributes:bh(m,c)}));const b=ce(u,"renderText",d);return b&&(h.toText=b),[u.name,h]})),a=Object.fromEntries(o.map(u=>{const c=r.filter(b=>b.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((b,m)=>{const y=ce(m,"extendMarkSchema",d);return{...b,...y?y(u):{}}},{}),h=Gv({...f,inclusive:Se(ce(u,"inclusive",d)),excludes:Se(ce(u,"excludes",d)),group:Se(ce(u,"group",d)),spanning:Se(ce(u,"spanning",d)),code:Se(ce(u,"code",d)),attrs:Object.fromEntries(c.map(b=>{var m;return[b.name,{default:(m=b==null?void 0:b.attribute)===null||m===void 0?void 0:m.default}]}))}),p=Se(ce(u,"parseHTML",d));p&&(h.parseDOM=p.map(b=>Kv(b,c)));const v=ce(u,"renderHTML",d);return v&&(h.toDOM=b=>v({mark:b,HTMLAttributes:bh(b,c)})),[u.name,h]}));return new j$({topNode:s,nodes:l,marks:a})}function If(t,e){return e.nodes[t]||e.marks[t]||null}function Jv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const M4=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-o))}),n};function lm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class xc{constructor(e){this.find=e.find,this.handler=e.handler}}const P4=(t,e)=>{if(lm(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Df(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=M4(u)+o;return s.forEach(f=>{if(c)return;const h=P4(d,f.find);if(!h)return;const p=a.state.tr,v=Ec({state:a.state,transaction:p}),b={from:r-(h[0].length-o.length),to:i},{commands:m,chain:y,can:w}=new Oc({editor:n,state:v});f.handler({state:v,range:b,match:h,commands:m,chain:y,can:w})===null||!p.steps.length||(p.setMeta(l,{transform:p,from:r,to:i,text:o}),a.dispatch(p),c=!0)}),c}function R4(t){const{editor:e,rules:n}=t,r=new rn({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return Df({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Df({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Df({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function L4(t){return typeof t=="number"}class I4{constructor(e){this.find=e.find,this.handler=e.handler}}const D4=(t,e)=>{if(lm(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function $4(t){const{editor:e,state:n,from:r,to:i,rule:o}=t,{commands:s,chain:l,can:a}=new Oc({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,i,(d,f)=>{if(!d.isTextblock||d.type.spec.code)return;const h=Math.max(r,f),p=Math.min(i,f+d.content.size),v=d.textBetween(h-f,p-f,void 0,"");D4(v,o.find).forEach(m=>{if(m.index===void 0)return;const y=h+m.index+1,w=y+m[0].length,g={from:n.tr.mapping.map(y),to:n.tr.mapping.map(w)},S=o.handler({state:n,range:g,match:m,commands:s,chain:l,can:a});u.push(S)})}),u.every(d=>d!==null)}function j4(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1;return n.map(l=>new rn({view(a){const u=c=>{var d;r=!((d=a.dom.parentElement)===null||d===void 0)&&d.contains(c.target)?a.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:a=>(o=r===a.dom.parentElement,!1),paste:(a,u)=>{var c;const d=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return i=!!(d!=null&&d.includes("data-pm-slice")),!1}}},appendTransaction:(a,u,c)=>{const d=a[0],f=d.getMeta("uiEvent")==="paste"&&!i,h=d.getMeta("uiEvent")==="drop"&&!o;if(!f&&!h)return;const p=u.doc.content.findDiffStart(c.doc.content),v=u.doc.content.findDiffEnd(c.doc.content);if(!L4(p)||!v||p===v.b)return;const b=c.tr,m=Ec({state:c,transaction:b});if(!(!$4({editor:e,state:m,from:Math.max(p-1,0),to:v.b-1,rule:l})||!b.steps.length))return b}}))}function B4(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class co{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=co.resolve(e),this.schema=N4(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:If(r.name,this.schema)};r.type==="mark"&&(!((i=Se(ce(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=ce(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=ce(r,"onCreate",o);l&&this.editor.on("create",l);const a=ce(r,"onUpdate",o);a&&this.editor.on("update",a);const u=ce(r,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);const c=ce(r,"onTransaction",o);c&&this.editor.on("transaction",c);const d=ce(r,"onFocus",o);d&&this.editor.on("focus",d);const f=ce(r,"onBlur",o);f&&this.editor.on("blur",f);const h=ce(r,"onDestroy",o);h&&this.editor.on("destroy",h)})}static resolve(e){const n=co.sort(co.flatten(e)),r=B4(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ce(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=ce(r,"priority")||100,s=ce(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:If(n.name,this.schema)},i=ce(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=co.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:If(s.name,this.schema)},a=[],u=ce(s,"addKeyboardShortcuts",l);let c={};if(s.type==="mark"&&s.config.exitable&&(c.ArrowRight=()=>Gn.handleExit({editor:e,mark:s})),u){const v=Object.fromEntries(Object.entries(u()).map(([b,m])=>[b,()=>m({editor:e})]));c={...c,...v}}const d=t4(c);a.push(d);const f=ce(s,"addInputRules",l);Jv(s,e.options.enableInputRules)&&f&&r.push(...f());const h=ce(s,"addPasteRules",l);Jv(s,e.options.enablePasteRules)&&h&&i.push(...h());const p=ce(s,"addProseMirrorPlugins",l);if(p){const v=p();a.push(...v)}return a}).flat();return[R4({editor:e,rules:r}),...j4({editor:e,rules:i}),...o]}get attributes(){return EE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=kc(this.extensions);return Object.fromEntries(n.filter(r=>!!ce(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:at(r.name,this.schema)},s=ce(r,"addNodeView",o);if(!s)return[];const l=(a,u,c,d)=>{const f=bh(a,i);return s()({editor:e,node:a,getPos:c,decorations:d,HTMLAttributes:f,extension:r})};return[r.name,l]}))}}function F4(t){return Object.prototype.toString.call(t).slice(8,-1)}function $f(t){return F4(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Tc(t,e){const n={...t};return $f(t)&&$f(e)&&Object.keys(e).forEach(r=>{$f(e[r])?r in t?n[r]=Tc(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Xt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(ce(this,"addOptions",{name:this.name}))),this.storage=Se(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Xt(e)}configure(e={}){const n=this.extend();return n.options=Tc(this.options,e),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Xt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Se(ce(n,"addOptions",{name:n.name})),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function kE(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",a=!0;return t.nodesBetween(r,i,(u,c,d,f)=>{var h;const p=s==null?void 0:s[u.type.name];p?(u.isBlock&&!a&&(l+=o,a=!0),d&&(l+=p({node:u,pos:c,parent:d,index:f,range:e}))):u.isText?(l+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c),a=!1):u.isBlock&&!a&&(l+=o,a=!0)}),l}function xE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const z4=Xt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new rn({key:new Xn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),l=Math.max(...o.map(c=>c.$to.pos)),a=xE(n);return kE(r,{from:s,to:l},{textSerializers:a})}}})]}}),q4=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),U4=(t=!1)=>({commands:e})=>e.setContent("",t),V4=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(a)),f=u.resolve(c.map(a+l.nodeSize)),h=d.blockRange(f);if(!h)return;const p=ns(h);if(l.type.isTextblock){const{defaultType:v}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,v)}(p||p===0)&&e.lift(h,p)})}),!0},H4=t=>e=>t(e),W4=()=>({state:t,dispatch:e})=>p4(t,e),K4=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new we(r.doc.resolve(s-1))),!0},G4=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const l=i.before(o),a=i.after(o);t.delete(l,a).scrollIntoView()}return!0}return!1},J4=t=>({tr:e,state:n,dispatch:r})=>{const i=at(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const a=o.before(s),u=o.after(s);e.delete(a,u).scrollIntoView()}return!0}return!1},Y4=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Q4=()=>({state:t,dispatch:e})=>n4(t,e),X4=()=>({commands:t})=>t.keyboardShortcut("Enter"),Z4=()=>({state:t,dispatch:e})=>h4(t,e);function gu(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:lm(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function wh(t,e,n={}){return t.find(r=>r.type===e&&gu(r.attrs,n))}function eF(t,e,n={}){return!!wh(t,e,n)}function am(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=wh([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,a=s+r.node.nodeSize;for(wh([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&eF([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function Zr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const tF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Zr(t,r.schema),{doc:s,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const d=am(a,o,e);if(d&&d.from<=u&&d.to>=c){const f=we.create(s,d.from,d.to);n.setSelection(f)}}return!0},nF=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function TE(t){return t instanceof we}function gi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function AE(t,e=null){if(!e)return null;const n=Ee.atStart(t),r=Ee.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?we.create(t,gi(0,i,o),gi(t.content.size,i,o)):we.create(t,gi(e,i,o),gi(e,i,o))}function um(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const rF=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{um()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!TE(n.state.selection))return s(),!0;const l=AE(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},iF=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),oF=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function Yv(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function yu(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?te.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),yu("",e,n)}if(typeof t=="string"){const r=Kp.fromSchema(e);return n.slice?r.parseSlice(Yv(t),n.parseOptions).content:r.parse(Yv(t),n.parseOptions)}return yu("",e,n)}function sF(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof dt||i instanceof st))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,a,u,c)=>{s===0&&(s=c)}),t.setSelection(Ee.near(t.doc.resolve(s),n))}const lF=t=>t.toString().startsWith("<"),aF=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=yu(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,c=!0;if((lF(s)?s:[s]).forEach(f=>{f.check(),u=u?f.isText&&f.marks.length===0:!1,c=c?f.isBlock:!1}),l===a&&c){const{parent:f}=r.doc.resolve(l);f.isTextblock&&!f.type.spec.code&&!f.childCount&&(l-=1,a+=1)}u?Array.isArray(e)?r.insertText(e.map(f=>f.text||"").join(""),l,a):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,a):r.insertText(e,l,a):r.replaceWith(l,a,s),n.updateSelection&&sF(r,r.steps.length-1,-1)}return!0},uF=()=>({state:t,dispatch:e})=>u4(t,e),cF=()=>({state:t,dispatch:e})=>c4(t,e),fF=()=>({state:t,dispatch:e})=>i4(t,e),dF=()=>({state:t,dispatch:e})=>l4(t,e),hF=()=>({tr:t,state:e,dispatch:n})=>{try{const r=gc(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},pF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=gc(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}};function cm(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function mF(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))um()||cm()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const gF=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=mF(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function pl(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?at(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);l.push({node:d,from:h,to:p})});const a=i-r,u=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>gu(d.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=a}const yF=(t,e={})=>({state:n,dispatch:r})=>{const i=at(t,n.schema);return pl(n,i,e)?f4(n,r):!1},vF=()=>({state:t,dispatch:e})=>m4(t,e),bF=t=>({state:e,dispatch:n})=>{const r=at(t,e.schema);return O4(r)(e,n)},wF=()=>({state:t,dispatch:e})=>d4(t,e);function Ac(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Qv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const SF=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Ac(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=at(t,r.schema)),l==="mark"&&(s=Zr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,Qv(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(d=>{s===d.type&&n.addMark(c,c+u.nodeSize,s.create(Qv(d.attrs,e)))})})}),!0):!1},EF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),OF=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),kF=()=>({state:t,dispatch:e})=>o4(t,e),xF=()=>({state:t,dispatch:e})=>a4(t,e),TF=()=>({state:t,dispatch:e})=>g4(t,e),AF=()=>({state:t,dispatch:e})=>b4(t,e),_F=()=>({state:t,dispatch:e})=>v4(t,e);function _E(t,e,n={}){return yu(t,e,{slice:!1,parseOptions:n})}const CF=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=_E(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function _c(t,e){const n=Zr(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function NF(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function MF(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function fm(t){return e=>MF(e.$from,t)}function PF(t,e){const n=zn.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function RF(t,e){const n={from:0,to:t.content.size};return kE(t,n,e)}function LF(t,e){const n=at(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function IF(t,e){const n=Ac(typeof e=="string"?e:e.name,t.schema);return n==="node"?LF(t,e):n==="mark"?_c(t,e):{}}function CE(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=am(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Oa(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Sh(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Zr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>gu(d.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(v,b)=>{if(!v.isText&&!v.marks.length)return;const m=Math.max(h,b),y=Math.min(p,b+v.nodeSize),w=y-m;s+=w,l.push(...v.marks.map(g=>({mark:g,from:m,to:y})))})}),s===0)return!1;const a=l.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>gu(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=l.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+u:a)>=s}function DF(t,e,n={}){if(!e)return pl(t,null,n)||Sh(t,null,n);const r=Ac(e,t.schema);return r==="node"?pl(t,e,n):r==="mark"?Sh(t,e,n):!1}function Xv(t,e){const{nodeExtensions:n}=kc(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Se(ce(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function $F(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function jF(t,e,n){var r;const{selection:i}=e;let o=null;if(TE(i)&&(o=i.$cursor),o){const l=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(c.marks)||!c.marks.some(v=>v.type.excludes(n));u=h&&p}return!u}),u})}const BF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,a=Zr(t,r.schema);if(i)if(s){const u=_c(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{const p=Math.max(h,c),v=Math.min(h+f.nodeSize,d);f.marks.find(m=>m.type===a)?f.marks.forEach(m=>{a===m.type&&n.addMark(p,v,a.create({...m.attrs,...e}))}):n.addMark(p,v,a.create(e))})});return jF(r,n,a)},FF=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),zF=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=at(t,n.schema);return o.isTextblock?i().command(({commands:s})=>Wv(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>Wv(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},qF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=gi(t,0,r.content.size),o=me.create(r,i);e.setSelection(o)}return!0},UF=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=we.atStart(r).from,l=we.atEnd(r).to,a=gi(i,s,l),u=gi(o,s,l),c=we.create(r,a,u);e.setSelection(c)}return!0},VF=t=>({state:e,dispatch:n})=>{const r=at(t,e.schema);return T4(r)(e,n)};function Zv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const HF=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:a}=o,u=i.extensionManager.attributes,c=Oa(u,l.node().type.name,l.node().attrs);if(o instanceof me&&o.node.isBlock)return!l.parentOffset||!bo(s,l.pos)?!1:(r&&(t&&Zv(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const d=a.parentOffset===a.parent.content.size;o instanceof we&&e.deleteSelection();const f=l.depth===0?void 0:NF(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=d&&f?[{type:f,attrs:c}]:void 0,p=bo(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!p&&bo(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:c}]:void 0),p&&(e.split(e.mapping.map(l.pos),1,h),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const v=e.mapping.map(l.before()),b=e.doc.resolve(v);l.node(-1).canReplaceWith(b.index(),b.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&Zv(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},WF=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=at(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==s)return!1;const d=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let b=te.empty;const m=l.index(-1)?1:l.index(-2)?2:3;for(let O=l.depth-m;O>=l.depth-3;O-=1)b=te.from(l.node(O).copy(b));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,w=Oa(d,l.node().type.name,l.node().attrs),g=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(w))||void 0;b=b.append(te.from(s.createAndFill(null,g)||void 0));const S=l.before(l.depth-(m-1));e.replace(S,l.after(-y),new le(b,4-m,0));let E=-1;e.doc.nodesBetween(S,e.doc.content.size,(O,k)=>{if(E>-1)return!1;O.isTextblock&&O.content.size===0&&(E=k+1)}),E>-1&&e.setSelection(we.near(e.doc.resolve(E))),e.scrollIntoView()}return!0}const f=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,h=Oa(d,c.type.name,c.attrs),p=Oa(d,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const v=f?[{type:s,attrs:h},{type:f,attrs:p}]:[{type:s,attrs:h}];if(!bo(e.doc,l.pos,2))return!1;if(r){const{selection:b,storedMarks:m}=n,{splittableMarks:y}=i.extensionManager,w=m||b.$to.parentOffset&&b.$from.marks();if(e.split(l.pos,2,v).scrollIntoView(),!w||!r)return!0;const g=w.filter(S=>y.includes(S.type.name));e.ensureMarks(g)}return!0},jf=(t,e)=>{const n=fm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Qr(t.doc,n.pos)&&t.join(n.pos),!0},Bf=(t,e)=>{const n=fm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Qr(t.doc,r)&&t.join(r),!0},KF=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=at(t,s.schema),p=at(e,s.schema),{selection:v,storedMarks:b}=s,{$from:m,$to:y}=v,w=m.blockRange(y),g=b||v.$to.parentOffset&&v.$from.marks();if(!w)return!1;const S=fm(E=>Xv(E.type.name,d))(v);if(w.depth>=1&&S&&w.depth-S.depth<=1){if(S.node.type===h)return u.liftListItem(p);if(Xv(S.node.type.name,d)&&h.validContent(S.node.content)&&l)return a().command(()=>(o.setNodeMarkup(S.pos,h),!0)).command(()=>jf(o,h)).command(()=>Bf(o,h)).run()}return!n||!g||!l?a().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>jf(o,h)).command(()=>Bf(o,h)).run():a().command(()=>{const E=c().wrapInList(h,r),O=g.filter(k=>f.includes(k.type.name));return o.ensureMarks(O),E?!0:u.clearNodes()}).wrapInList(h,r).command(()=>jf(o,h)).command(()=>Bf(o,h)).run()},GF=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Zr(t,r.schema);return Sh(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},JF=(t,e,n={})=>({state:r,commands:i})=>{const o=at(t,r.schema),s=at(e,r.schema);return pl(r,o,n)?i.setNode(s):i.setNode(o,n)},YF=(t,e={})=>({state:n,commands:r})=>{const i=at(t,n.schema);return pl(n,i,e)?r.lift(i):r.wrapIn(i,e)},QF=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to)}return!0}}return!1},XF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},ZF=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=Zr(t,r.schema),{$from:u,empty:c,ranges:d}=l;if(!i)return!0;if(c&&s){let{from:f,to:h}=l;const p=(o=u.marks().find(b=>b.type===a))===null||o===void 0?void 0:o.attrs,v=am(u,a,p);v&&(f=v.from,h=v.to),n.removeMark(f,h,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},e5=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Ac(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=at(t,r.schema)),l==="mark"&&(s=Zr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{o&&o===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(h=>{if(s===h.type){const p=Math.max(f,u),v=Math.min(f+d.nodeSize,c);n.addMark(p,v,s.create({...h.attrs,...e}))}})})}),!0):!1},t5=(t,e={})=>({state:n,dispatch:r})=>{const i=at(t,n.schema);return w4(i,e)(n,r)},n5=(t,e={})=>({state:n,dispatch:r})=>{const i=at(t,n.schema);return S4(i,e)(n,r)};var r5=Object.freeze({__proto__:null,blur:q4,clearContent:U4,clearNodes:V4,command:H4,createParagraphNear:W4,cut:K4,deleteCurrentNode:G4,deleteNode:J4,deleteRange:Y4,deleteSelection:Q4,enter:X4,exitCode:Z4,extendMarkRange:tF,first:nF,focus:rF,forEach:iF,insertContent:oF,insertContentAt:aF,joinUp:uF,joinDown:cF,joinBackward:fF,joinForward:dF,joinItemBackward:hF,joinItemForward:pF,keyboardShortcut:gF,lift:yF,liftEmptyBlock:vF,liftListItem:bF,newlineInCode:wF,resetAttributes:SF,scrollIntoView:EF,selectAll:OF,selectNodeBackward:kF,selectNodeForward:xF,selectParentNode:TF,selectTextblockEnd:AF,selectTextblockStart:_F,setContent:CF,setMark:BF,setMeta:FF,setNode:zF,setNodeSelection:qF,setTextSelection:UF,sinkListItem:VF,splitBlock:HF,splitListItem:WF,toggleList:KF,toggleMark:GF,toggleNode:JF,toggleWrap:YF,undoInputRule:QF,unsetAllMarks:XF,unsetMark:ZF,updateAttributes:e5,wrapIn:t5,wrapInList:n5});const i5=Xt.create({name:"commands",addCommands(){return{...r5}}}),o5=Xt.create({name:"editable",addProseMirrorPlugins(){return[new rn({key:new Xn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),s5=Xt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new rn({key:new Xn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),l5=Xt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:d}=a,{pos:f,parent:h}=d,p=d.parent.isTextblock?l.doc.resolve(f-1):d,v=p.parent.type.spec.isolating,b=d.pos-d.parentOffset,m=v&&p.parent.childCount===1?b===d.pos:Ee.atStart(u).from===f;return!c||!m||!h.type.isTextblock||h.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return um()||cm()?o:i},addProseMirrorPlugins(){return[new rn({key:new Xn("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(p=>p.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=Ee.atStart(e.doc).from,a=Ee.atEnd(e.doc).to;if(i||!(o===l&&s===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const d=n.tr,f=Ec({state:n,transaction:d}),{commands:h}=new Oc({editor:this.editor,state:f});if(h.clearNodes(),!!d.steps.length)return d}})]}}),a5=Xt.create({name:"tabindex",addProseMirrorPlugins(){return[new rn({key:new Xn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var u5=Object.freeze({__proto__:null,ClipboardTextSerializer:z4,Commands:i5,Editable:o5,FocusEvents:s5,Keymap:l5,Tabindex:a5});const c5=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function f5(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let d5=class extends A4{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=f5(c5,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=OE(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(u5):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new co(n,this)}createCommandManager(){this.commandManager=new Oc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=_E(this.options.content,this.schema,this.options.parseOptions),n=AE(e,this.options.autofocus);this.view=new WB(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:uo.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return IF(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return DF(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return PF(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return RF(this.state.doc,{blockSeparator:n,textSerializers:{...xE(this.schema),...r}})}get isEmpty(){return $F(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Do(t){return new xc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Se(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];if(s){const a=l.search(/\S/),u=n.from+l.indexOf(s),c=u+s.length;if(CE(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+a,u);const f=n.from+a+s.length;o.addMark(n.from+a,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function h5(t){return new xc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Se(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let l=n.to;const a=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=s+u;c>l?c=l:l=c+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(c,l,a)}else r[0]&&o.insert(s-1,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(l));o.scrollIntoView()}})}function Eh(t){return new xc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Se(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function ml(t){return new xc({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=Se(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),u=a&&Jp(a,t.type,o);if(!u)return null;if(s.wrap(a,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const v=p.filter(b=>h.includes(b.type.name));s.ensureMarks(v)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&Qr(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&s.join(n.from-1)}})}class Gn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(ce(this,"addOptions",{name:this.name}))),this.storage=Se(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Gn(e)}configure(e={}){const n=this.extend();return n.options=Tc(this.options,e),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Gn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Se(ce(n,"addOptions",{name:n.name})),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=s.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}let zt=class Oh{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(ce(this,"addOptions",{name:this.name}))),this.storage=Se(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Oh(e)}configure(e={}){const n=this.extend();return n.options=Tc(this.options,e),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Oh(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Se(ce(n,"addOptions",{name:n.name})),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}};function $o(t){return new I4({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Se(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];let a=n.to;if(s){const u=l.search(/\S/),c=n.from+l.indexOf(s),d=c+s.length;if(CE(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(v=>v===t.type&&v!==h.mark.type)).filter(h=>h.to>c).length)return null;d<n.to&&o.delete(d,n.to),c>n.from&&o.delete(n.from+u,c),a=n.from+u+s.length,o.addMark(n.from+u,a,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function p5(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var jt="top",bn="bottom",wn="right",Bt="left",dm="auto",_l=[jt,bn,wn,Bt],jo="start",gl="end",m5="clippingParents",NE="viewport",ys="popper",g5="reference",e0=_l.reduce(function(t,e){return t.concat([e+"-"+jo,e+"-"+gl])},[]),ME=[].concat(_l,[dm]).reduce(function(t,e){return t.concat([e,e+"-"+jo,e+"-"+gl])},[]),y5="beforeRead",v5="read",b5="afterRead",w5="beforeMain",S5="main",E5="afterMain",O5="beforeWrite",k5="write",x5="afterWrite",T5=[y5,v5,b5,w5,S5,E5,O5,k5,x5];function Jn(t){return t?(t.nodeName||"").toLowerCase():null}function Zt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Di(t){var e=Zt(t).Element;return t instanceof e||t instanceof Element}function gn(t){var e=Zt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function hm(t){if(typeof ShadowRoot>"u")return!1;var e=Zt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function A5(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!gn(o)||!Jn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function _5(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=s.reduce(function(a,u){return a[u]="",a},{});!gn(i)||!Jn(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(a){i.removeAttribute(a)}))})}}const PE={name:"applyStyles",enabled:!0,phase:"write",fn:A5,effect:_5,requires:["computeStyles"]};function Hn(t){return t.split("-")[0]}var Ti=Math.max,vu=Math.min,Bo=Math.round;function kh(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function RE(){return!/^((?!chrome|android).)*safari/i.test(kh())}function Fo(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&gn(t)&&(i=t.offsetWidth>0&&Bo(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Bo(r.height)/t.offsetHeight||1);var s=Di(t)?Zt(t):window,l=s.visualViewport,a=!RE()&&n,u=(r.left+(a&&l?l.offsetLeft:0))/i,c=(r.top+(a&&l?l.offsetTop:0))/o,d=r.width/i,f=r.height/o;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function pm(t){var e=Fo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function LE(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&hm(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function dr(t){return Zt(t).getComputedStyle(t)}function C5(t){return["table","td","th"].indexOf(Jn(t))>=0}function ei(t){return((Di(t)?t.ownerDocument:t.document)||window.document).documentElement}function Cc(t){return Jn(t)==="html"?t:t.assignedSlot||t.parentNode||(hm(t)?t.host:null)||ei(t)}function t0(t){return!gn(t)||dr(t).position==="fixed"?null:t.offsetParent}function N5(t){var e=/firefox/i.test(kh()),n=/Trident/i.test(kh());if(n&&gn(t)){var r=dr(t);if(r.position==="fixed")return null}var i=Cc(t);for(hm(i)&&(i=i.host);gn(i)&&["html","body"].indexOf(Jn(i))<0;){var o=dr(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Cl(t){for(var e=Zt(t),n=t0(t);n&&C5(n)&&dr(n).position==="static";)n=t0(n);return n&&(Jn(n)==="html"||Jn(n)==="body"&&dr(n).position==="static")?e:n||N5(t)||e}function mm(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Bs(t,e,n){return Ti(t,vu(e,n))}function M5(t,e,n){var r=Bs(t,e,n);return r>n?n:r}function IE(){return{top:0,right:0,bottom:0,left:0}}function DE(t){return Object.assign({},IE(),t)}function $E(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var P5=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,DE(typeof e!="number"?e:$E(e,_l))};function R5(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=Hn(n.placement),a=mm(l),u=[Bt,wn].indexOf(l)>=0,c=u?"height":"width";if(!(!o||!s)){var d=P5(i.padding,n),f=pm(o),h=a==="y"?jt:Bt,p=a==="y"?bn:wn,v=n.rects.reference[c]+n.rects.reference[a]-s[a]-n.rects.popper[c],b=s[a]-n.rects.reference[a],m=Cl(o),y=m?a==="y"?m.clientHeight||0:m.clientWidth||0:0,w=v/2-b/2,g=d[h],S=y-f[c]-d[p],E=y/2-f[c]/2+w,O=Bs(g,E,S),k=a;n.modifiersData[r]=(e={},e[k]=O,e.centerOffset=O-E,e)}}function L5(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||LE(e.elements.popper,i)&&(e.elements.arrow=i))}const I5={name:"arrow",enabled:!0,phase:"main",fn:R5,effect:L5,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zo(t){return t.split("-")[1]}var D5={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $5(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Bo(n*i)/i||0,y:Bo(r*i)/i||0}}function n0(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,a=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=s.x,h=f===void 0?0:f,p=s.y,v=p===void 0?0:p,b=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=b.x,v=b.y;var m=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=Bt,g=jt,S=window;if(u){var E=Cl(n),O="clientHeight",k="clientWidth";if(E===Zt(n)&&(E=ei(n),dr(E).position!=="static"&&l==="absolute"&&(O="scrollHeight",k="scrollWidth")),E=E,i===jt||(i===Bt||i===wn)&&o===gl){g=bn;var _=d&&E===S&&S.visualViewport?S.visualViewport.height:E[O];v-=_-r.height,v*=a?1:-1}if(i===Bt||(i===jt||i===bn)&&o===gl){w=wn;var T=d&&E===S&&S.visualViewport?S.visualViewport.width:E[k];h-=T-r.width,h*=a?1:-1}}var x=Object.assign({position:l},u&&D5),A=c===!0?$5({x:h,y:v},Zt(n)):{x:h,y:v};if(h=A.x,v=A.y,a){var N;return Object.assign({},x,(N={},N[g]=y?"0":"",N[w]=m?"0":"",N.transform=(S.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",N))}return Object.assign({},x,(e={},e[g]=y?v+"px":"",e[w]=m?h+"px":"",e.transform="",e))}function j5(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,a=l===void 0?!0:l,u={placement:Hn(e.placement),variation:zo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,n0(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,n0(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const B5={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:j5,data:{}};var ta={passive:!0};function F5(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,a=Zt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,ta)}),l&&a.addEventListener("resize",n.update,ta),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,ta)}),l&&a.removeEventListener("resize",n.update,ta)}}const z5={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:F5,data:{}};var q5={left:"right",right:"left",bottom:"top",top:"bottom"};function ka(t){return t.replace(/left|right|bottom|top/g,function(e){return q5[e]})}var U5={start:"end",end:"start"};function r0(t){return t.replace(/start|end/g,function(e){return U5[e]})}function gm(t){var e=Zt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ym(t){return Fo(ei(t)).left+gm(t).scrollLeft}function V5(t,e){var n=Zt(t),r=ei(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;var u=RE();(u||!u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l+ym(t),y:a}}function H5(t){var e,n=ei(t),r=gm(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Ti(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ti(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+ym(t),a=-r.scrollTop;return dr(i||n).direction==="rtl"&&(l+=Ti(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:a}}function vm(t){var e=dr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function jE(t){return["html","body","#document"].indexOf(Jn(t))>=0?t.ownerDocument.body:gn(t)&&vm(t)?t:jE(Cc(t))}function Fs(t,e){var n;e===void 0&&(e=[]);var r=jE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Zt(r),s=i?[o].concat(o.visualViewport||[],vm(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(Fs(Cc(s)))}function xh(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function W5(t,e){var n=Fo(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function i0(t,e,n){return e===NE?xh(V5(t,n)):Di(e)?W5(e,n):xh(H5(ei(t)))}function K5(t){var e=Fs(Cc(t)),n=["absolute","fixed"].indexOf(dr(t).position)>=0,r=n&&gn(t)?Cl(t):t;return Di(r)?e.filter(function(i){return Di(i)&&LE(i,r)&&Jn(i)!=="body"}):[]}function G5(t,e,n,r){var i=e==="clippingParents"?K5(t):[].concat(e),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(a,u){var c=i0(t,u,r);return a.top=Ti(c.top,a.top),a.right=vu(c.right,a.right),a.bottom=vu(c.bottom,a.bottom),a.left=Ti(c.left,a.left),a},i0(t,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function BE(t){var e=t.reference,n=t.element,r=t.placement,i=r?Hn(r):null,o=r?zo(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,a;switch(i){case jt:a={x:s,y:e.y-n.height};break;case bn:a={x:s,y:e.y+e.height};break;case wn:a={x:e.x+e.width,y:l};break;case Bt:a={x:e.x-n.width,y:l};break;default:a={x:e.x,y:e.y}}var u=i?mm(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case jo:a[u]=a[u]-(e[c]/2-n[c]/2);break;case gl:a[u]=a[u]+(e[c]/2-n[c]/2);break}}return a}function yl(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,l=n.boundary,a=l===void 0?m5:l,u=n.rootBoundary,c=u===void 0?NE:u,d=n.elementContext,f=d===void 0?ys:d,h=n.altBoundary,p=h===void 0?!1:h,v=n.padding,b=v===void 0?0:v,m=DE(typeof b!="number"?b:$E(b,_l)),y=f===ys?g5:ys,w=t.rects.popper,g=t.elements[p?y:f],S=G5(Di(g)?g:g.contextElement||ei(t.elements.popper),a,c,s),E=Fo(t.elements.reference),O=BE({reference:E,element:w,strategy:"absolute",placement:i}),k=xh(Object.assign({},w,O)),_=f===ys?k:E,T={top:S.top-_.top+m.top,bottom:_.bottom-S.bottom+m.bottom,left:S.left-_.left+m.left,right:_.right-S.right+m.right},x=t.modifiersData.offset;if(f===ys&&x){var A=x[i];Object.keys(T).forEach(function(N){var M=[wn,bn].indexOf(N)>=0?1:-1,I=[jt,bn].indexOf(N)>=0?"y":"x";T[N]+=A[I]*M})}return T}function J5(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,a=n.allowedAutoPlacements,u=a===void 0?ME:a,c=zo(r),d=c?l?e0:e0.filter(function(p){return zo(p)===c}):_l,f=d.filter(function(p){return u.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,v){return p[v]=yl(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[Hn(v)],p},{});return Object.keys(h).sort(function(p,v){return h[p]-h[v]})}function Y5(t){if(Hn(t)===dm)return[];var e=ka(t);return[r0(t),e,r0(e)]}function Q5(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,a=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,v=n.allowedAutoPlacements,b=e.options.placement,m=Hn(b),y=m===b,w=a||(y||!p?[ka(b)]:Y5(b)),g=[b].concat(w).reduce(function(V,z){return V.concat(Hn(z)===dm?J5(e,{placement:z,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:v}):z)},[]),S=e.rects.reference,E=e.rects.popper,O=new Map,k=!0,_=g[0],T=0;T<g.length;T++){var x=g[T],A=Hn(x),N=zo(x)===jo,M=[jt,bn].indexOf(A)>=0,I=M?"width":"height",F=yl(e,{placement:x,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),q=M?N?wn:Bt:N?bn:jt;S[I]>E[I]&&(q=ka(q));var U=ka(q),j=[];if(o&&j.push(F[A]<=0),l&&j.push(F[q]<=0,F[U]<=0),j.every(function(V){return V})){_=x,k=!1;break}O.set(x,j)}if(k)for(var L=p?3:1,C=function(z){var P=g.find(function(B){var H=O.get(B);if(H)return H.slice(0,z).every(function(W){return W})});if(P)return _=P,"break"},R=L;R>0;R--){var D=C(R);if(D==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}const X5={name:"flip",enabled:!0,phase:"main",fn:Q5,requiresIfExists:["offset"],data:{_skip:!1}};function o0(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function s0(t){return[jt,wn,bn,Bt].some(function(e){return t[e]>=0})}function Z5(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=yl(e,{elementContext:"reference"}),l=yl(e,{altBoundary:!0}),a=o0(s,r),u=o0(l,i,o),c=s0(a),d=s0(u);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const ez={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Z5};function tz(t,e,n){var r=Hn(t),i=[Bt,jt].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[Bt,wn].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function nz(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=ME.reduce(function(c,d){return c[d]=tz(d,e.rects,o),c},{}),l=s[e.placement],a=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const rz={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nz};function iz(t){var e=t.state,n=t.name;e.modifiersData[n]=BE({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const oz={name:"popperOffsets",enabled:!0,phase:"read",fn:iz,data:{}};function sz(t){return t==="x"?"y":"x"}function lz(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,a=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,h=f===void 0?!0:f,p=n.tetherOffset,v=p===void 0?0:p,b=yl(e,{boundary:a,rootBoundary:u,padding:d,altBoundary:c}),m=Hn(e.placement),y=zo(e.placement),w=!y,g=mm(m),S=sz(g),E=e.modifiersData.popperOffsets,O=e.rects.reference,k=e.rects.popper,_=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,T=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(E){if(o){var N,M=g==="y"?jt:Bt,I=g==="y"?bn:wn,F=g==="y"?"height":"width",q=E[g],U=q+b[M],j=q-b[I],L=h?-k[F]/2:0,C=y===jo?O[F]:k[F],R=y===jo?-k[F]:-O[F],D=e.elements.arrow,V=h&&D?pm(D):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:IE(),P=z[M],B=z[I],H=Bs(0,O[F],V[F]),W=w?O[F]/2-L-H-P-T.mainAxis:C-H-P-T.mainAxis,Q=w?-O[F]/2+L+H+B+T.mainAxis:R+H+B+T.mainAxis,se=e.elements.arrow&&Cl(e.elements.arrow),he=se?g==="y"?se.clientTop||0:se.clientLeft||0:0,pe=(N=x==null?void 0:x[g])!=null?N:0,be=q+W-pe-he,Oe=q+Q-pe,Ve=Bs(h?vu(U,be):U,q,h?Ti(j,Oe):j);E[g]=Ve,A[g]=Ve-q}if(l){var Pe,K=g==="x"?jt:Bt,J=g==="x"?bn:wn,ie=E[S],oe=S==="y"?"height":"width",$=ie+b[K],Z=ie-b[J],ee=[jt,Bt].indexOf(m)!==-1,ne=(Pe=x==null?void 0:x[S])!=null?Pe:0,de=ee?$:ie-O[oe]-k[oe]-ne+T.altAxis,ve=ee?ie+O[oe]+k[oe]-ne-T.altAxis:Z,ge=h&&ee?M5(de,ie,ve):Bs(h?de:$,ie,h?ve:Z);E[S]=ge,A[S]=ge-ie}e.modifiersData[r]=A}}const az={name:"preventOverflow",enabled:!0,phase:"main",fn:lz,requiresIfExists:["offset"]};function uz(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function cz(t){return t===Zt(t)||!gn(t)?gm(t):uz(t)}function fz(t){var e=t.getBoundingClientRect(),n=Bo(e.width)/t.offsetWidth||1,r=Bo(e.height)/t.offsetHeight||1;return n!==1||r!==1}function dz(t,e,n){n===void 0&&(n=!1);var r=gn(e),i=gn(e)&&fz(e),o=ei(e),s=Fo(t,i,n),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((Jn(e)!=="body"||vm(o))&&(l=cz(e)),gn(e)?(a=Fo(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):o&&(a.x=ym(o))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function hz(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var a=e.get(l);a&&i(a)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function pz(t){var e=hz(t);return T5.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function mz(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function gz(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var l0={placement:"bottom",modifiers:[],strategy:"absolute"};function a0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function yz(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?l0:i;return function(l,a,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},l0,o),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;v(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:Di(l)?Fs(l):l.contextElement?Fs(l.contextElement):[],popper:Fs(a)};var w=pz(gz([].concat(r,c.options.modifiers)));return c.orderedModifiers=w.filter(function(g){return g.enabled}),p(),h.update()},forceUpdate:function(){if(!f){var m=c.elements,y=m.reference,w=m.popper;if(a0(y,w)){c.rects={reference:dz(y,Cl(w),c.options.strategy==="fixed"),popper:pm(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var g=0;g<c.orderedModifiers.length;g++){if(c.reset===!0){c.reset=!1,g=-1;continue}var S=c.orderedModifiers[g],E=S.fn,O=S.options,k=O===void 0?{}:O,_=S.name;typeof E=="function"&&(c=E({state:c,options:k,name:_,instance:h})||c)}}}},update:mz(function(){return new Promise(function(b){h.forceUpdate(),b(c)})}),destroy:function(){v(),f=!0}};if(!a0(l,a))return h;h.setOptions(u).then(function(b){!f&&u.onFirstUpdate&&u.onFirstUpdate(b)});function p(){c.orderedModifiers.forEach(function(b){var m=b.name,y=b.options,w=y===void 0?{}:y,g=b.effect;if(typeof g=="function"){var S=g({state:c,name:m,instance:h,options:w}),E=function(){};d.push(S||E)}})}function v(){d.forEach(function(b){return b()}),d=[]}return h}}var vz=[z5,oz,B5,PE,rz,X5,az,I5,ez],bz=yz({defaultModifiers:vz}),wz="tippy-box",FE="tippy-content",Sz="tippy-backdrop",zE="tippy-arrow",qE="tippy-svg-arrow",ai={passive:!0,capture:!0},UE=function(){return document.body};function Ff(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function bm(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function VE(t,e){return typeof t=="function"?t.apply(void 0,e):t}function u0(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Ez(t){return t.split(/\s+/).filter(Boolean)}function Yi(t){return[].concat(t)}function c0(t,e){t.indexOf(e)===-1&&t.push(e)}function Oz(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function kz(t){return t.split("-")[0]}function bu(t){return[].slice.call(t)}function f0(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function zs(){return document.createElement("div")}function Nc(t){return["Element","Fragment"].some(function(e){return bm(t,e)})}function xz(t){return bm(t,"NodeList")}function Tz(t){return bm(t,"MouseEvent")}function Az(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function _z(t){return Nc(t)?[t]:xz(t)?bu(t):Array.isArray(t)?t:bu(document.querySelectorAll(t))}function zf(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function d0(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Cz(t){var e,n=Yi(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Nz(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,a=l.interactiveBorder,u=kz(s.placement),c=s.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,f=u==="top"?c.bottom.y:0,h=u==="right"?c.left.x:0,p=u==="left"?c.right.x:0,v=o.top-r+d>a,b=r-o.bottom-f>a,m=o.left-n+h>a,y=n-o.right-p>a;return v||b||m||y})}function qf(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function h0(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var jn={isTouch:!1},p0=0;function Mz(){jn.isTouch||(jn.isTouch=!0,window.performance&&document.addEventListener("mousemove",HE))}function HE(){var t=performance.now();t-p0<20&&(jn.isTouch=!1,document.removeEventListener("mousemove",HE)),p0=t}function Pz(){var t=document.activeElement;if(Az(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Rz(){document.addEventListener("touchstart",Mz,ai),window.addEventListener("blur",Pz)}var Lz=typeof window<"u"&&typeof document<"u",Iz=Lz?!!window.msCrypto:!1,Dz={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},$z={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},_n=Object.assign({appendTo:UE,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Dz,$z),jz=Object.keys(_n),Bz=function(e){var n=Object.keys(e);n.forEach(function(r){_n[r]=e[r]})};function WE(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var l;r[o]=t[o]!==void 0?t[o]:(l=_n[o])!=null?l:s}return r},{});return Object.assign({},t,n)}function Fz(t,e){var n=e?Object.keys(WE(Object.assign({},_n,{plugins:e}))):jz,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function m0(t,e){var n=Object.assign({},e,{content:VE(e.content,[t])},e.ignoreAttributes?{}:Fz(t,e.plugins));return n.aria=Object.assign({},_n.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var zz=function(){return"innerHTML"};function Th(t,e){t[zz()]=e}function g0(t){var e=zs();return t===!0?e.className=zE:(e.className=qE,Nc(t)?e.appendChild(t):Th(e,t)),e}function y0(t,e){Nc(e.content)?(Th(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Th(t,e.content):t.textContent=e.content)}function Ah(t){var e=t.firstElementChild,n=bu(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(FE)}),arrow:n.find(function(r){return r.classList.contains(zE)||r.classList.contains(qE)}),backdrop:n.find(function(r){return r.classList.contains(Sz)})}}function KE(t){var e=zs(),n=zs();n.className=wz,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=zs();r.className=FE,r.setAttribute("data-state","hidden"),y0(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var l=Ah(e),a=l.box,u=l.content,c=l.arrow;s.theme?a.setAttribute("data-theme",s.theme):a.removeAttribute("data-theme"),typeof s.animation=="string"?a.setAttribute("data-animation",s.animation):a.removeAttribute("data-animation"),s.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?a.setAttribute("role",s.role):a.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&y0(u,t.props),s.arrow?c?o.arrow!==s.arrow&&(a.removeChild(c),a.appendChild(g0(s.arrow))):a.appendChild(g0(s.arrow)):c&&a.removeChild(c)}return{popper:e,onUpdate:i}}KE.$$tippy=!0;var qz=1,na=[],Uf=[];function Uz(t,e){var n=m0(t,Object.assign({},_n,WE(f0(e)))),r,i,o,s=!1,l=!1,a=!1,u=!1,c,d,f,h=[],p=u0(be,n.interactiveDebounce),v,b=qz++,m=null,y=Oz(n.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},g={id:b,reference:t,popper:zs(),popperInstance:m,props:n,state:w,plugins:y,clearDelayTimeouts:de,setProps:ve,setContent:ge,show:qt,hide:Re,hideWithInteractivity:Mt,enable:ee,disable:ne,unmount:Mc,destroy:Sm};if(!n.render)return g;var S=n.render(g),E=S.popper,O=S.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+g.id,g.popper=E,t._tippy=g,E._tippy=g;var k=y.map(function(Y){return Y.fn(g)}),_=t.hasAttribute("aria-expanded");return se(),L(),q(),U("onCreate",[g]),n.showOnCreate&&$(),E.addEventListener("mouseenter",function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&M().addEventListener("mousemove",p)}),g;function T(){var Y=g.props.touch;return Array.isArray(Y)?Y:[Y,0]}function x(){return T()[0]==="hold"}function A(){var Y;return!!((Y=g.props.render)!=null&&Y.$$tippy)}function N(){return v||t}function M(){var Y=N().parentNode;return Y?Cz(Y):document}function I(){return Ah(E)}function F(Y){return g.state.isMounted&&!g.state.isVisible||jn.isTouch||c&&c.type==="focus"?0:Ff(g.props.delay,Y?0:1,_n.delay)}function q(Y){Y===void 0&&(Y=!1),E.style.pointerEvents=g.props.interactive&&!Y?"":"none",E.style.zIndex=""+g.props.zIndex}function U(Y,fe,ye){if(ye===void 0&&(ye=!0),k.forEach(function(xe){xe[Y]&&xe[Y].apply(xe,fe)}),ye){var _e;(_e=g.props)[Y].apply(_e,fe)}}function j(){var Y=g.props.aria;if(Y.content){var fe="aria-"+Y.content,ye=E.id,_e=Yi(g.props.triggerTarget||t);_e.forEach(function(xe){var Et=xe.getAttribute(fe);if(g.state.isVisible)xe.setAttribute(fe,Et?Et+" "+ye:ye);else{var on=Et&&Et.replace(ye,"").trim();on?xe.setAttribute(fe,on):xe.removeAttribute(fe)}})}}function L(){if(!(_||!g.props.aria.expanded)){var Y=Yi(g.props.triggerTarget||t);Y.forEach(function(fe){g.props.interactive?fe.setAttribute("aria-expanded",g.state.isVisible&&fe===N()?"true":"false"):fe.removeAttribute("aria-expanded")})}}function C(){M().removeEventListener("mousemove",p),na=na.filter(function(Y){return Y!==p})}function R(Y){if(!(jn.isTouch&&(a||Y.type==="mousedown"))){var fe=Y.composedPath&&Y.composedPath()[0]||Y.target;if(!(g.props.interactive&&h0(E,fe))){if(Yi(g.props.triggerTarget||t).some(function(ye){return h0(ye,fe)})){if(jn.isTouch||g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else U("onClickOutside",[g,Y]);g.props.hideOnClick===!0&&(g.clearDelayTimeouts(),g.hide(),l=!0,setTimeout(function(){l=!1}),g.state.isMounted||P())}}}function D(){a=!0}function V(){a=!1}function z(){var Y=M();Y.addEventListener("mousedown",R,!0),Y.addEventListener("touchend",R,ai),Y.addEventListener("touchstart",V,ai),Y.addEventListener("touchmove",D,ai)}function P(){var Y=M();Y.removeEventListener("mousedown",R,!0),Y.removeEventListener("touchend",R,ai),Y.removeEventListener("touchstart",V,ai),Y.removeEventListener("touchmove",D,ai)}function B(Y,fe){W(Y,function(){!g.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&fe()})}function H(Y,fe){W(Y,fe)}function W(Y,fe){var ye=I().box;function _e(xe){xe.target===ye&&(qf(ye,"remove",_e),fe())}if(Y===0)return fe();qf(ye,"remove",d),qf(ye,"add",_e),d=_e}function Q(Y,fe,ye){ye===void 0&&(ye=!1);var _e=Yi(g.props.triggerTarget||t);_e.forEach(function(xe){xe.addEventListener(Y,fe,ye),h.push({node:xe,eventType:Y,handler:fe,options:ye})})}function se(){x()&&(Q("touchstart",pe,{passive:!0}),Q("touchend",Oe,{passive:!0})),Ez(g.props.trigger).forEach(function(Y){if(Y!=="manual")switch(Q(Y,pe),Y){case"mouseenter":Q("mouseleave",Oe);break;case"focus":Q(Iz?"focusout":"blur",Ve);break;case"focusin":Q("focusout",Ve);break}})}function he(){h.forEach(function(Y){var fe=Y.node,ye=Y.eventType,_e=Y.handler,xe=Y.options;fe.removeEventListener(ye,_e,xe)}),h=[]}function pe(Y){var fe,ye=!1;if(!(!g.state.isEnabled||Pe(Y)||l)){var _e=((fe=c)==null?void 0:fe.type)==="focus";c=Y,v=Y.currentTarget,L(),!g.state.isVisible&&Tz(Y)&&na.forEach(function(xe){return xe(Y)}),Y.type==="click"&&(g.props.trigger.indexOf("mouseenter")<0||s)&&g.props.hideOnClick!==!1&&g.state.isVisible?ye=!0:$(Y),Y.type==="click"&&(s=!ye),ye&&!_e&&Z(Y)}}function be(Y){var fe=Y.target,ye=N().contains(fe)||E.contains(fe);if(!(Y.type==="mousemove"&&ye)){var _e=oe().concat(E).map(function(xe){var Et,on=xe._tippy,Ui=(Et=on.popperInstance)==null?void 0:Et.state;return Ui?{popperRect:xe.getBoundingClientRect(),popperState:Ui,props:n}:null}).filter(Boolean);Nz(_e,Y)&&(C(),Z(Y))}}function Oe(Y){var fe=Pe(Y)||g.props.trigger.indexOf("click")>=0&&s;if(!fe){if(g.props.interactive){g.hideWithInteractivity(Y);return}Z(Y)}}function Ve(Y){g.props.trigger.indexOf("focusin")<0&&Y.target!==N()||g.props.interactive&&Y.relatedTarget&&E.contains(Y.relatedTarget)||Z(Y)}function Pe(Y){return jn.isTouch?x()!==Y.type.indexOf("touch")>=0:!1}function K(){J();var Y=g.props,fe=Y.popperOptions,ye=Y.placement,_e=Y.offset,xe=Y.getReferenceClientRect,Et=Y.moveTransition,on=A()?Ah(E).arrow:null,Ui=xe?{getBoundingClientRect:xe,contextElement:xe.contextElement||N()}:t,Em={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ml){var Vi=Ml.state;if(A()){var iO=I(),Rc=iO.box;["placement","reference-hidden","escaped"].forEach(function(Pl){Pl==="placement"?Rc.setAttribute("data-placement",Vi.placement):Vi.attributes.popper["data-popper-"+Pl]?Rc.setAttribute("data-"+Pl,""):Rc.removeAttribute("data-"+Pl)}),Vi.attributes.popper={}}}},ti=[{name:"offset",options:{offset:_e}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Et}},Em];A()&&on&&ti.push({name:"arrow",options:{element:on,padding:3}}),ti.push.apply(ti,(fe==null?void 0:fe.modifiers)||[]),g.popperInstance=bz(Ui,E,Object.assign({},fe,{placement:ye,onFirstUpdate:f,modifiers:ti}))}function J(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function ie(){var Y=g.props.appendTo,fe,ye=N();g.props.interactive&&Y===UE||Y==="parent"?fe=ye.parentNode:fe=VE(Y,[ye]),fe.contains(E)||fe.appendChild(E),g.state.isMounted=!0,K()}function oe(){return bu(E.querySelectorAll("[data-tippy-root]"))}function $(Y){g.clearDelayTimeouts(),Y&&U("onTrigger",[g,Y]),z();var fe=F(!0),ye=T(),_e=ye[0],xe=ye[1];jn.isTouch&&_e==="hold"&&xe&&(fe=xe),fe?r=setTimeout(function(){g.show()},fe):g.show()}function Z(Y){if(g.clearDelayTimeouts(),U("onUntrigger",[g,Y]),!g.state.isVisible){P();return}if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Y.type)>=0&&s)){var fe=F(!1);fe?i=setTimeout(function(){g.state.isVisible&&g.hide()},fe):o=requestAnimationFrame(function(){g.hide()})}}function ee(){g.state.isEnabled=!0}function ne(){g.hide(),g.state.isEnabled=!1}function de(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function ve(Y){if(!g.state.isDestroyed){U("onBeforeUpdate",[g,Y]),he();var fe=g.props,ye=m0(t,Object.assign({},fe,f0(Y),{ignoreAttributes:!0}));g.props=ye,se(),fe.interactiveDebounce!==ye.interactiveDebounce&&(C(),p=u0(be,ye.interactiveDebounce)),fe.triggerTarget&&!ye.triggerTarget?Yi(fe.triggerTarget).forEach(function(_e){_e.removeAttribute("aria-expanded")}):ye.triggerTarget&&t.removeAttribute("aria-expanded"),L(),q(),O&&O(fe,ye),g.popperInstance&&(K(),oe().forEach(function(_e){requestAnimationFrame(_e._tippy.popperInstance.forceUpdate)})),U("onAfterUpdate",[g,Y])}}function ge(Y){g.setProps({content:Y})}function qt(){var Y=g.state.isVisible,fe=g.state.isDestroyed,ye=!g.state.isEnabled,_e=jn.isTouch&&!g.props.touch,xe=Ff(g.props.duration,0,_n.duration);if(!(Y||fe||ye||_e)&&!N().hasAttribute("disabled")&&(U("onShow",[g],!1),g.props.onShow(g)!==!1)){if(g.state.isVisible=!0,A()&&(E.style.visibility="visible"),q(),z(),g.state.isMounted||(E.style.transition="none"),A()){var Et=I(),on=Et.box,Ui=Et.content;zf([on,Ui],0)}f=function(){var ti;if(!(!g.state.isVisible||u)){if(u=!0,E.offsetHeight,E.style.transition=g.props.moveTransition,A()&&g.props.animation){var Pc=I(),Ml=Pc.box,Vi=Pc.content;zf([Ml,Vi],xe),d0([Ml,Vi],"visible")}j(),L(),c0(Uf,g),(ti=g.popperInstance)==null||ti.forceUpdate(),U("onMount",[g]),g.props.animation&&A()&&H(xe,function(){g.state.isShown=!0,U("onShown",[g])})}},ie()}}function Re(){var Y=!g.state.isVisible,fe=g.state.isDestroyed,ye=!g.state.isEnabled,_e=Ff(g.props.duration,1,_n.duration);if(!(Y||fe||ye)&&(U("onHide",[g],!1),g.props.onHide(g)!==!1)){if(g.state.isVisible=!1,g.state.isShown=!1,u=!1,s=!1,A()&&(E.style.visibility="hidden"),C(),P(),q(!0),A()){var xe=I(),Et=xe.box,on=xe.content;g.props.animation&&(zf([Et,on],_e),d0([Et,on],"hidden"))}j(),L(),g.props.animation?A()&&B(_e,g.unmount):g.unmount()}}function Mt(Y){M().addEventListener("mousemove",p),c0(na,p),p(Y)}function Mc(){g.state.isVisible&&g.hide(),g.state.isMounted&&(J(),oe().forEach(function(Y){Y._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),Uf=Uf.filter(function(Y){return Y!==g}),g.state.isMounted=!1,U("onHidden",[g]))}function Sm(){g.state.isDestroyed||(g.clearDelayTimeouts(),g.unmount(),he(),delete t._tippy,g.state.isDestroyed=!0,U("onDestroy",[g]))}}function Nl(t,e){e===void 0&&(e={});var n=_n.plugins.concat(e.plugins||[]);Rz();var r=Object.assign({},e,{plugins:n}),i=_z(t),o=i.reduce(function(s,l){var a=l&&Uz(l,r);return a&&s.push(a),s},[]);return Nc(t)?o[0]:o}Nl.defaultProps=_n;Nl.setDefaultProps=Bz;Nl.currentInput=jn;Object.assign({},PE,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Nl.setDefaultProps({render:KE});const Vz=({renderers:t})=>it.createElement(it.Fragment,null,Object.entries(t).map(([e,n])=>Px.createPortal(n.reactElement,n.element,e)));class Hz extends it.Component{constructor(e){super(e),this.editorContentRef=it.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?ju.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return it.createElement(it.Fragment,null,it.createElement("div",{ref:this.editorContentRef,...n}),it.createElement(Vz,{renderers:this.state.renderers}))}}const Wz=t=>{const e=it.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return it.createElement(Hz,{key:e,...t})},Kz=it.memo(Wz);class Gz extends d5{constructor(){super(...arguments),this.contentComponent=null}}function Jz(){const[,t]=G.useState(0);return()=>t(e=>e+1)}const Yz=(t={},e=[])=>{const[n,r]=G.useState(null),i=Jz(),{onBeforeCreate:o,onBlur:s,onCreate:l,onDestroy:a,onFocus:u,onSelectionUpdate:c,onTransaction:d,onUpdate:f}=t,h=G.useRef(o),p=G.useRef(s),v=G.useRef(l),b=G.useRef(a),m=G.useRef(u),y=G.useRef(c),w=G.useRef(d),g=G.useRef(f);return G.useEffect(()=>{n&&(o&&(n.off("beforeCreate",h.current),n.on("beforeCreate",o),h.current=o),s&&(n.off("blur",p.current),n.on("blur",s),p.current=s),l&&(n.off("create",v.current),n.on("create",l),v.current=l),a&&(n.off("destroy",b.current),n.on("destroy",a),b.current=a),u&&(n.off("focus",m.current),n.on("focus",u),m.current=u),c&&(n.off("selectionUpdate",y.current),n.on("selectionUpdate",c),y.current=c),d&&(n.off("transaction",w.current),n.on("transaction",d),w.current=d),f&&(n.off("update",g.current),n.on("update",f),g.current=f))},[o,s,l,a,u,c,d,f,n]),G.useEffect(()=>{let S=!0;const E=new Gz(t);return r(E),E.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{S&&i()})})}),()=>{S=!1}},e),G.useEffect(()=>()=>{n==null||n.destroy()},[n]),n},GE=G.createContext({editor:null}),Qz=GE.Consumer,Xz=({children:t,slotAfter:e,slotBefore:n,...r})=>{const i=Yz(r);return i?it.createElement(GE.Provider,{value:{editor:i}},n,it.createElement(Qz,null,({editor:o})=>it.createElement(Kz,{editor:o})),t,e):null},Zz=G.createContext({onDragStart:void 0}),e6=()=>G.useContext(Zz);it.forwardRef((t,e)=>{const{onDragStart:n}=e6(),r=t.as||"div";return it.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function t6(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function n6(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class r6{constructor(e,{editor:n,props:r={},as:i="div",className:o="",attrs:s}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),s&&Object.keys(s).forEach(l=>{this.element.setAttribute(l,s[l])}),this.render()}render(){var e,n;const r=this.component,i=this.props;(t6(r)||n6(r))&&(i.ref=o=>{this.ref=o}),this.reactElement=it.createElement(r,{...i}),(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,n;(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.removeRenderer(this.id)}}const i6=/^\s*>\s$/,o6=zt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ml({find:i6,type:this.type})]}}),s6=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,l6=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,a6=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,u6=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,c6=Gn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Do({find:s6,type:this.type}),Do({find:a6,type:this.type})]},addPasteRules(){return[$o({find:l6,type:this.type}),$o({find:u6,type:this.type})]}}),f6=zt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Qe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),v0=Gn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=_c(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),b0=/^\s*([-+*])\s$/,JE=zt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(f6.name,this.editor.getAttributes(v0.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ml({find:b0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ml({find:b0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(v0.name),editor:this.editor})),[t]}}),d6=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,h6=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,p6=Gn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Do({find:d6,type:this.type})]},addPasteRules(){return[$o({find:h6,type:this.type})]}}),m6=/^```([a-z]+)?[\s\n]$/,g6=/^~~~([a-z]+)?[\s\n]$/,y6=zt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Qe(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[Eh({find:m6,type:this.type,getAttributes:t=>({language:t[1]})}),Eh({find:g6,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new rn({key:new Xn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(we.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),v6=zt.create({name:"doc",topNode:!0,content:"block+"});function b6(t={}){return new rn({view(e){return new w6(e,t)}})}class w6{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=l?c.bottom:c.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=i.getBoundingClientRect();o=l.left-i.scrollLeft,s=l.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=PS(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const S6=Xt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[b6(this.options)]}});class We extends Ee{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return We.valid(r)?new We(r):Ee.near(r)}content(){return le.empty}eq(e){return e instanceof We&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new We(e.resolve(n.pos))}getBookmark(){return new wm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!E6(e)||!O6(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&We.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let a=e.doc.resolve(i);if(We.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!me.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(We.valid(l))return l}return null}}}We.prototype.visible=!1;We.findFrom=We.findGapCursorFrom;Ee.jsonID("gapcursor",We);class wm{constructor(e){this.pos=e}map(e){return new wm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return We.valid(n)?new We(n):Ee.near(n)}}function E6(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function O6(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function k6(){return new rn({props:{decorations:_6,createSelectionBetween(t,e,n){return e.pos==n.pos&&We.valid(n)?new We(n):null},handleClick:T6,handleKeyDown:x6,handleDOMEvents:{beforeinput:A6}}})}const x6=gE({ArrowLeft:ra("horiz",-1),ArrowRight:ra("horiz",1),ArrowUp:ra("vert",-1),ArrowDown:ra("vert",1)});function ra(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof we){if(!o.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=We.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new We(u))),!0):!1}}function T6(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!We.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&me.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new We(r))),!0)}function A6(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof We))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=te.empty;for(let s=r.length-1;s>=0;s--)i=te.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new le(i,0,0));return o.setSelection(we.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function _6(t){if(!(t.selection instanceof We))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ge.create(t.doc,[Kt.widget(t.selection.head,e,{key:"gapcursor"})])}const C6=Xt.create({name:"gapCursor",addProseMirrorPlugins(){return[k6()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Se(ce(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),N6=zt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Qe(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,a=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&s){const d=a.filter(f=>l.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),M6=zt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Qe(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Eh({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var wu=200,lt=function(){};lt.prototype.append=function(e){return e.length?(e=lt.from(e),!this.length&&e||e.length<wu&&this.leafAppend(e)||this.length<wu&&e.leafPrepend(this)||this.appendInner(e)):this};lt.prototype.prepend=function(e){return e.length?lt.from(e).append(this):this};lt.prototype.appendInner=function(e){return new P6(this,e)};lt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?lt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};lt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};lt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};lt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};lt.from=function(e){return e instanceof lt?e:e&&e.length?new YE(e):lt.empty};var YE=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=wu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=wu)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(lt);lt.empty=new YE([]);var P6=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(lt);const R6=500;class Tn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,c.push(d);return}if(i){c.push(new $n(d.map));let h=d.step.map(i.slice(o)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],u.push(new $n(p,void 0,void 0,u.length+c.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(o)):d.selection,a=new Tn(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new $n(e.mapping.maps[c],d,n),h;(h=a&&a.merge(f))&&(f=h,c?o.pop():l=l.slice(0,l.length-1)),o.push(f),n&&(s++,n=void 0),i||(a=f)}let u=s-r.depth;return u>I6&&(l=L6(l,u),s-=u),new Tn(l.append(o),s)}remapping(e,n){let r=new vo;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Tn(this.items.append(e.map(n=>new $n(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},i);let a=n;this.items.forEach(f=>{let h=o.getMirror(--a);if(h==null)return;s=Math.min(s,h);let p=o.maps[h];if(f.step){let v=e.steps[h].invert(e.docs[h]),b=f.selection&&f.selection.map(o.slice(a+1,h));b&&l++,r.push(new $n(p,v,b))}else r.push(new $n(p))},i);let u=[];for(let f=n;f<s;f++)u.push(new $n(o.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new Tn(c,l);return d.emptyItemCount()>R6&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let d=new $n(u.invert(),a,c),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new Tn(lt.from(i.reverse()),o)}}Tn.empty=new Tn(lt.empty,0);function L6(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class $n{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new $n(n.getMap().invert(),n,this.selection)}}}class Sr{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const I6=20;function D6(t,e,n,r){let i=n.getMeta(qr),o;if(i)return i.historyState;n.getMeta(j6)&&(t=new Sr(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(qr))return s.getMeta(qr).redo?new Sr(t.done.addTransform(n,void 0,r,xa(e)),t.undone,w0(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new Sr(t.done,t.undone.addTransform(n,void 0,r,xa(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!$6(n,t.prevRanges)),u=s?Vf(t.prevRanges,n.mapping):w0(n.mapping.maps[n.steps.length-1]);return new Sr(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,xa(e)),Tn.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Sr(t.done.rebased(n,o),t.undone.rebased(n,o),Vf(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Sr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Vf(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function $6(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function w0(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function Vf(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function QE(t,e,n,r){let i=xa(e),o=qr.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),a=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new Sr(r?a:s.remaining,r?s.remaining:a,null,0,-1);n(s.transform.setSelection(l).setMeta(qr,{redo:r,historyState:u}).scrollIntoView())}let Hf=!1,S0=null;function xa(t){let e=t.plugins;if(S0!=e){Hf=!1,S0=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Hf=!0;break}}return Hf}const qr=new Xn("history"),j6=new Xn("closeHistory");function B6(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new rn({key:qr,state:{init(){return new Sr(Tn.empty,Tn.empty,null,0,-1)},apply(e,n,r){return D6(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?XE:r=="historyRedo"?ZE:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const XE=(t,e)=>{let n=qr.getState(t);return!n||n.done.eventCount==0?!1:(e&&QE(n,t,e,!1),!0)},ZE=(t,e)=>{let n=qr.getState(t);return!n||n.undone.eventCount==0?!1:(e&&QE(n,t,e,!0),!0)},F6=Xt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>XE(t,e),redo:()=>({state:t,dispatch:e})=>ZE(t,e)}},addProseMirrorPlugins(){return[B6(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),z6=zt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Qe(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:o})=>{var s;if(o){const{$to:l}=i.selection,a=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(we.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(me.create(i.doc,l.pos)):i.setSelection(we.create(i.doc,l.pos));else{const u=(s=l.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();u&&(i.insert(a,u),i.setSelection(we.create(i.doc,a+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[h5({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),q6=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,U6=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,V6=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,H6=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,W6=Gn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Do({find:q6,type:this.type}),Do({find:V6,type:this.type})]},addPasteRules(){return[$o({find:U6,type:this.type}),$o({find:H6,type:this.type})]}}),eO=zt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Qe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),K6=zt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Qe(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),E0=Gn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=_c(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),O0=/^(\d+)\.\s$/,tO=zt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Qe(this.options.HTMLAttributes,n),0]:["ol",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(K6.name,this.editor.getAttributes(E0.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ml({find:O0,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ml({find:O0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(E0.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),G6=zt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),J6=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Y6=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Q6=Gn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Qe(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return cm()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[Do({find:J6,type:this.type})]},addPasteRules(){return[$o({find:Y6,type:this.type})]}}),X6=zt.create({name:"text",group:"inline"}),Z6=Xt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,l,a,u,c,d,f,h,p,v,b,m;const y=[];return this.options.blockquote!==!1&&y.push(o6.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&y.push(c6.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&y.push(JE.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&y.push(p6.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&y.push(y6.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&y.push(v6.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&y.push(S6.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&y.push(C6.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&y.push(N6.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&y.push(M6.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&y.push(F6.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&y.push(z6.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&y.push(W6.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&y.push(eO.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&y.push(tO.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&y.push(G6.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&y.push(Q6.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&y.push(X6.configure((m=this.options)===null||m===void 0?void 0:m.text)),y}});function e8(t){var e;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=t,l=p5(n),a=new RegExp(`\\s${l}$`),u=o?"^":"",c=r?new RegExp(`${u}${l}.*?(?=\\s${l}|$)`,"gm"):new RegExp(`${u}(?:^)?${l}[^\\s${l}]*`,"gm"),d=((e=s.nodeBefore)===null||e===void 0?void 0:e.isText)&&s.nodeBefore.text;if(!d)return null;const f=s.pos-d.length,h=Array.from(d.matchAll(c)).pop();if(!h||h.input===void 0||h.index===void 0)return null;const p=h.input.slice(Math.max(0,h.index-1),h.index),v=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(p);if(i!==null&&!v)return null;const b=f+h.index;let m=b+h[0].length;return r&&a.test(d.slice(m-1,m+1))&&(h[0]+=" ",m+=1),b<s.pos&&m>=s.pos?{range:{from:b,to:m},query:h[0].slice(n.length),text:h[0]}:null}const t8=new Xn("suggestion");function n8({pluginKey:t=t8,editor:e,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:l="suggestion",command:a=()=>null,items:u=()=>[],render:c=()=>({}),allow:d=()=>!0}){let f;const h=c==null?void 0:c(),p=new rn({key:t,view(){return{update:async(v,b)=>{var m,y,w,g,S,E,O;const k=(m=this.key)===null||m===void 0?void 0:m.getState(b),_=(y=this.key)===null||y===void 0?void 0:y.getState(v.state),T=k.active&&_.active&&k.range.from!==_.range.from,x=!k.active&&_.active,A=k.active&&!_.active,N=!x&&!A&&k.query!==_.query,M=x||T,I=N&&!T,F=A||T;if(!M&&!I&&!F)return;const q=F&&!M?k:_,U=v.dom.querySelector(`[data-decoration-id="${q.decorationId}"]`);f={editor:e,range:q.range,query:q.query,text:q.text,items:[],command:j=>{a({editor:e,range:q.range,props:j})},decorationNode:U,clientRect:U?()=>{var j;const{decorationId:L}=(j=this.key)===null||j===void 0?void 0:j.getState(e.state),C=v.dom.querySelector(`[data-decoration-id="${L}"]`);return(C==null?void 0:C.getBoundingClientRect())||null}:null},M&&((w=h==null?void 0:h.onBeforeStart)===null||w===void 0||w.call(h,f)),I&&((g=h==null?void 0:h.onBeforeUpdate)===null||g===void 0||g.call(h,f)),(I||M)&&(f.items=await u({editor:e,query:q.query})),F&&((S=h==null?void 0:h.onExit)===null||S===void 0||S.call(h,f)),I&&((E=h==null?void 0:h.onUpdate)===null||E===void 0||E.call(h,f)),M&&((O=h==null?void 0:h.onStart)===null||O===void 0||O.call(h,f))},destroy:()=>{var v;f&&((v=h==null?void 0:h.onExit)===null||v===void 0||v.call(h,f))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(v,b,m,y){const{isEditable:w}=e,{composing:g}=e.view,{selection:S}=v,{empty:E,from:O}=S,k={...b};if(k.composing=g,w&&(E||e.view.composing)){(O<b.range.from||O>b.range.to)&&!g&&!b.composing&&(k.active=!1);const _=e8({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:S.$from}),T=`id_${Math.floor(Math.random()*4294967295)}`;_&&d({editor:e,state:y,range:_.range})?(k.active=!0,k.decorationId=b.decorationId?b.decorationId:T,k.range=_.range,k.query=_.query,k.text=_.text):k.active=!1}else k.active=!1;return k.active||(k.decorationId=null,k.range={from:0,to:0},k.query=null,k.text=null),k}},props:{handleKeyDown(v,b){var m;const{active:y,range:w}=p.getState(v.state);return y&&((m=h==null?void 0:h.onKeyDown)===null||m===void 0?void 0:m.call(h,{view:v,event:b,range:w}))||!1},decorations(v){const{active:b,range:m,decorationId:y}=p.getState(v);return b?Ge.create(v.doc,[Kt.inline(m.from,m.to,{nodeName:s,class:l,"data-decoration-id":y})]):null}}});return p}const r8=new Xn("mention"),i8=zt.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:t,node:e}){var n;return`${t.suggestion.char}${(n=e.attrs.label)!==null&&n!==void 0?n:e.attrs.id}`},suggestion:{char:"@",pluginKey:r8,command:({editor:t,range:e,props:n})=>{var r,i;const o=t.view.state.selection.$to.nodeAfter;((r=o==null?void 0:o.text)===null||r===void 0?void 0:r.startsWith(" "))&&(e.to+=1),t.chain().focus().insertContentAt(e,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),(i=window.getSelection())===null||i===void 0||i.collapseToEnd()},allow:({state:t,range:e})=>{const n=t.doc.resolve(e.from),r=t.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(r)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:t=>t.getAttribute("data-id"),renderHTML:t=>t.id?{"data-id":t.id}:{}},label:{default:null,parseHTML:t=>t.getAttribute("data-label"),renderHTML:t=>t.label?{"data-label":t.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:t,HTMLAttributes:e}){return["span",Qe({"data-type":this.name},this.options.HTMLAttributes,e),this.options.renderLabel({options:this.options,node:t})]},renderText({node:t}){return this.options.renderLabel({options:this.options,node:t})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:t,state:e})=>{let n=!1;const{selection:r}=e,{empty:i,anchor:o}=r;return i?(e.doc.nodesBetween(o-1,o,(s,l)=>{if(s.type.name===this.name)return n=!0,t.insertText(this.options.suggestion.char||"",l,l+s.nodeSize),!1}),n):!1})}},addProseMirrorPlugins(){return[n8({editor:this.editor,...this.options.suggestion})]}}),o8=({suggestion:t,textVal:e,onChange:n})=>{const r=[Z6,i8.configure({HTMLAttributes:{class:"text-purple-600 font-semibold"},renderLabel({options:i,node:o}){return`${i.suggestion.char}${o.attrs.label??o.attrs.id}`},suggestion:t}),eO,JE.configure({HTMLAttributes:{class:"list-disc pl-5"},itemTypeName:"listItem"}),tO];return ae.jsx(ae.Fragment,{children:ae.jsx("div",{className:"bg-white p-2 border border- rounded-lg shadow-md",children:ae.jsx(Xz,{onUpdate:n,extensions:r})})})},nO=G.forwardRef((t,e)=>{var a;const[n,r]=G.useState(0),i=u=>{const c=t.items[u];c&&t.command({id:c==null?void 0:c.id,label:c==null?void 0:c.username})},o=()=>{r((n+t.items.length-1)%t.items.length)},s=()=>{r((n+1)%t.items.length)},l=()=>{i(n)};return G.useEffect(()=>r(0),[t.items]),G.useImperativeHandle(e,()=>({onKeyDown:({event:u})=>u.key==="ArrowUp"?(o(),!0):u.key==="ArrowDown"?(s(),!0):u.key==="Enter"?(l(),!0):!1})),ae.jsx("div",{className:"items",children:((a=t==null?void 0:t.items)==null?void 0:a.length)>0?t.items.map((u,c)=>ae.jsx("button",{className:`item ${c===n?"is-selected":""}`,onClick:()=>i(c),children:u.username},c)):ae.jsx("div",{className:"item",children:"No result"})})});nO.displayName="MentionList";const s8=async t=>Go.get("/test-users",{params:t}).then(e=>e.data),l8={items:async({query:t})=>new Promise(e=>{qA(()=>{e(a8(t))},500)}),render:()=>{let t,e,n=!1;return{onStart:r=>{t=new r6(nO,{props:r,editor:r.editor,isLoading:n}),r.clientRect&&(e=Nl("body",{getReferenceClientRect:r.clientRect,appendTo:()=>document.body,content:t.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(r){t.updateProps(r),r.clientRect&&e[0].setProps({getReferenceClientRect:r.clientRect})},onKeyDown(r){var i;return r.event.key==="Escape"?(e[0].hide(),!0):(i=t.ref)==null?void 0:i.onKeyDown(r)},onExit(){e[0].destroy(),t.destroy()}}}},a8=async t=>s8({limit:5,filter:{username:t==null?void 0:t.toLowerCase()}}).then(e=>e==null?void 0:e.data),rO=({id:t,label:e,name:n,onChange:r,onBlur:i,errorMsg:o,type:s,placeholder:l,touched:a,highlight:u,theme:c,disabled:d,...f})=>ae.jsxs(ae.Fragment,{children:[e&&ae.jsxs("label",{htmlFor:n,className:"mb-1 block text-base font-medium text-primary-900",children:[e,ae.jsxs("span",{className:"font-bold",children:[" ",u]})]}),ae.jsx("div",{className:`relative w-full ${c=="secondary",""}`,children:ae.jsx("input",{id:t,type:s,name:n,onChange:r,placeholder:l,onBlur:i,disabled:d,className:"bg-white p-2 w-full border border- rounded-lg shadow-md outline-none",...f})}),o&&a?ae.jsx("span",{className:"error mt-1 text-xs text-danger-500",children:o}):null]});rO.defaultProps={disabled:!1,label:"",highlight:"",id:void 0};const u8=()=>{const t=Hb(),e={title:"",content:"",user_id:[]},n=r=>{r.content=VA(r.content),r.user_id=UA(r.content),pw(r).then(i=>{t("/")})};return ae.jsx(ae.Fragment,{children:ae.jsx(kp,{children:ae.jsx("div",{className:"w-2/3 mx-auto",children:ae.jsx(y$,{initialValues:e,onSubmit:n,children:({values:r,setFieldValue:i,handleChange:o,handleBlur:s})=>ae.jsx(uS,{children:ae.jsxs("div",{className:"space-y-3",children:[ae.jsx("div",{className:"",children:ae.jsx(rO,{name:"title",values:r.title,onChange:o,onBlur:s})}),ae.jsx("div",{className:"",children:ae.jsx(o8,{textVal:r.content,suggestion:l8,onChange:l=>i("content",l.editor.getHTML())})}),ae.jsx("div",{className:"",children:ae.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-3 py-2 rounded-lg",children:"Submit"})})]})})})})})})};function c8(){return ae.jsxs(ST,{children:[ae.jsx(ga,{path:"/",element:ae.jsx(WA,{})}),ae.jsx(ga,{path:"/quill/create",element:ae.jsx(_R,{})}),ae.jsx(ga,{path:"/tip-tap/create",element:ae.jsx(u8,{})})]})}function f8(){return ae.jsx(ae.Fragment,{children:ae.jsx(OT,{children:ae.jsx(c8,{})})})}Wf.createRoot(document.getElementById("root")).render(ae.jsx(f8,{}))});export default d8();
